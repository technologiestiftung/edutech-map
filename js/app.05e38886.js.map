{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/GhostButton/index.js","webpack:///./src/components/Card/CardHeader.js","webpack:///./src/components/Icon/index.js","webpack:///./src/components/RoundButton/index.js","webpack:///./src/styles/Utils.js","webpack:///./src/modules/Map/index.js","webpack:///./src/modules/Map/MapUtils.js","webpack:///./src/modules/Tooltip/index.js","webpack:///./src/components/UIMap/index.js","webpack:///./public/images/tsb-logo-coloured.svg","webpack:///./public/images/beBerlin.svg","webpack:///./public/images/ibb.jpg","webpack:///./public/images/edutech-regular.svg","webpack:///./public/images/edutech-homeschool.svg","webpack:///./src/modules/Map/Layers/MarkerLayer.js","webpack:///./src/modules/Map/MapViews/FilterView.js","webpack:///./src/components/TSBLogo/index.js","webpack:///./src/modules/Map/Other/LogoTile.js","webpack:///./src/state/Selectors.js","webpack:///./src/state/Store.js","webpack:///./src/styles/DefaultTheme.js","webpack:///./src/components/Spinner/index.js","webpack:///./src/components/EdgeButton/index.js","webpack:///./src/components/Nav/index.js","webpack:///./src/modules/Sidebar/SidebarClose/index.js","webpack:///./src/components/Card/CardWrapper.js","webpack:///./src/components/Card/CardCompact.js","webpack:///./src/components/Link/index.js","webpack:///./src/components/EdgeButtonSmall/index.js","webpack:///./src/components/Card/CardActions.js","webpack:///./src/components/Card/CardParagraph.js","webpack:///./src/components/Card/CardTags.js","webpack:///./src/components/Card/CardLink.js","webpack:///./src/components/Card/CardLogo.js","webpack:///./src/components/CategoryLabel/index.js","webpack:///./src/components/Card/CardBody.js","webpack:///./src/modules/Sidebar/SidebarTitle/index.js","webpack:///./src/components/Card/Detail.js","webpack:///./src/components/Select/index.js","webpack:///./src/components/Subtitle/index.js","webpack:///./src/modules/Sidebar/SidebarList/Sorter.js","webpack:///./src/modules/Sidebar/SidebarList/index.js","webpack:///./src/components/BeBerlinLogo/index.js","webpack:///./src/components/IBBLogo/index.js","webpack:///./src/components/Paragraph/index.js","webpack:///./src/modules/Sidebar/SidebarInfo/SidebarInfoLinks.js","webpack:///./src/modules/Sidebar/SidebarSubtitle/index.js","webpack:///./src/components/IconLegend/index.js","webpack:///./src/modules/Sidebar/SidebarInfo/SidebarInfoParagraph.js","webpack:///./src/modules/Sidebar/SidebarInfo/index.js","webpack:///./src/modules/Sidebar/SidebarFavorites/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/ResetFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/SearchFilter.js","webpack:///./src/components/SubCategoryTags/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/CategoryFilter.js","webpack:///./src/components/TargetGroupTags/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/TargetGroupFilter.js","webpack:///./src/components/Card/CardDivider.js","webpack:///./src/modules/Sidebar/SidebarFilter/DistrictFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/HomeschoolFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/index.js","webpack:///./src/modules/Sidebar/index.js","webpack:///./src/modules/App/AppWrapper.js","webpack:///./src/modules/App/index.js","webpack:///./src/styles/Global.js","webpack:///./src/index.js","webpack:///./src/history.js","webpack:///./src/state/dataUtils.js","webpack:///./src/utils/index.js","webpack:///./src/state/Actions.js","webpack:///./src/components/CategoryLabels/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","styled","button","props","theme","fontSizes","StyledCategoryLabels","CategoryLabels","padding","CardAddress","div","type","CardTitle","letterSpacing","margin","CardHeaderWrapper","teaserUrl","colors","black","fonts","sansBold","CardHeaderLeft","CardHeaderRight","StyledFlexWrapper","FavButton","Button","CardHeader","setDetailRoute","setSelectedData","autoid","this","toggleFav","favs","isListMode","isFav","includes","onClick","handleClick","isHomeschool","homeschool","color","categories","categoriesSelected","category","dangerouslySetInnerHTML","createMarkup","location","address","active","PureComponent","connect","state","Actions","Icon","width","height","viewBox","id","fill","opacity","cx","cy","points","stroke","strokeWidth","fillRule","size","isActive","primary","textgrey","getMediaQuery","css","breakpoints","media","LayerOrder","config","require","mapConfig","minZoom","maxZoom","dragRotate","bearing","maxBounds","accessToken","process","env","MAP_TOKEN","MapGL","ReactMapboxGl","MapWrapper","isLoading","Map","map","resize","setState","jumpTo","center","mapCenter","zoom","mapZoom","loadDataApi","layerIds","keys","style","_layers","join","lastLayerIds","MapUtils","orderLayers","MAP_STYLE","containerStyle","onStyleLoad","onData","flyToOptions","exact","path","component","FilterView","withRouter","order","forEach","filter","startsWith","layerId","getLayer","moveLayer","StyledPopup","Popup","sans","Tooltip","tooltipPos","coordinates","zIndex","tooltipData","StyledRoundButton","RoundButton","NavWrapper","isNavOpen","detailData","unfiltered","unfilteredFilterSelector","initialFilter","initialFilterSelector","uiConfig","title","label","func","zoomIn","zoomOut","pathname","useLocation","matchPath","clickTimeout","MarkerLayer","layout","onMouseMove","evt","handleMouseMove","filterCategory","feat","properties","isFiltered","clearTimeout","setTimeout","geometry","timeoutClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onTouchStart","features","renderFeat","getCanvas","cursor","setTooltipData","originalEvent","preventDefault","stopPropagation","setDetailRouteWithListPath","setTooltipPos","lngLat","lng","lat","detailId","highlightData","paintProps","idx","_","highlightFeat","find","paint","loadFilterData","labels","if","filteredDataSelector","instPerDistrictSelector","TSBLogo","a","attrs","href","target","StyledLogoTile","sansMedium","StyledTSBLogo","src","TSBLogoSrc","alt","LogoTile","dataSelector","filterSelector","instPerDistrict","geojsonToArray","geojson","dataAsArraySelector","createSelector","assign","categoryFilter","subCategoryFilter","cloneDeep","subCategoriesEmpty","targetGroupFilter","homeschoolFilter","targetGroupTagsFilter","private","institution","subCategories","targetGroupTypes","targetGroups","tagsCountTargetGroupSelector","objPrivate","objInstitution","targetgroupprivate","targetgroupinstituion","item","tagsCountSelector","obj","subCategoriesSelected","enrichedDataSelector","colorizer","colorizerLight","additionalData","districtFilter","filterDistricts","districts","nameStr","replace","filterCategories","filterSubCategories","targetGroupTypesFilter","filterTargetGroupTypes","targetGroupTagsPrivateFilter","filterTargetGroupTags","targetGroupTagsInstitutionFilter","colorLight","icon","homeschooling","filterHomeschool","activeFilter","filteredListDataSelector","listSorting","sortBy","objectSize","sort","sortData","targetGroupsArraySelector","arr","val","text","flat","favoritesSelector","filterSection","targetGroupsEmpty","Store","createStore","homeschoolTypes","info","activeP","local","selectedData","position","subCategoryList","getFavs","px","serif","mono","boxShadow","borderRadius","secondary","lightgrey","midgrey","lineHeight","StyledCircularProgress","withStyles","root","svg","CircularProgress","SpinnerBG","opacityFromState","SpinnerWrapper","Spinner","loading","Transition","in","timeout","appear","enter","exit","mountOnEnter","unmountOnExit","NavItem","NavLink","navConfig","Nav","setFilter","resetDetailRoute","setMapCenter","setDetailData","setHighlightData","to","search","EdgeButton","aria-label","StyledLink","Link","SidebarClose","setZoom","CardWrapper","StyledCardWrapper","CardCompact","ButtonWrapper","StyledA","IconWrapper","CardActionsWrapper","CardActions","FavIcon","UnFavIcon","mailTo","EdgeButtonSmall","CardParagraphWrapper","CardParagraph","addLineBreaks","className","CardTagsWrapper","CardTags","formatWebsite","str","toLowerCase","rel","CardLogoWrapper","CardImage","CardLogo","CategoryLabelDiv","hasBorder","getCategoryLabel","CardBodyWrapper","CardSectionRight","CardBody","logoUrl","logo","url","website","contact","email","phone","openingHours","openinghours","CardLink","description","DetailTitle","SidebarTitle","DetailHeader","DetailCardWrapper","StyledCardBody","DetailCard","maxHeight","innerWidth","innerHeight","Math","max","onClose","select","h3","SorterWrapper","StyledSelect","Select","Sorter","setListSorting","Subtitle","onChange","handleChange","ListItems","SidebarList","Detail","BeBerlinLogo","BeBerlinLogoSrc","IBBLogo","IBBLogoSrc","LinksWrapper","SidebarLinks","LinkWrapper","urllink","labellink","content","LegendWrapper","isVisible","Paragraph","regular","homeschoolIcon","intro","iconLegend","boolActive","SidebarSubtitle","Separator","worktitle","work","workintro","contacttext","links","StyledEmptyFavorites","EmptyFavorites","ResetFilterButtonWrapper","ResetFilterButton","GhostButton","ResetFilter","SearchFilterWrapper","SearchFilter","prevProps","ref","options","getOptionValue","option","getOptionLabel","placeholder","classNamePrefix","isClearable","CategoryLabelWrapper","CategoryLabel","SubCategoryTags","subCat","toggleSubCategoryFilter","setActiveFilter","tagsCount","subCategory","count","undefined","getSubCategoryLabel","CategoryFilterWrapper","StyledFormGroup","FormGroup","StyledCheckbox","checked","Checkbox","StyledFormControlLabel","fontSize","fontFamily","FormControlLabel","CategoryFilter","service","app","hardware","toggleCategoryFilter","row","control","labelPlacement","Component","TargetGroupTags","groupTag","targetGroupType","toggleTargetGroupTagFilter","tagsCountTargetGroup","getTargetGroupLabel","TargetGroupFilterWrapper","display","flexDirection","toggleTargetGroupTypeFilter","getTargetGroupType","CardDivider","DistrictFilterWrapper","StyledOption","Option","alias","DistrictFilter","setDistrictFilter","selectedDistrict","selectValue","HomeschoolFilter","toggleHomeschoolFilter","getHomeschoolType","StyledDivider","useState","TargetGroupFilter","SidebarWrapper","SidebarContent","Sidebar","children","match","SidebarFilter","SidebarFavorites","SidebarInfo","StyledAppWrapper","muiTheme","createMuiTheme","typography","AppWrapper","_paq","piwik","Theme","loadEntryDataAction","action","loadEntryData","updateLocation","parsedQuery","queryString","parse","history","listen","NotFoundRoute","App","createGlobalStyle","styledNormalize","document","createElement","ReactDOM","render","store","Global","body","appendChild","createBrowserHistory","direction","aObj","bObj","b","localeCompare","__html","RegExp","group","dict","administration","libraries","eduInstitutions","museum","educators","companies","inititatives","other","kita","schoolinst","uniinst","none","family","preschool","lifelong","pupils","pupilsgs","pupilsgstwo","pupilsgssec","pupilsgssectwo","afternoon","students","subcategory","getUniqueSubCategories","allCategories","reduce","acc","concat","Set","getColorizer","uniqueCategories","normalizedCategories","cat","colorScale","scaleOrdinal","domain","range","loweredCategory","toString","some","targetGroupsSelected","targetGroupTagsSelectedArr","u","g","getElementsByTagName","async","defer","parentNode","insertBefore","localStorage","favKey","setFavs","set","feature","outOfBounds","polygon","spatial_name","pointInPolygon","featOutOfBounds","parsedData","district","countInstPerDistrict","districtsCenter","bezirke","pos","spatial_alias","fetchJSON","fetch","then","res","json","fetchTopoJSON","Promise","resolve","reject","topoData","objects","isMobile","navigator","userAgent","createArray","createTargetGroupTags","concattedKey","String","checkTargetGroups","createPoint","randomizeCoord","parseFloat","coord","randomValue","random","all","filtered","newLocation","isNaN","institutions","institutionsPerDistrict","getState","nextLocation","favId","xor","deactivate","targetGroup","targetGroupTags"],"mappings":"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","file":"js/app.05e38886.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([304,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import styled from 'styled-components';\n\nexport default styled.button`\n  background: none;\n  border: none;\n  color: #777;\n  cursor: pointer;\n  font-size: ${props => props.theme.fontSizes[0]};\n  padding: 0;\n  padding-top: 8px;\n  line-height: 1;\n\n  &:hover {\n    opacity: 0.75;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport FavIcon from '@material-ui/icons/FavoriteBorder';\nimport UnFavIcon from '@material-ui/icons/Favorite';\n\nimport { createMarkup } from '~/state/dataUtils';\nimport CategoryLabels from '~/components/CategoryLabels';\nimport Icon from '~/components/Icon';\nimport Button from '~/components/GhostButton';\nimport Actions from '~/state/Actions';\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  margin-bottom: ${props => props.theme.padding[0]};\n`;\n\nconst CardAddress = styled.div`\n  font-size: 12px;\n  line-height: 150%;\n  color: ${props => props.type}\n`;\n\nconst CardTitle = styled.div`\n  font-size: 14px;\n  font-weight: bold;\n  margin: 4px 0;\n  line-height: 1.2;\n  letter-spacing: ${props => props.theme.letterSpacing[1]};\n  margin-bottom: ${props => props.theme.margin[0]};\n  color: ${props => props.type}\n`;\n\nconst CardHeaderWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  ${CardAddress} {\n    color: ${props => props.type}\n  }\n\n  ${CardTitle} {\n    color: ${props => (props.teaserUrl ? 'white' : props.theme.colors.black)};\n    font-family: ${props => props.theme.fonts.sansBold };\n    font-weight: 600;\n  }\n`;\n\nconst CardHeaderLeft = styled.div`\n  overflow: hidden;\n  width: 290px;\n  margin-right: 10px;\n`;\n\nconst CardHeaderRight = styled.div`\n  margin-left: auto;\n`;\n\nconst StyledFlexWrapper = styled.div`\n  display: flex;\n\n  svg {\n    width: 15px;\n    min-width: 15px;\n    transform: translateY(3px);\n    height: 15px;\n    margin-right: 10px;\n  }\n`;\n\nconst FavButton = styled(Button)`\n  color: black;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    width: 18px;\n    height: 18px;\n  }\n`;\n\nclass CardHeader extends PureComponent {\n\n  handleClick = (d) => {\n    const { setDetailRoute, setSelectedData } = this.props;\n    setDetailRoute(d.autoid);\n    setSelectedData(true);\n  }\n\n  render() {\n    const {\n      data,\n      type,\n      toggleFav,\n      favs,\n      isListMode\n    } = this.props;\n\n    const isFav = favs.includes(data.autoid);\n\n    return (\n      <Fragment>\n        <CardHeaderWrapper>\n          <CardHeaderLeft onClick={() => this.handleClick(data)} >\n            <StyledFlexWrapper>\n              {isListMode && (<Icon isHomeschool={data.homeschool} color={data.color}/>)}\n              <CardTitle type={type}>{data.name}</CardTitle>\n            </StyledFlexWrapper>\n            <StyledCategoryLabels categories={data.categoriesSelected} type={type} category={data.category} /*hasBorder={teaserUrl}*/ />\n            <CardAddress dangerouslySetInnerHTML={createMarkup(data.location[0].address)} type={type}></CardAddress>\n          </CardHeaderLeft>\n          <CardHeaderRight>\n            {isListMode && (\n              <FavButton\n                onClick={() => toggleFav(data.autoid)}\n                active={isFav}\n              >\n                {isFav ? <UnFavIcon /> : <FavIcon />}\n              </FavButton>\n            )}\n          </CardHeaderRight>\n        </CardHeaderWrapper>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(CardHeader);\n","import React from \"react\";\n\nconst Icon = p => {\n  const { isHomeschool, color } = p;\n  return (\n    <>\n      {isHomeschool && (\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n          <g id=\"edutech-service\" fill={color}>\n            <circle\n              id=\"Oval-Copy-34\"\n              opacity=\"0.200000003\"\n              cx=\"10\"\n              cy=\"10\"\n              r=\"10\"\n            ></circle>\n            <polygon\n              id=\"Star-Copy-7\"\n              points=\"10 13.3333333 6.08143165 15.3934466 6.82981161 11.0300566 3.65962322 7.9398867 8.04071583 7.30327669 10 3.33333333 11.9592842 7.30327669 16.3403768 7.9398867 13.1701884 11.0300566 13.9185683 15.3934466\"\n            ></polygon>\n          </g>\n        </svg>\n      )}\n      {!isHomeschool && (\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n          <g\n            id=\"Page-1\"\n            stroke=\"none\"\n            strokeWidth=\"1\"\n            fill=\"none\"\n            fillRule=\"evenodd\"\n          >\n            <g id=\"Group-16\" fill={color}>\n              <circle id=\"Oval-Copy-34\" cx=\"10\" cy=\"10\" r=\"5\"></circle>\n              <circle\n                id=\"Oval-Copy-34\"\n                opacity=\"0.200000003\"\n                cx=\"10\"\n                cy=\"10\"\n                r=\"10\"\n              ></circle>\n            </g>\n          </g>\n        </svg>\n      )}\n    </>\n  );\n};\n\nexport default Icon;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  width: ${props => props.size || 36}px;\n  height: ${props => props.size || 36}px;\n  background-color: ${props => (props.isActive ? props.theme.colors.primary : '#000')};\n  color: white;\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => props.theme.colors.textgrey};\n  }\n`;\n","import { css } from 'styled-components';\n\n// https://github.com/styled-components/styled-components/blob/master/docs/tips-and-tricks.md\nexport function getMediaQuery(size) {\n  return (...args) => css`\n    @media (min-width: ${size}px) {\n      ${css(...args)}\n    }\n  `;\n}\n\nexport const breakpoints = {\n  s: 460,\n  m: 768,\n  l: 1024\n};\n\nexport const media = {\n  s: getMediaQuery(breakpoints.s),\n  m: getMediaQuery(breakpoints.m),\n  l: getMediaQuery(breakpoints.l)\n};\n\nexport default {\n  getMediaQuery,\n  breakpoints,\n  media\n};\n","import React, { PureComponent } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport ReactMapboxGl from 'react-mapbox-gl';\nimport MapUtils from './MapUtils';\n\nconst LayerOrder = ['DistrictsLayer', 'FilteredMarkerLayer', 'MarkerLayer', 'HighlightLayer'];\n\nimport FilterView from './MapViews/FilterView';\nimport Tooltip from '../Tooltip';\nimport UIMap from '../../components/UIMap';\nimport LogoTile from './Other/LogoTile';\n\nimport Actions from '~/state/Actions';\nconst config = require('../../../config.json');\n\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst mapConfig = {\n    minZoom: 6,\n    maxZoom: 17,\n    dragRotate: false,\n    bearing: 0,\n    maxBounds: [\n      [10, 50],\n      [15, 54]\n    ],\n    accessToken: process.env.MAP_TOKEN\n  };\n\n  const MapGL = ReactMapboxGl({ ...mapConfig });\n\n  const MapWrapper = styled.div`\n    height: 100vh;\n    width: 100%;\n    flex: 1;\n    flex-shrink: 1;\n    flex-grow: 1;\n    position: relative;\n    opacity: ${props => (props.isLoading ? 0 : 1)};\n`;\n\nclass Map extends PureComponent {\n    state = {\n        map: false,\n    };\n\n    componentDidMount() {\n        this.props.loadDataApi();\n    }\n\n    onData(map) {\n        const layerIds = Object.keys(map.style._layers).join(''); // eslint-disable-line\n        if (layerIds !== this.lastLayerIds) {\n            MapUtils.orderLayers(map, LayerOrder);\n        }\n        this.lastLayerIds = layerIds;\n    }\n\n    onStyleLoad = (map) => {\n        map.resize();\n        this.setState({map});\n\n        map.jumpTo({\n            center: this.props.mapCenter,\n            zoom: this.props.mapZoom[0]\n        });\n    }\n\n    render() {\n        const {\n            mapZoom,\n            mapCenter,\n          } = this.props;\n\n        const isLoading = this.props.isLoading;\n\n        return (\n            <MapWrapper isLoading={isLoading}>\n                <MapGL\n                    zoom={mapZoom}\n                    center={mapCenter}\n                    style={process.env.MAP_STYLE}\n                    containerStyle={{ height: '100%', width: '100%' }}\n                    onStyleLoad={map => this.onStyleLoad(map)}\n                    onData={map => this.onData(map)}\n                    flyToOptions={config.map.flyToOptions}\n                >\n                    <Route exact path={['/', '/suche', '/liste', '/favoriten', '/info']} component={FilterView} />\n                    <Tooltip />\n                    <UIMap map={this.state.map}/>\n                </MapGL>\n                <LogoTile/>\n            </MapWrapper>\n        )\n    }\n}\n\nexport default withRouter(connect(state => ({\n    mapZoom: state.mapZoom,\n    mapCenter: state.mapCenter,\n    data: state.data\n  }), Actions)(Map));\n","function orderLayers(map, order) {\n  const layerIds = Object.keys(map.style._layers); // eslint-disable-line\n\n  order.forEach((key) => {\n    const currentLayerIds = layerIds.filter(l => l.startsWith(key));\n\n    currentLayerIds.forEach((layerId) => {\n      if (map.getLayer(layerId)) {\n        map.moveLayer(layerId);\n      }\n    });\n  });\n}\n\nexport default {\n  orderLayers,\n};\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport { Popup } from 'react-mapbox-gl';\n\nimport CardHeader from '~/components/Card/CardHeader';\n\nconst StyledPopup = styled(Popup)`\n  &&& {\n    max-width: 250px;\n    line-height: 1;\n    font-family: ${props => props.theme.fonts.sans};\n\n    .mapboxgl-popup-content {\n      background: black;\n    }\n\n    .mapboxgl-popup-tip {\n      border-top-color: black;\n    }\n  }\n`;\n\nclass Tooltip extends PureComponent {\n  render() {\n    const { tooltipPos, data } = this.props;\n\n    if (!data) {\n      return null;\n    }\n\n    return (\n      <StyledPopup coordinates={tooltipPos} style={{ zIndex: 2000 }}>\n        <CardHeader data={data} type='white' />\n      </StyledPopup>\n    );\n  }\n}\n\nexport default connect(state => ({\n  tooltipPos: state.tooltipPos,\n  data: state.tooltipData,\n}))(Tooltip);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { matchPath, useLocation } from 'react-router-dom';\n\nimport Actions from '~/state/Actions';\nimport RoundButton from '~/components/RoundButton';\nimport { unfilteredFilterSelector, initialFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nconst StyledRoundButton = styled(RoundButton)`\n  margin-top: 5px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.sans};\n  font-size: 22px;\n  line-height: 1;\n\n  div {\n    position: relative;\n    top: 1px;\n  }\n`;\n\nimport { media } from '~/styles/Utils';\n\nconst NavWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  flex-grow: 0;\n  position: absolute;\n  background: none;\n  bottom: 15px;\n  left: 15px;\n  z-index: 1000;\n\n  ${media.m`\n    transform: ${props => (props.isNavOpen ? 'translate3d(375px, 0, 0)' : 'none')};\n    transition: transform 500ms;\n  `}\n`;\n\n\nconst UIMap = p => {\n  const { map } = p;\n\n  const zoomIn = () => {\n    if (map) {\n      map.zoomIn();\n    }\n  }\n\n  const zoomOut = () => {\n    if (map) {\n      map.zoomOut();\n    }\n  }\n\n  const navConfig = [\n    { path: '/suche', title: 'Suche und Filter' },\n    { path: '/liste', title: 'Listenansicht' },\n    { path: '/favoriten', title: 'Favoriten' },\n    { path: '/info', title: 'Info' },\n  ];\n\n  const uiConfig = [\n    { title: 'Hereinzoomen', label: '+', func: () => {zoomIn()} },\n    { title: 'Herauszoomen', label: '-', func: () => {zoomOut()} },\n  ];\n\n  const location = useLocation();\n  const { pathname } = location;\n\n  const isNavOpen = matchPath(pathname, {\n    path: navConfig.map(m => m.path),\n  }) !== null;\n\n  return (\n    <NavWrapper isNavOpen={isNavOpen}>\n      {uiConfig.map((m,i) => (\n        <StyledRoundButton key={`ui-key-${i}`} onClick={m.func}>{m.label}</StyledRoundButton>\n      ))}\n    </NavWrapper>\n  );\n}\n\nexport default connect(state => ({\n  detailData: state.detailData,\n  mapCenter: state.mapCenter,\n  unfiltered: unfilteredFilterSelector(state),\n  initialFilter: initialFilterSelector(state),\n  state: state\n}), Actions)(UIMap);\n","module.exports = __webpack_public_path__ + \"234b8c1b48eef5ab993064310b3a22e9.svg\";","module.exports = __webpack_public_path__ + \"fd4f79c3af569c604ed9f74a600c4c4b.svg\";","module.exports = __webpack_public_path__ + \"d40da7aee748304bb404786c4bc95752.jpg\";","module.exports = __webpack_public_path__ + \"965d6e144adcdcda5edeec541b61e297.svg\";","module.exports = __webpack_public_path__ + \"55ebe164c9e379a76eef820ba508aa45.svg\";","import React, { PureComponent, Fragment } from \"react\";\nimport { connect } from \"unistore/react\";\nimport Actions from \"~/state/Actions\";\nimport { Layer, Feature } from \"react-mapbox-gl\";\nimport idx from \"idx\";\n\nlet clickTimeout = null;\n\nfunction getPaintProps(props) {\n  const detailId =\n    idx(props, (_) => _.detailData.name) ||\n    idx(props, (_) => _.highlightData.name) ||\n    \"\";\n  const activeExpr = [\n    \"case\",\n    [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n    2,\n    3,\n  ];\n  const activeExprZoomedIn = [\n    \"case\",\n    [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n    12,\n    6,\n  ];\n\n  return {\n    \"circle-radius\": [\n      \"interpolate\",\n      [\"linear\"],\n      [\"zoom\"],\n      8,\n      activeExpr,\n      16,\n      activeExprZoomedIn,\n    ],\n    \"circle-color\": [\n      \"case\",\n      [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n      [\"get\", \"color\"],\n      [\"get\", \"isFiltered\"],\n      \"#B8B8B8\",\n      [\"get\", \"color\"],\n    ],\n    \"circle-stroke-color\": [\n      \"case\",\n      [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n      [\"get\", \"color\"],\n      [\"get\", \"isFiltered\"],\n      \"#E8E8E8\",\n      [\"get\", \"colorLight\"],\n    ],\n    \"circle-stroke-width\": 4,\n  };\n}\n\nclass MarkerLayer extends PureComponent {\n  timeoutClick(evt, feat) {\n    if (feat.properties && feat.properties.isFiltered) {\n      return false;\n    }\n\n    clearTimeout(clickTimeout);\n\n    clickTimeout = setTimeout(() => {\n      this.handleClick(evt, feat);\n    }, 50);\n  }\n\n  renderFeat(feat, i) {\n    const feature = (\n      <Feature\n        coordinates={feat.geometry.coordinates}\n        key={`feat-${i}`}\n        onClick={(evt) => this.timeoutClick(evt, feat)} // isMobile ? noop() :\n        onMouseEnter={(evt) => this.handleMouseEnter(evt, feat)}\n        onMouseLeave={(evt) => this.handleMouseLeave(evt)}\n        onTouchStart={(evt) => this.handleClick(evt)}\n        properties={feat.properties}\n      />\n    );\n    return feature;\n  }\n\n  filterCategory(data, category, isFiltered = false) {\n    return data.features\n      .filter((d) =>\n        isFiltered\n          ? d.properties.isFiltered\n          : !d.properties.isFiltered &&\n            d.properties.category === category &&\n            d.properties.homeschool\n      )\n      .map((feat, i) => this.renderFeat(feat, i));\n  }\n\n  renderLayer = (category) => {\n    return (\n      <Layer\n        type=\"symbol\"\n        id=\"icon\"\n        layout={{ \"icon-image\": \"edutech-app\", \"icon-size\": 1.25 }}\n        onMouseMove={(evt) => this.handleMouseMove(evt)}\n      >\n        {this.filterCategory(data, category)}\n      </Layer>\n    );\n  };\n\n  handleMouseEnter(evt, { properties = {} }) {\n    // if (isMobile) {\n    //   return this.props.setDetailRoute(properties.id);\n    // }\n\n    evt.map.getCanvas().style.cursor = \"pointer\";\n\n    if (properties && properties.isFiltered) {\n      return false;\n    }\n\n    this.props.setTooltipData(properties);\n  }\n\n  handleMouseLeave(evt) {\n    evt.map.getCanvas().style.cursor = \"\";\n\n    this.props.setTooltipData(null);\n  }\n\n  handleClick(evt, { properties = {} }) {\n    evt.originalEvent.preventDefault();\n    evt.originalEvent.stopPropagation();\n\n    this.props.setDetailRouteWithListPath(properties.autoid);\n    this.props.setSelectedData(true);\n  }\n\n  handleMouseMove(evt) {\n    this.props.setTooltipPos([evt.lngLat.lng, evt.lngLat.lat]);\n  }\n\n  render() {\n    const { data, highlightData, detailData } = this.props;\n    const paintProps = getPaintProps(this.props);\n    let highlightFeat = false;\n    if (data) {\n      highlightFeat = data.features.find(\n        (feat) => highlightData && feat.properties.name === highlightData.name\n      );\n    }\n\n    return (\n      <Fragment>\n        {/* Circle Marker below! */}\n        {data && (\n          <Layer\n            id=\"MarkerLayer\"\n            type=\"circle\"\n            paint={paintProps}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {data.features\n              .filter(\n                (d) => !d.properties.isFiltered && !d.properties.homeschool\n              )\n              .map((feat) => this.renderFeat(feat))}\n          </Layer>\n        )}\n        {data && (\n          <Layer id=\"FilteredMarkerLayer\" type=\"circle\" paint={paintProps}>\n            {data.features\n              .filter(\n                (d) => d.properties.isFiltered && !d.properties.homeschool\n              )\n              .map((feat) => this.renderFeat(feat))}\n          </Layer>\n        )}\n\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconAppLayer\"\n            layout={{ \"icon-image\": \"edutech-app\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"app\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconMediaLayer\"\n            layout={{ \"icon-image\": \"edutech-media\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"media\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconServiceLayer\"\n            layout={{ \"icon-image\": \"edutech-service\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"service\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconHardwareLayer\"\n            layout={{ \"icon-image\": \"edutech-hardware\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"hardware\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconFilteredLayer\"\n            layout={{ \"icon-image\": \"edutech-filtered\", \"icon-size\": 1.25 }}\n          >\n            {data.features\n              .filter((d) => d.properties.isFiltered && d.properties.homeschool)\n              .map((feat, i) => this.renderFeat(feat, i))}\n          </Layer>\n        )}\n        {data && highlightFeat && (\n          <Layer id=\"HighlightLayer\" type=\"circle\" paint={paintProps}>\n            <Feature\n              coordinates={highlightFeat.geometry.coordinates}\n              key={highlightFeat.properties.name}\n              properties={highlightFeat.properties}\n            />\n          </Layer>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default connect((state) => state, Actions)(MarkerLayer);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\nimport { filteredDataSelector, instPerDistrictSelector } from '~/state/Selectors';\n\nimport MarkerLayer from '../Layers/MarkerLayer';\n\nclass FilterView extends PureComponent {\n\n  componentDidMount() {\n    this.props.loadFilterData();\n  }\n\n  render() {\n    const { data, detailData, isLoading, labels } = this.props;\n\n    if (data) {\n      return (\n        <Fragment>\n          <MarkerLayer if={data && !isLoading} data={data} />\n        </Fragment>\n      );\n    } else {\n      return (\n        <Fragment>\n        </Fragment>\n      )\n    }\n\n  }\n}\n\nexport default connect(state => ({\n  data: filteredDataSelector(state),\n  labels: instPerDistrictSelector(state),\n  isLoading: state.isLoading\n}), Actions)(FilterView);\n","import React from 'react';\nimport styled from 'styled-components';\nimport TSBLogoSrc from '!file-loader!~/../public/images/tsb-logo-coloured.svg'; // eslint-disable-line\n\nconst TSBLogo = styled.a.attrs({\n    href: 'https://technologiestiftung-berlin.de',\n    target: '_blank'\n  })`\n  padding-top: ${props => props.theme.padding[1]};\n\n  img {\n    width: 150px;\n  }\n`;\n\nexport default () => (\n  <TSBLogo>\n    <img src={TSBLogoSrc} alt=\"TSB Logo\" />\n  </TSBLogo>\n);","import React, { PureComponent, Fragment } from 'react';\nimport styled from 'styled-components';\n\nconst StyledLogoTile = styled.div`\n  position: absolute;\n  top: 25px;\n  right: 25px;\n  display: flex;\n  flex-direction: column;\n  z-index: 1000;\n  font-size: ${props => props.theme.fontSizes[0]};\n  font-family: ${props => props.theme.fonts.sansMedium};\n\n  @media (max-width: 768px) {\n    top: auto;\n    top: 15px;\n    right: 40px;\n    max-width: 120px;\n  }\n`;\n\nconst StyledTSBLogo = styled(TSBLogo)`\n  padding-left: 0px;\n`;\n\nimport TSBLogo from '~/components/TSBLogo';\n\nclass LogoTile extends PureComponent {\n\n  render() {\n      return (\n        <StyledLogoTile>\n          Ein Projekt der:\n          <StyledTSBLogo />\n        </StyledLogoTile>\n      );\n  }\n}\n\nexport default LogoTile\n","import { createSelector } from 'reselect';\nimport { cloneDeep } from 'lodash';\n\nimport {\n  filterCategories,\n  filterSubCategories,\n  subCategories,\n  targetGroupTypes,\n  targetGroups,\n  filterTargetGroupTypes,\n  filterTargetGroupTags,\n  filterHomeschool,\n  sortData,\n  subCategoriesEmpty,\n  filterDistricts,\n  objectSize,\n} from './dataUtils';\n\nconst dataSelector = state => state.data;\nconst activeFilterSelector = state => state.activeFilter;\nconst detailDataSelector = state => state.detailData;\nconst favsSelector = state => state.favs;\nconst filterSelector = state => state.filter;\nconst additionalDataSelector = state => state.additionalData;\nconst listSortingSelector = state => state.listSorting;\nconst colorizerSelector = state => state.colorizer;\nexport const instPerDistrictSelector = state => state.instPerDistrict;\nconst categoriesSelector = state => state.categories;\nconst colorizerLightSelector = state => state.colorizerLight;\n\nconst geojsonToArray = geojson => geojson.features.map(d => d.properties);\n\n\nexport const dataAsArraySelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (!data) {\n      return [];\n    }\n    return geojsonToArray(data);\n  }\n);\n\nexport const initialFilterSelector = createSelector(\n  [filterSelector],\n  (filter) => {\n    return Object.assign({}, {\n    categoryFilter: [],\n    subCategoryFilter: cloneDeep(subCategoriesEmpty),\n    targetGroupFilter: [],\n    homeschoolFilter: [],\n    targetGroupTagsFilter: { private: [], institution: [] }\n  })\n  }\n);\n\nexport const unfilteredFilterSelector = createSelector(\n  [categoriesSelector, filterSelector],\n  (categories, filter) => {\n    return Object.assign({}, {\n    categoryFilter: cloneDeep(categories),\n    subCategoryFilter: cloneDeep(subCategories),\n    targetGroupFilter: cloneDeep(targetGroupTypes),\n    targetGroupTagsFilter: cloneDeep(targetGroups)\n  })\n  }\n);\n\nexport const tagsCountTargetGroupSelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features;\n      const objPrivate = {};\n      const objInstitution = {};\n      features.map(feat => {\n        const { properties } = feat;\n        const { targetgroupprivate, targetgroupinstituion } = properties;\n\n        if (targetgroupprivate.length > 0) {\n          targetgroupprivate.forEach(item => {\n            !objPrivate[item.value] ? objPrivate[item.value] = 1 : objPrivate[item.value] += 1;\n          })\n        }\n\n        if (targetgroupinstituion.length > 0) {\n          targetgroupinstituion.forEach(item => {\n            !objInstitution[item.value] ? objInstitution[item.value] = 1 : objInstitution[item.value] += 1;\n          })\n        }\n\n        // delete objPrivate.none;\n        // delete objInstitution.none;\n\n      })\n      return { private: objPrivate, institution: objInstitution }\n    }\n  }\n)\n\nexport const tagsCountSelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features;\n      const obj = {};\n      features.map(feat => {\n        const { properties } = feat;\n        const { subCategoriesSelected, category, name } = properties;\n\n        subCategoriesSelected.forEach(item => {\n\n          if (subCategories[category].includes(item)) {\n            !obj[item] ? obj[item] = 1 : obj[item] += 1\n          }\n        })\n      })\n      return obj\n    } else {\n      return false;\n    }\n  }\n)\n\nexport const enrichedDataSelector = createSelector(\n  [\n    dataSelector,\n    favsSelector,\n    filterSelector,\n    colorizerSelector,\n    colorizerLightSelector,\n    additionalDataSelector\n  ],\n  (\n    data,\n    favs,\n    filter,\n    colorizer,\n    colorizerLight,\n    additionalData\n  ) => {\n    if (data) {\n      const features = data.features\n        .map((feat) => {\n          const { properties } = feat;\n          feat.properties = properties;\n\n          properties.districtFilter = filterDistricts(\n            feat,\n            filter.districtFilter,\n            additionalData.districts\n          );\n\n          properties.nameStr = properties.name.replace(' ', '').replace('-', '')\n          properties.categoryFilter = filterCategories(properties, filter.categoryFilter);\n          properties.subCategoryFilter = filterSubCategories(properties, filter.subCategoryFilter);\n          properties.targetGroupTypesFilter = filterTargetGroupTypes(properties, filter.targetGroupFilter)\n          properties.targetGroupTagsPrivateFilter = filterTargetGroupTags(properties, filter.targetGroupTagsFilter, 'private')\n          properties.targetGroupTagsInstitutionFilter = filterTargetGroupTags(properties, filter.targetGroupTagsFilter, 'institution')\n          properties.isFav = favs.includes(properties.autoid);\n          properties.color = colorizer(properties.category);\n          properties.colorLight = colorizerLight(properties.category);\n          properties.icon = `edutech-${properties.category}`;\n          properties.homeschool = feat.properties.homeschooling === '1' ? true : false;\n          properties.homeschoolFilter = filterHomeschool(properties,filter.homeschoolFilter)\n          properties.isFiltered = true;\n\n          return feat;\n      });\n      return Object.assign({}, data, { features });\n    }\n    }\n)\n\nexport const filteredDataSelector = createSelector(\n  [enrichedDataSelector, activeFilterSelector],\n  (data, activeFilter) => {\n    if (data) {\n      const features = data.features\n        .map((feat) => {\n\n            let filter = 'category';\n\n            switch(activeFilter) {\n              case 'category':\n                filter = feat.properties.categoryFilter || feat.properties.subCategoryFilter;\n                break;\n              case 'district':\n                filter = feat.properties.districtFilter;\n                break;\n              case 'homeschool':\n                filter = feat.properties.homeschoolFilter;\n                break;\n              case 'target':\n                filter = feat.properties.targetGroupTypesFilter || feat.properties.targetGroupTagsPrivateFilter && feat.properties.targetGroupTagsInstitutionFilter\n                break;\n              default:\n                filter = 'category';\n                break;\n            }\n\n            feat.properties.isFiltered = (filter);\n          return feat;\n        })\n      return Object.assign({}, data, { features });\n    } else {\n      return {};\n    }\n  }\n);\n\nexport const filteredListDataSelector = createSelector(\n  [filteredDataSelector, listSortingSelector],\n  (data, sortBy) => {\n    if (!data) {\n      return [];\n    }\n\n    if (objectSize(data) > 0) {\n\n      let features = data.features.filter(feat => (\n        !feat.properties.isFiltered)\n      );\n\n      features = features\n        .map(feat => feat.properties)\n        .sort(sortData(sortBy));\n\n      return features;\n    }\n  }\n);\n\nexport const targetGroupsArraySelector = createSelector(\n  [detailDataSelector],\n  (data) => {\n    if (data) {\n      const keys = ['targetgroupprivate', 'targetgroupinstituion'];\n      const keysOther = ['targetgroupinstituionother', 'targetgroupprivateother'];\n\n      let arr = keys.map(key => {\n        return data[key].map(val => {\n\n            if (val.text === 'none') {\n              return 'Keine';\n            }\n\n            if (val.text === 'other') {\n              return 'Andere';\n            }\n\n            return val.text\n        });\n      })\n\n      keysOther.forEach(key => {\n        if (data[key].length > 0) {\n          arr.push(data[key]);\n        }\n      });\n\n      return arr.flat();\n    }\n  }\n)\n\nexport const favoritesSelector = createSelector(\n  [enrichedDataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features.filter(feat => feat.properties.isFav);\n      return geojsonToArray(Object.assign({}, data, { features }));\n    }\n  }\n);\n\nexport default {\n  dataAsArraySelector,\n  targetGroupsArraySelector,\n  filteredListDataSelector,\n  favoritesSelector,\n  enrichedDataSelector,\n  instPerDistrictSelector,\n  tagsCountSelector,\n  tagsCountTargetGroupSelector\n};\n","import createStore from 'unistore';\n\nimport { getFavs, subCategories, subCategoriesEmpty, targetGroups, targetGroupTypes, targetGroupsEmpty } from './dataUtils';\nimport config from '../../config.json';\n\nexport const filterSection = {\n  categoryFilter: [],\n  districtFilter: false,\n  homeschoolFilter: [],\n  subCategoryFilter: Object.assign({}, subCategoriesEmpty),\n  targetGroupFilter: [],\n  targetGroupTagsFilter: Object.assign({}, targetGroupsEmpty)\n};\n\nconst Store = createStore({\n  isLoading: true,\n  additionalData: {\n    districts: null\n  },\n  categories: ['app', 'media', 'service', 'hardware'],\n  targetGroupTypes: ['private', 'institution'],\n  homeschoolTypes: [true, false],\n  data: null,\n  info: null,\n  activeFilter: 'category',\n  activeP: false,\n  local: false,\n  instPerDistrict: null,\n  detailData: false,\n  selectedData: false,\n  mapCenter: config.position,\n  mapZoom: config.zoom,\n  listSorting: 'name',\n  subCategoryList: Object.assign({}, subCategories),\n  subCategories: [],\n  highlightData: false,\n  tooltipPos: [0, 0],\n  favs: getFavs(),\n  tooltipData: false,\n  colorizer: () => '#bbb',\n  colorizerLight: () => '#bbb',\n  filter: filterSection,\n});\n\nexport default Store;\n","const px = (d) => { return `${d}px` };\n\nexport default {\n  fonts: {\n    sans: 'Clan Book',\n    serif: 'Georgia, Times, Times New Roman, serif',\n    mono: 'monospace',\n    sansBold: 'Clan Bold',\n    sansMedium: 'Clan Medium'\n  },\n  fontSizes: [12, 14, 15, 19, 24, 32, 48, 64].map(px),\n  boxShadow: `0 2px 40px 0 rgba(30,55,145,0.15)`,\n  borderRadius: '2px',\n  colors: {\n    primary: '#000000',\n    secondary: '#e60005',\n    lightgrey: '#f5f5f5',\n    midgrey: '#d8d8d8',\n    textgrey: '#777'\n  },\n  lineHeight: '160%',\n  margin: [10, 15, 25, 50, 75, 100].map(px),\n  letterSpacing: [.25,.5,1].map(px),\n  padding: [5, 10, 15].map(px)\n};","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\nimport { opacityFromState } from '../../utils/'\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst StyledCircularProgress = withStyles({\n  root: {\n    color: 'black',\n  },\n  svg: {\n    fill: 'black'\n  }\n})(CircularProgress);\n\nconst SpinnerBG = styled.div`\n  width: 100%;\n  height: 100%;\n  background: white;\n  position:absolute;\n  z-index: 1000;\n  opacity: ${p => opacityFromState(p.state)};\n  transition: all .5s ease-in-out;\n  display: ${p => (p.state == 'exited') ? 'none' : 'block'};\n`;\n\nconst SpinnerWrapper = styled.div`\n  position: absolute;\n  z-index: 10000;\n  left: 50%;\n  top: 50%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translate(-50%, -50%);\n  user-select: none;\n  pointer-events: none;\n\n  span {\n    padding-top: 20px;\n    font-size: 13px;\n    letter-spacing: .25px;\n  }\n`;\n\nclass Spinner extends PureComponent {\n  render() {\n    const { loading } = this.props;\n    return (\n      <Transition\n        in={loading}\n        timeout={{\n          appear: 0,\n          enter: 0,\n          exit: 500,\n        }}\n        appear={true}\n        mountOnEnter={true}\n        unmountOnExit={false}\n      >\n        { state => {\n          return (\n          <SpinnerBG state={state}>\n            <SpinnerWrapper>\n              <StyledCircularProgress />\n              <span>Lade EduTech Institutionen ...</span>\n            </SpinnerWrapper>\n          </SpinnerBG>\n        )}}\n      </Transition>\n    );\n  }\n}\n\nexport default Spinner;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  width: ${props => props.size || 72}px;\n  height: ${props => props.size || 72}px;\n  background-color: ${props => (props.isActive ? '#000' : '#fff')};\n  color: ${props => (props.isActive ? '#fff' : '#000')};\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 0%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => (props.isActive ? '#000' : '#f2f2f2')};\n    color: ${props => (props.isActive ? '#fff' : '#000')};\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { NavLink, withRouter, matchPath } from 'react-router-dom';\n\nimport Actions from '~/state/Actions';\nimport { unfilteredFilterSelector, initialFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nimport config from '../../../config';\n\nimport ListIcon from '@material-ui/icons/List';\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\nimport FavIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport EdgeButton from '~/components/EdgeButton';\nimport { media } from '~/styles/Utils';\n\nconst NavWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  box-shadow: ${ props => props.theme.boxShadow };\n  flex-grow: 0;\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  z-index: 1000;\n\n  ${media.m`\n    transform: ${props => (props.isNavOpen ? 'translate3d(375px, 0, 0)' : 'none')};\n    transition: transform 500ms;\n  `}\n`;\n\nconst NavItem = styled(NavLink)`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n`;\n\n\nconst navConfig = [\n  { path: '/suche', title: 'Suche und Filter', icon: <SearchIcon /> },\n  { path: '/liste', title: 'Listenansicht', icon: <ListIcon /> },\n  { path: '/favoriten', title: 'Favoriten', icon: <FavIcon /> },\n  { path: '/info', title: 'Info', icon: <InfoIcon/> },\n];\n\nclass Nav extends PureComponent {\n\n  handleClick(path) {\n\n    const {\n      initialFilter,\n      unfiltered,\n      setFilter,\n      setMapCenter,\n      resetDetailRoute,\n      setDetailData,\n      setSelectedData,\n      setHighlightData,\n      mapCenter\n    } = this.props;\n\n    if (path === 'Listenansicht' || path === 'Favoriten' || path == 'Suche und Filter' || path == 'Info' ) {\n      setFilter(unfiltered)\n    }\n\n    if (path === 'Suche und Filter') {\n      setFilter(initialFilter)\n    }\n\n    setDetailData(false)\n    setSelectedData(false);\n    setHighlightData(false);\n    resetDetailRoute();\n  }\n\n  componentDidMount() {\n    const {\n      unfiltered,\n      setFilter,\n    } = this.props;\n    setFilter(unfiltered)\n  }\n\n  render() {\n    const { pathname } = this.props.location;\n\n    const isNavOpen = matchPath(pathname, {\n      path: navConfig.map(m => m.path),\n    }) !== null;\n\n    return (\n      <NavWrapper isNavOpen={isNavOpen}>\n        {navConfig.map(m => (\n          <NavItem\n            exact\n            to={{ pathname: m.path, search: '' }}\n            onClick={() => (this.handleClick(m.title))}\n            key={m.path}\n          >\n            <EdgeButton title={m.title} aria-label={m.title} isActive={pathname === m.path}>\n              {m.icon}\n            </EdgeButton>\n          </NavItem>\n        ))}\n      </NavWrapper>\n    );\n  }\n}\n\nexport default withRouter(connect(state => ({\n  detailData: state.detailData,\n  mapCenter: state.mapCenter,\n  unfiltered: unfilteredFilterSelector(state),\n  initialFilter: initialFilterSelector(state)\n}), Actions)(Nav));\n","import React, { PureComponent } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Actions from '~/state/Actions';\nimport { unfilteredFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nimport RoundButton from '~/components/RoundButton';\n\nconst StyledLink = styled(Link)`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  z-index: 10;\n`;\n\nclass SidebarClose extends PureComponent {\n  handleClick() {\n    const { setDetailData, unfiltered, setFilter, setMapCenter, setZoom, setHighlightData } = this.props;\n    setDetailData(false);\n    setHighlightData(false);\n    setFilter(unfiltered);\n  }\n\n  render() {\n    return (\n      <StyledLink onClick={() => {this.handleClick()}} to={{ pathname: '/', search: '' }}>\n        <RoundButton aria-label=\"Leiste schließen\" title=\"Leiste schließen\">\n          <CloseIcon />\n        </RoundButton>\n      </StyledLink>\n    );\n  }\n}\n\n// export default withRouter(SidebarClose);\n\nexport default withRouter(connect(state => ({\n  detailData: state.detailData,\n  unfiltered: unfilteredFilterSelector(state),\n}), Actions)(SidebarClose));\n","import styled from 'styled-components';\n\nconst CardWrapper = styled.div`\n  position: relative;\n  background: #fff;\n  border-radius: ${props => props.theme.borderRadius};\n  max-height: 75vh;\n  display: block;\n  padding: ${props => props.theme.padding[1]};\n`;\n\nexport default CardWrapper;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport CardWrapper from './CardWrapper';\nimport CardHeader from './CardHeader';\n\nconst StyledCardWrapper = styled(CardWrapper)`\n  margin-bottom: ${props => props.theme.margin[0]};\n  padding-bottom: ${props => props.theme.margin[0]};\n  cursor: pointer;\n  border-bottom: 2px solid ${props => props.theme.colors.lightgrey};\n  border-radius: 0;\n  will-change: border-color, transform;\n  transition: border-color .2s, transform .2s;\n  padding: ${props => props.theme.margin[0]};\n  padding-top: 3px;\n  padding-bottom: ${props => props.theme.padding[2]};\n\n  &:hover {\n    border-color: ${props => props.theme.colors.midgrey};\n    transform: translateX(5px);\n  }\n`;\n\nclass CardCompact extends PureComponent {\n  render() {\n    return (\n      <StyledCardWrapper\n        onClick={this.props.onClick}\n        onMouseEnter={this.props.onMouseEnter}\n        onMouseLeave={this.props.onMouseLeave}\n      >\n        <CardHeader\n          data={this.props.data}\n          isListMode\n          type='black'\n        />\n      </StyledCardWrapper>\n    );\n  }\n}\n\nexport default CardCompact;\n","import styled from 'styled-components';\n\nexport default styled.a`\n  color: ${props => props.theme.colors.primary};\n  font-weight: 700;\n\n  &:hover {\n    color: ${props => props.theme.colors.textgrey};\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  min-width: 142px;\n  width: auto;\n  height: 30px;\n  background-color: ${props => (props.isActive ? '#000' : '#fff')};\n  color: ${props => (props.isActive ? '#fff' : '#000')};\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 0%;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  font-size: ${props => props.theme.fontSizes[0]};\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => (props.isActive ? '#000' : '#f2f2f2')};\n    color: ${props => (props.isActive ? '#fff' : '#000')};\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavIcon from '@material-ui/icons/FavoriteBorder';\nimport UnFavIcon from '@material-ui/icons/Favorite';\n\nimport Button from '~/components/GhostButton';\nimport Link from '~/components/Link';\n\nimport EdgeButtonSmall from '../EdgeButtonSmall';\n\nimport Actions from '~/state/Actions';\nimport { mailTo } from '~/state/dataUtils';\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst StyledA = styled.a`\n  text-decoration: none;\n`;\n\nconst IconWrapper = styled.div`\n  margin-right: 5px;\n\n  svg {\n    height: 18px;\n    width: 18px;\n  }\n`;\n\nconst CardActionsWrapper = styled.div`\n  display: flex;\n  transform: translateX(-7px);\n  justify-content: space-between;\n  padding-bottom: ${props => props.theme.padding[1]};\n`;\n\nconst StyledFavIcon = styled(FavIcon)`\n  font-size: 15px !important;\n  margin-right: 2px;\n  margin-top: -2px;\n`;\n\nconst StyledUnFavIcon = styled(UnFavIcon)`\n  font-size: 15px !important;\n  margin-right: 2px;\n  margin-top: -2px;\n`;\n\nclass CardActions extends PureComponent {\n  render() {\n    const { data, toggleFav, favs } = this.props;\n    const isFav = favs.includes(data.autoid);\n    const favButtonLabel = isFav ? 'aus den Favoriten entfernen' : 'zu den Favoriten';\n\n    return (\n      <CardActionsWrapper>\n        <ButtonWrapper>\n          <StyledA href={mailTo(data.name)}>\n            <EdgeButtonSmall>\n              <IconWrapper>\n                <EditIcon/>\n              </IconWrapper>\n              Änderung melden\n            </EdgeButtonSmall>\n          </StyledA>\n\n          <EdgeButtonSmall\n            onClick={() => {toggleFav(data.autoid)}}\n          >\n            <IconWrapper>\n              {isFav ? <UnFavIcon /> : <FavIcon />}\n            </IconWrapper>\n            {isFav ? \"Aus Favoriten entfernen\" : \"Zu Favoriten\"}\n          </EdgeButtonSmall>\n\n        </ButtonWrapper>\n      </CardActionsWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(CardActions);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport { createMarkup, addLineBreaks } from '~/state/dataUtils';\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[1]};\n  \n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n\n  span.p-text {\n    font-size: ${props => props.theme.fontSizes[1]};\n    padding: ${props => props.theme.padding[0]} 0 0 0;\n    color: black;\n    margin: 0 15px 0 0;\n    line-height: ${props => props.theme.lineHeight};\n    font-family: ${props => props.type == 'bold' ? `${props.theme.fonts.sansBold}` : `${props.theme.fonts.sans}`}\n  }\n`;\n\nclass CardParagraph extends PureComponent {\n\n  render() {\n    let { label, data, type } = this.props;\n\n    if (label == 'Adresse:') {\n      data = addLineBreaks(data);\n    }\n\n    if (data.length > 0) {\n      return (\n        <CardParagraphWrapper type={type}>\n          <span>{label}</span>\n          <span className=\"p-text\" dangerouslySetInnerHTML={createMarkup(data)}></span>\n        </CardParagraphWrapper>\n      )\n    } else {\n      return (null)\n    }\n  }\n}\n\nexport default CardParagraph;\n","import React, { PureComponent, Fragment } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { targetGroupsArraySelector } from '~/state/Selectors';\nimport CategoryLabels from '../CategoryLabels'\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  padding: ${props => props.theme.padding[1]} 0 0 0;\n`;\n\n\nconst CardTagsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n`\n\nclass CardTags extends PureComponent {\n  render() {\n    const { label, targetGroups } = this.props;\n    return (\n      <CardTagsWrapper>\n        <span>{label}</span>\n        <StyledCategoryLabels categories={targetGroups} category={'targetGroup'}/>\n      </CardTagsWrapper>\n\n    )\n  }\n}\n\n\nexport default connect(state => ({\n  targetGroups: targetGroupsArraySelector(state)\n}))(CardTags);","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport WebsiteLink from '~/components/Link';\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n\n  h3 {\n    font-size: ${props => props.theme.fontSizes[1]};\n    padding: ${props => props.theme.padding[0]} 0 0 0;\n    margin: 0 15px 0 0;\n    line-height: ${props => props.theme.lineHeight};\n    font-family: ${props => props.theme.fonts.sansBold};\n    letter-spacing: ${props => props.theme.letterSpacing[1]};\n  }\n`;\n\nfunction formatWebsite(str) {\n  if (!str) {\n    return '';\n  }\n\n  return str\n    .toLowerCase()\n    .replace(/https?:\\/\\//, '')\n    .replace(/www\\./, '')\n    .replace(/\\/$/, '');\n}\n\nclass CardParagraph extends PureComponent {\n  render() {\n    const { label, data, type } = this.props;\n    if (data.length > 0) {\n      return (\n        <CardParagraphWrapper>\n          <span>{label}</span>\n          { type == 'mailto:' && \n            (<WebsiteLink href={`mailto:${data}`} target=\"_blank\" rel=\"noopener\">\n              <h3>{formatWebsite(data)}</h3>\n            </WebsiteLink>)\n          }\n          { type != 'mailto:' && \n            (<WebsiteLink href={`${data}`} target=\"_blank\" rel=\"noopener\">\n              <h3>{formatWebsite(data)}</h3>\n            </WebsiteLink>)\n          }\n        </CardParagraphWrapper>\n      )\n    } else {\n      return (null)\n    }\n  }\n}\n\nexport default CardParagraph;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nconst CardLogoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n`;\n\nconst CardImage = styled.div`\n  display: block;\n  width: 120px;\n  height: 70px;\n  background-image: ${props => `url(${props.src.replace(/\\s/g, '%20')})`};\n  background-position: center;\n  background-repeat: no-repeat;\n  margin-left: 2px;\n  background-size: contain;\n`;\n\nclass CardLogo extends PureComponent {\n  render() {\n    const { label, data } = this.props;\n\n    return (\n      <CardLogoWrapper>\n        <span>{label}</span>\n        <CardImage src={data} />\n      </CardLogoWrapper>\n    )\n  }\n}\n\nexport default CardLogo;","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport { getCategoryLabel } from '~/state/dataUtils'\n\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey};\n    margin-bottom: 4px;\n  }\n`\n\nconst CategoryLabelDiv = styled.div`\n  display: block;\n  margin-top: 10px;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: white;\n  position: relative;\n  line-height: 1;\n  background: ${props => (props.color)};\n  width: fit-content;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color || '#000'};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n  }\n`;\n\nconst CategoryLabel = p => {\n  const { colorizer, colorizerLight, category, label } = p;\n  return (\n    <CardParagraphWrapper>\n      <span>{label}</span>\n      <CategoryLabelDiv\n        color={colorizer(category)}\n        colorLight={colorizerLight(category)}\n      >\n      {getCategoryLabel(category)}\n      </CategoryLabelDiv>\n    </CardParagraphWrapper>\n  )\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight\n}))(CategoryLabel);","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport idx from 'idx';\nimport Actions from '~/state/Actions';\n\nimport CardParagraph from './CardParagraph';\nimport CardTags from './CardTags';\nimport CardLink from './CardLink';\nimport CardLogo from './CardLogo';\nimport CategoryLabel from '../CategoryLabel';\n\nconst CardParagraphAddress = styled(CardParagraph)``;\nconst CardParagraphWebsite = styled(CardParagraph)``;\n\nconst CardBodyWrapper = styled.div`\n  font-size: ${props => props.theme.fontSizes[0]};\n`;\n\nconst CardBodySection = styled.div`\n  display: flex;\n  margin-bottom: 10px;\n`;\n\nconst CardSectionLeft = styled.div`\n  margin-right: 10px;\n  min-width: 35%;\n  width: 35%;\n`;\n\nconst CardSectionRight = styled.div`\n  margin-left: auto;\n  text-align: right;\n  flex-grow: 1;\n`;\n\nconst Description = styled.div`\n  border-bottom: 1px solid #ddd;\n  padding-bottom: 10px;\n`;\n\nconst WebsiteLinkContainer = styled(CardSectionRight)`\n  overflow: hidden;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  a {\n    font-weight: 400;\n  }\n`;\n\nfunction formatWebsite(str) {\n  if (!str) {\n    return '';\n  }\n\n  return str\n    .toLowerCase()\n    .replace(/https?:\\/\\//, '')\n    .replace(/www\\./, '')\n    .replace(/\\/$/, '');\n}\n\n\nclass CardBody extends PureComponent {\n  render() {\n    const { data, targetGroups, favs, toggleFav } = this.props;\n    const logoUrl = idx(data, _ => _.logo[0].url);\n    const website = idx(data, _ => _.contact[0].website);\n    const address = idx(data, _ => _.contact[0].address);\n    const email = idx(data, _ => _.contact[0].email);\n    const phone = idx(data, _ => _.contact[0].phone);\n    const openingHours = idx(data, _ => _.contact[0].openinghours);\n    const category = idx(data, _ => _.category);\n\n    const isFav = favs.includes(data.autoid);\n\n    return (\n      <CardBodyWrapper className={this.props.className}>\n        { category && <CategoryLabel label='Leistungsangebot:' category={category}></CategoryLabel> }\n        { logoUrl && <CardLogo label='Logo:' data={logoUrl}></CardLogo> }\n        <CardParagraph type=\"bold\" label='Adresse:' data={data.location[0].address}></CardParagraph>\n        { website && <CardLink label='Webseite:' data={website}></CardLink> }\n        { email && <CardLink type=\"mailto:\" label='E-Mail:' data={email}></CardLink> }\n        { phone && <CardParagraph type=\"bold\" label='Telefon:' data={phone}></CardParagraph> }\n        { openingHours && <CardParagraph type=\"bold\" label='Öffnungszeiten:' data={openingHours}></CardParagraph> }\n        <CardParagraph label='Beschreibung:' data={data.description}></CardParagraph>\n        <CardTags label=\"Zielgruppen:\"></CardTags>\n      </CardBodyWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  detailData: state.detailData,\n  favs: state.favs\n}), Actions)(CardBody);\n","import styled from 'styled-components';\n\nexport default styled.div`\n  font-family: ${props => props.theme.fonts.sansBold};\n  font-size: ${props => props.theme.fontSizes[4]};\n  font-weight: 600;\n  margin-bottom: ${props => props.theme.margin[2]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-top: ${props => props.theme.padding[0]};\n  line-height: 130%;\n  padding-right: 45px;\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\n\nimport CardActions from './CardActions';\nimport CardWrapper from './CardWrapper';\nimport CardBody from './CardBody';\nimport SidebarTitle from '../../modules/Sidebar/SidebarTitle/';\nimport CategoryLabels from '~/components/CategoryLabels';\nimport Icon from '~/components/Icon';\n\nconst DetailTitle = styled(SidebarTitle)`\n  margin-bottom: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.padding[0]};\n  padding-left: 0;\n\n  svg {\n    margin-right: 10px;\n  }\n`;\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  margin-bottom: ${props => props.theme.margin[2]};\n`;\n\nconst DetailHeader = styled.div`\n  display: flex;\n  width: 270px;\n  flex-direction: row;\n`;\n\nconst DetailCardWrapper = styled(CardWrapper)`\n  display: block;\n  flex-direction: column;\n  padding-top: ${props => props.theme.padding[0]};\n  padding-left: ${props => props.theme.padding[1]};\n`;\n\nconst StyledCardBody = styled(CardBody)`\n  padding-top: ${props => props.theme.padding[1]};\n`;\n\nclass DetailCard extends PureComponent {\n  state = {\n    maxHeight: 'auto'\n  }\n\n  componentDidMount() {\n    const maxHeight = window.innerWidth <= 768\n    ? window.innerHeight - 100\n    : Math.max(250, window.innerHeight - 200);\n\n    this.setState({ maxHeight });\n  }\n\n  onClose(evt) {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    this.props.onClose(evt);\n  }\n\n  render() {\n    const { data } = this.props;\n    if (!data) {\n      return null;\n    }\n\n    return (\n      <DetailCardWrapper>\n        <DetailHeader>\n          <DetailTitle>\n          <Icon isHomeschool={data.homeschool} color={data.color}/>\n          {data.name}\n          </DetailTitle>\n        </DetailHeader>\n        <StyledCategoryLabels categories={data.categoriesSelected} category={data.category} /*hasBorder={teaserUrl}*/ />\n        <CardActions data={data} />\n        <StyledCardBody data={data} />\n      </DetailCardWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(DetailCard);\n","import styled from 'styled-components';\n\nexport default styled.select`\n  width: 100%;\n  background: white;\n  font-family: ${props => props.theme.fonts.sans};\n  height: 35px;\n  border: 3px solid ${props => props.theme.colors.lightgrey};\n  font-size: ${props => props.theme.fontSizes[1]};\n  color: black;\n  border-radius: 0;\n  outline: none;\n`;\n","import styled from 'styled-components';\n\nexport default styled.h3`\n  font-size: ${props => props.theme.fontSizes[1]};\n  font-family: ${props => props.theme.fonts.sansBold};\n  padding: ${props => props.theme.padding[0]} 0 ${props => props.theme.padding[0]} 0;\n  margin: 0 15px 0 0;\n  line-height: ${props => props.theme.lineHeight};\n`;","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport Select from '~/components/Select';\nimport Subtitle from '~/components/Subtitle';\n\n// import SidebarItemTitle from '../SidebarItemTitle';\n\nconst SorterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.margin[0]};\n`;\n\nconst StyledSelect = styled(Select)`\n  margin-bottom: ${props => props.theme.margin[0]};\n\n  option {\n    font-family: 'Verdana';\n    font-size: 12px;\n  }\n`;\n\nclass Sorter extends PureComponent {\n  handleChange = (evt) => {\n    this.props.setListSorting(evt.target.value);\n  }\n\n  render() {\n    return (\n      <SorterWrapper>\n        <Subtitle>Liste sortieren</Subtitle>\n        <StyledSelect onChange={this.handleChange} value={this.props.listSorting}>\n          <option value=\"name\">Name</option>\n          <option value=\"category\">Kategorie</option>\n          <option value=\"isFav\">Favoriten</option>\n        </StyledSelect>\n      </SorterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  listSorting: state.listSorting,\n}), Actions)(Sorter);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport { filteredListDataSelector, dataAsArraySelector } from '~/state/Selectors'\n\nimport CardCompact from '~/components/Card/CardCompact';\nimport DetailCard from '~/components/Card/Detail';\nimport SidebarTitle from '../SidebarTitle';\n\nimport Sorter from './Sorter';\n\nconst ListItems = styled.div``;\n\nclass SidebarList extends PureComponent {\n\n  render() {\n    const {\n      data,\n      setDetailRoute,\n      setHighlightData,\n      selectedData,\n      detailData,\n    } = this.props;\n\n    return (\n      <Fragment>\n        { (selectedData && detailData) && (\n          <DetailCard data={detailData} />\n        ) }\n        { data && !selectedData && (\n          <Fragment>\n            <SidebarTitle><strong>{data.length}</strong> Institutionen gefunden.</SidebarTitle>\n            <Sorter />\n            <ListItems>\n              {data.map((d,i) => (\n                <CardCompact\n                  key={`item-${i}`}\n                  data={d}\n                  onMouseEnter={() => setHighlightData(d)}\n                  onMouseLeave={() => setHighlightData(false)}\n                />\n              ))}\n            </ListItems>\n          </Fragment>\n        )}\n        { (!detailData && selectedData) && (null) }\n      </Fragment>\n    )\n\n  }\n};\n\nexport default connect(state => ({\n  data: filteredListDataSelector(state),\n  selectedData: state.selectedData,\n  detailData: state.detailData\n}), Actions)(SidebarList);\n","import React from 'react';\nimport styled from 'styled-components';\nimport BeBerlinLogoSrc from '!file-loader!~/../public/images/beBerlin.svg'; // eslint-disable-line\n\nconst BeBerlinLogo = styled.a.attrs({\n    href: 'https://www.berlin.de/sen/web/',\n    target: '_blank'\n  })`\n  padding-left: ${props => props.theme.padding[1]};\n\n  img {\n    width: 110px;\n  }\n`;\n\nexport default () => (\n  <BeBerlinLogo>\n    <img src={BeBerlinLogoSrc} alt=\"beBerlin Logo\" />\n  </BeBerlinLogo>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport IBBLogoSrc from '!file-loader!~/../public/images/ibb.jpg'; // eslint-disable-line\n\nconst IBBLogo = styled.a.attrs({\n    href: 'https://www.ibb.de/de/startseite/startseite.html',\n    target: '_blank'\n  })`\n  padding-top: ${props => props.theme.padding[1]};\n\n  img {\n    width: 110px;\n    margin-left: 30px;\n  }\n`;\n\nexport default () => (\n  <IBBLogo>\n    <img src={IBBLogoSrc} alt=\"IBB Logo\" />\n  </IBBLogo>\n);","import styled from 'styled-components';\n\nexport default styled.p`\n  padding-left: ${props => props.theme.padding[1]};\n  line-height: ${props => props.theme.lineHeight};\n  font-size: ${props => props.theme.fontSizes[1]};\n  color: ${props => props.theme.colors.primary};\n  margin-bottom: ${props => props.theme.margin[1]};\n`;\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport Actions from '~/state/Actions';\n\nconst LinksWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n\nclass SidebarLinks extends PureComponent {\n  render() {\n    const { data } = this.props\n    return (\n      <LinksWrapper>\n        { data.map((d,i) => {\n          const LinkWrapper = styled.a.attrs({\n              href: `${d.urllink}`,\n              target: '_blank'\n            })`\n            margin-bottom: ${props => props.theme.margin[1]};\n            padding-left: ${props => props.theme.padding[1]};\n            font-size: ${props => props.theme.fontSizes[1]};\n            color: black;\n            font-family: ${props => props.theme.fonts.sansBold};\n\n            &:hover {\n              color: ${props => props.theme.colors.textgrey};\n            }\n          `;\n\n          return (\n            <LinkWrapper key={`link-${i}`}>{d.labellink}</LinkWrapper>\n          )\n\n        }\n        ) }\n      </LinksWrapper>\n    )\n  }\n}\n\nexport default connect(state => ({\n  content: state.content\n}), Actions)(SidebarLinks);","import styled from 'styled-components';\n\nexport default styled.div`\n  font-family: ${props => props.theme.fonts.sansBold};\n  font-size: ${props => props.theme.fontSizes[3]};\n  font-weight: 600;\n  letter-spacing: .5px;\n  margin-bottom: ${props => props.theme.margin[1]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-top: ${props => props.theme.padding[0]};\n  line-height: 1;\n  padding-right: 45px;\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport regular from '!file-loader!~/../public/images/edutech-regular.svg'; // eslint-disable-line\nimport homeschoolIcon from '!file-loader!~/../public/images/edutech-homeschool.svg'; // eslint-disable-line\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\n\nimport Paragraph from '~/components/Paragraph';\nimport { createMarkup } from '~/state/dataUtils';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LegendWrapper = styled.div`\n  display: flex;\n  padding-left: ${props => props.theme.padding[1]};\n  img {\n    margin-right: 10px;\n    min-width: 15px;\n    width: 15px;\n    ${'' /* transform: translateY(2px); */}\n  }\n\n  span {\n    line-height: 160%;\n    font-size: 14px;\n  }\n`;\n\nconst IconLegend = p => {\n  const { content, isVisible } = p;\n  const { homeschool } = content;\n  return (\n    <>\n      {isVisible && (\n        <>\n        <Paragraph dangerouslySetInnerHTML={createMarkup(homeschool)}></Paragraph>\n        <LegendWrapper>\n          <img src={regular} />\n          <span>Reguläres Angebot</span>\n        </LegendWrapper>\n        <LegendWrapper>\n          <img src={homeschoolIcon} />\n          <span>Schulfrei-Angebote</span>\n        </LegendWrapper>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default connect(state => ({\n  content: state.content,\n}), Actions)(IconLegend);","import React, { useState, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport { createMarkup } from '~/state/dataUtils';\nimport Actions from '~/state/Actions';\n\nimport SidebarSubtitle from '../SidebarSubtitle/';\nimport Paragraph from '~/components/Paragraph';\nimport IconLegend from '~/components/IconLegend';\n\n\nconst SidebarInfoParagraph = p => {\n  const { title, intro, text, id, active, iconLegend } = p;\n  const boolActive = id === active;\n  return (\n    <>\n      {title && <SidebarSubtitle>{title}</SidebarSubtitle>}\n      <IconLegend isVisible={iconLegend} />\n      <Paragraph dangerouslySetInnerHTML={createMarkup(intro)}></Paragraph>\n      { boolActive && (<Paragraph if={boolActive} dangerouslySetInnerHTML={createMarkup(text)}></Paragraph>) }\n    </>\n  )\n}\n\nexport default connect(state => ({\n  content: state.content\n}), Actions)(SidebarInfoParagraph);\n","import React, { Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport { createMarkup } from '~/state/dataUtils';\n\nimport Logo from '~/components/BeBerlinLogo';\nimport LogoIBB from '~/components/IBBLogo';\nimport Paragraph from '~/components/Paragraph';\nimport SidebarTitle from '../SidebarTitle';\nimport SidebarLinks from './SidebarInfoLinks';\n\nimport SidebarInfoParagraph from './SidebarInfoParagraph';\n\nconst Separator = styled.div`\n  width: 100%;\n  height: ${props => props.theme.margin[2]};\n`;\n\n\nconst SidebarInfo = (p) => {\n  const { content, activeP } = p;\n\n  if (content) {\n    return (\n      <Fragment>\n        <SidebarTitle>EduTechMap Berlin</SidebarTitle>\n        <SidebarInfoParagraph\n          iconLegend={true} \n          title={content.worktitle}\n          text={content.work}\n          intro={content.workintro}\n          active={activeP}\n          id={0}\n        ></SidebarInfoParagraph>\n\n        <Separator />\n        \n        <Logo/>\n        <LogoIBB/>\n        <Paragraph dangerouslySetInnerHTML={createMarkup(content.contacttext)}></Paragraph>\n        <SidebarLinks data={content.links}/>\n      </Fragment>\n    )\n  } else {\n    return (\n      <Fragment>\n        <SidebarTitle>EduTechMap Berlin</SidebarTitle>\n        <Paragraph>Lade Inhalte ...</Paragraph>\n      </Fragment>\n    )\n  }\n};\n\nexport default connect(state => ({\n  content: state.content,\n  activeP: state.activeP,\n}), Actions)(SidebarInfo);\n","import React, { PureComponent, Fragment } from \"react\";\nimport { connect } from \"unistore/react\";\nimport Actions from \"~/state/Actions\";\nimport styled from \"styled-components\";\n\nimport { favoritesSelector } from \"~/state/Selectors\";\n\nimport CardCompact from \"~/components/Card/CardCompact\";\nimport DetailCard from \"~/components/Card/Detail\";\nimport Paragraph from \"~/components/Paragraph\";\n\nimport SidebarTitle from \"../SidebarTitle\";\n\nconst ListItems = styled.div``;\n\nconst StyledEmptyFavorites = styled.div`\n  margin-left: ${(props) => props.theme.margin[0]};\n`;\n\nconst EmptyFavorites = () => (\n  <StyledEmptyFavorites>Noch keine Favoriten vorhanden.</StyledEmptyFavorites>\n);\n\nclass SidebarList extends PureComponent {\n  handleClick = (d) => {\n    const { setDetailRoute, setSelectedData } = this.props;\n    setDetailRoute(d.autoid);\n    setSelectedData(true);\n    setHighlightData(d)\n  };\n\n  render() {\n    const { data, selectedData, detailData } = this.props;\n\n    return (\n      <Fragment>\n        {data && selectedData && detailData && <DetailCard data={detailData} />}\n        {data && !selectedData && (\n          <Fragment>\n            <SidebarTitle>Favoriten</SidebarTitle>\n            <Paragraph>\n              Bitte beachten Sie, dass wir aus Datenschutzgründen keine Daten\n              speichern. Gespeicherte Favoriten werden lediglich lokal im Cache\n              ihres Browsers hinterlegt. Sobald Sie diesen leeren, werden Ihre\n              Favoriten gelöscht.\n            </Paragraph>\n            <ListItems>\n              {!data.length && <EmptyFavorites />}\n              {data.map((d, i) => (\n                <CardCompact\n                  onClick={() => this.handleClick(d)}\n                  key={`card-compact-key-${i}`}\n                  data={d}\n                />\n              ))}\n            </ListItems>\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    data: favoritesSelector(state),\n    selectedData: state.selectedData,\n    detailData: state.detailData,\n  }),\n  Actions\n)(SidebarList);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { /*hasFilterSelector,*/ initialFilterSelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\n\nimport GhostButton from '~/components/GhostButton';\n\nconst ResetFilterButtonWrapper = styled.div`\n  height: 15px;\n  padding-left: ${props => props.theme.padding[1]};\n  margin-bottom: ${props => props.theme.margin[1]};\n`;\n\nconst ResetFilterButton = styled(GhostButton)`\n  display: block;\n  color: #E60032;\n`;\n\nclass ResetFilter extends PureComponent {\n  render() {\n    const { initialFilter } = this.props;\n    const hasFilter = true;\n\n    return (\n      <ResetFilterButtonWrapper>\n        {hasFilter && (\n          <ResetFilterButton\n            onClick={ () => {\n              this.props.setDetailData(false);\n              this.props.setFilter(initialFilter);\n            }}\n          >\n          × Alle Filter Zurücksetzen\n          </ResetFilterButton>\n        )}\n      </ResetFilterButtonWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  // hasFilter: hasFilterSelector(state),\n  initialFilter: initialFilterSelector(state)\n}), Actions)(ResetFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport Select from 'react-select';\n\nimport { dataAsArraySelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\n\nconst SearchFilterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  font-size: ${props => props.theme.fontSizes[1]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.margin[1]};\n  font-family: ${props => props.theme.fonts.sans};\n\n  .rs__clear-indicator {\n    cursor: pointer;\n  }\n`;\n\nclass SearchFilter extends PureComponent {\n  componentDidUpdate(prevProps) {\n  }\n\n  onChange(item) {\n    this.props.setHighlightData(item);\n    this.props.setDetailRoute(item ? item.autoid : false);\n    this.props.setDetailRouteWithListPath(item.autoid);\n    this.props.setSelectedData(true);\n  }\n\n  render() {\n    return (\n      <SearchFilterWrapper>\n        <Select\n          ref={(ref) => { this.select = ref; }}\n          options={this.props.options}\n          getOptionValue={option => (option.name)} // set option.standort.initialAddress here later\n          getOptionLabel={option => (`${option.name} | ${option.location[0].address}`)} // set option.name here later\n          onChange={item => this.onChange(item)}\n          placeholder=\"Nach einer Einrichtung suchen...\"\n          classNamePrefix=\"rs\"\n          isClearable\n        />\n      </SearchFilterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  options: dataAsArraySelector(state),\n  // detailData: state.detailData\n}), Actions)(SearchFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n\nimport { getSubCategoryLabel } from '~/state/dataUtils';\nimport { tagsCountSelector } from '~/state/Selectors';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: ${ props => props.theme.margin[2]};\n\n  &::last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: ${ props => props.active ? 'white' : `${props.color}` };\n  position: relative;\n  line-height: 1;\n  background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n  cursor: pointer;\n  transition: all .125s ease-in-out;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n    transition: all .125s ease-in-out;\n  }\n`;\n\nclass SubCategoryTags extends PureComponent {\n\n  onChange(subCat) {\n    const { category, toggleSubCategoryFilter, setActiveFilter, subCategoryFilter } = this.props;\n    toggleSubCategoryFilter(category, subCat);\n    setActiveFilter('category');\n  }\n\n  render() {\n    const {\n      categories,\n      colorizer,\n      colorizerLight,\n      type,\n      className,\n      activeFilter,\n      setActiveFilter,\n      category,\n      filter,\n      tagsCount,\n    } = this.props;\n\n    const { subCategoryFilter } = filter;\n\n    return (\n        <CategoryLabelWrapper className={className}>\n          {categories.map(subCategory => {\n            const count = tagsCount[subCategory] === undefined ? '0' : tagsCount[subCategory];\n            if ( count > 0 ) {\n              return (\n                <CategoryLabel\n                  key={`CategoryLabel__${subCategory}`}\n                  color={colorizer(category)}\n                  active={subCategoryFilter[category].includes(subCategory)}\n                  onClick={() => this.onChange(subCategory)}\n                  colorLight={colorizerLight(category)}\n                >\n                  { getSubCategoryLabel(category, subCategory) }\n                  { tagsCount && (` (${count})`) }\n                </CategoryLabel>\n              )\n            }\n          })}\n        </CategoryLabelWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  tagsCount: tagsCountSelector(state),\n  colorizerLight: state.colorizerLight,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(SubCategoryTags);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { getCategoryLabel } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport SubCategoryTags from '~/components/SubCategoryTags'\n\nimport Actions from '~/state/Actions';\n\nimport CategoryLabel from '~/components/CategoryLabel';\n\nconst CategoryFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  height: fit-content;\n`;\n\nconst StyledFormGroup = styled(FormGroup)`\n  opacity: ${p => p.active === 'category' ? 1 : .5};\n`;\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book',\n  },\n})(FormControlLabel);\n\n\nclass CategoryFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      service: true,\n      media: true,\n      app: true,\n      hardware: true,\n    }\n  }\n\n  onChange(category) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleCategoryFilter(category);\n    this.setState({\n      [category]: !this.state[category]\n    })\n    setActiveFilter('category')\n  }\n\n  handleClick() {\n    setActiveFilter('category')\n  }\n\n  render() {\n    const { categories, subCategoryList, filter, activeFilter, setActiveFilter } = this.props;\n\n    return (\n      <StyledFormGroup active={activeFilter} aria-label=\"position\" row>\n      { categories.map((category,i) => {\n        return (\n          <CategoryFilterWrapper key={`CategoryFilter__${i}__${category}`}>\n            <StyledFormControlLabel\n              value={category}\n              color=\"green\"\n              checked={filter.categoryFilter.includes(category)}\n              onClick={() => {this.onChange(category)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={<CategoryLabel label={() => { getCategoryLabel(category) }} category={category} color=\"default\"/>} // getCategoryLabel(category)\n              labelPlacement=\"end\"\n            />\n            { filter.categoryFilter.includes(category) &&\n              <SubCategoryTags\n                categories={ subCategoryList[category] }\n                key={`SubCategoryTags__${i}__${category}`}\n                category={category}\n              />\n            }\n          </CategoryFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  categories: state.categories,\n  subCategoryList: state.subCategoryList,\n  colorizer: state.colorizer,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(CategoryFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n\nimport { getTargetGroupLabel } from '~/state/dataUtils';\nimport { tagsCountTargetGroupSelector } from '~/state/Selectors';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  opacity: ${p => p.active === 'target' ? 1 : .5};\n  margin-bottom: ${ props => props.theme.margin[2]};\n\n  &::last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: ${ props => props.active ? 'white' : `${props.color}` };\n  position: relative;\n  line-height: 1;\n  background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n  cursor: pointer;\n  transition: all .125s ease-in-out;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n    transition: all .125s ease-in-out;\n  }\n`;\n\nclass TargetGroupTags extends PureComponent {\n\n  onChange(groupTag) {\n    const { targetGroupType, toggleTargetGroupTagFilter, activeFilter, setActiveFilter } = this.props;\n    toggleTargetGroupTagFilter(targetGroupType, groupTag);\n    setActiveFilter('target');\n  }\n\n  render() {\n    const {\n      targetGroupTypes,\n      colorizer,\n      targetGroups,\n      colorizerLight,\n      type,\n      className,\n      targetGroupType,\n      filter,\n      activeFilter,\n      tagsCountTargetGroup\n    } = this.props;\n\n    const { targetGroupTagsFilter } = filter;\n\n    return (\n        <CategoryLabelWrapper active={activeFilter} className={className}>\n          {targetGroups.map(t => {\n\n            if (tagsCountTargetGroup) {\n\n              if (tagsCountTargetGroup[targetGroupType]) {\n\n                if (tagsCountTargetGroup[targetGroupType][t] > 0) {\n                  return (\n                    <CategoryLabel\n                    key={`CategoryLabel__${t}`}\n                    color={'#000000'}\n                    active={targetGroupTagsFilter[targetGroupType].includes(t)}\n                    onClick={() => this.onChange(t)}\n                    colorLight={'#E3E3E3'}\n                  >\n                    { getTargetGroupLabel(targetGroupType, t) + ` (${tagsCountTargetGroup[targetGroupType][t]})` }\n                  </CategoryLabel>\n                  )\n                }\n              }\n\n            }\n\n          })}\n        </CategoryLabelWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  targetGroupTypes: state.targetGroupTypes,\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n  tagsCountTargetGroup: tagsCountTargetGroupSelector(state),\n}), Actions)(TargetGroupTags);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { styled as styledUi, withStyles } from '@material-ui/core/styles';\n\nimport { getTargetGroupType, targetGroups } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TargetGroupTags from '~/components/TargetGroupTags'\n\nimport Actions from '~/state/Actions';\n\nconst TargetGroupFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  opacity: ${p => p.active === 'target' ? 1 : .5};\n`;\n\nconst StyledFormGroup = withStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n})(FormGroup)\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book'\n  },\n})(FormControlLabel);\n\n\n\nclass CategoryFilter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(type) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleTargetGroupTypeFilter(type);\n    setActiveFilter('target');\n  }\n\n  render() {\n    const { targetGroupTypes, filter, activeFilter, setActiveFilter } = this.props\n    return (\n      <StyledFormGroup aria-label=\"position\" row>\n      { targetGroupTypes.map((type,i) => {\n        return (\n          <TargetGroupFilterWrapper active={activeFilter} key={`TargetGroupFilter__${i}__${type}`}>\n            <StyledFormControlLabel\n              value={type}\n              checked={filter.targetGroupFilter.includes(type)}\n              onClick={() => {this.onChange(type)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={getTargetGroupType(type)}\n              labelPlacement=\"end\"\n            />\n            { filter.targetGroupFilter.includes(type) &&\n              <TargetGroupTags\n                targetGroups={ targetGroups[type] }\n                key={`TargetGroupsTags__${i}__${type}`}\n                targetGroupType={type}\n              />\n            }\n          </TargetGroupFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  targetGroupTypes: state.targetGroupTypes,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(CategoryFilter);","import styled from 'styled-components';\n\nconst CardDivider = styled.div`\n  margin: ${props => props.theme.margin[0]} 0;\n  border-top: 1px solid #ddd;\n`;\n\nexport default CardDivider;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n// import SidebarItemTitle from '~/modules/Sidebar/SidebarItemTitle';\nimport Select from '~/components/Select';\n\nconst DistrictFilterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  opacity: ${p => p.active === 'district' ? 1 : .5};\n`;\n\nconst StyledOption = styled.option`\n  font-family: 'Verdana';\n  font-size: 12px;\n`;\n\nconst Option = (props) => {\n  const label = props.properties.alias;\n  const value = props.properties.id;\n  const count = props.properties.count;\n\n  return (\n    <StyledOption\n      key={`DistrictOption__${value}`}\n      value={value}\n    >\n      {label} ({count})\n    </StyledOption>\n  );\n};\n\nclass DistrictFilter extends PureComponent {\n  onChange(evt) {\n    const { setActiveFilter } = this.props;\n    setActiveFilter('district');\n    let { value } = evt.target;\n    if (evt.target.value === 'none') value = false;\n    this.props.setDistrictFilter(value);\n  }\n\n  handleClick() {\n    const { setActiveFilter } = this.props;\n    setActiveFilter('district')\n  }\n\n  render() {\n    const { districts, selectedDistrict, data, activeFilter, setActiveFilter } = this.props;\n\n    if (!districts || !data) {\n      return null;\n    }\n\n    let selectValue = !selectedDistrict ? 'none' : selectedDistrict;\n\n    if (activeFilter != 'district') {\n      selectValue = 'none';\n    }\n\n    return (\n      <DistrictFilterWrapper onClick={() => { this.handleClick() }} active={activeFilter}>\n        <Select value={selectValue} onChange={evt => this.onChange(evt)}>\n          <StyledOption key=\"DistrictOption__All\" value=\"none\">\n            Alle Bezirke\n          </StyledOption>\n          {data.map((feat, i) => {\n            return (\n              <Option key={`DistrictOption__${feat.properties.alias}`} {...feat} />\n            )\n            })}\n        </Select>\n      </DistrictFilterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  districts: state.additionalData.districts,\n  activeFilter: state.activeFilter,\n  selectedDistrict: state.filter.districtFilter,\n}), Actions)(DistrictFilter);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { getHomeschoolType, targetGroups } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Actions from '~/state/Actions';\n\nconst TargetGroupFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  opacity: ${p => p.active === 'homeschool' ? 1 : .5};\n`;\n\nconst StyledFormGroup = withStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n})(FormGroup)\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book'\n  },\n})(FormControlLabel);\n\n\n\nclass HomeschoolFilter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(type) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleHomeschoolFilter(type);\n    setActiveFilter('homeschool');\n  }\n\n  render() {\n    const { homeschoolTypes, filter, activeFilter, setActiveFilter } = this.props\n    return (\n      <StyledFormGroup aria-label=\"position\" row>\n      { homeschoolTypes.map((type,i) => {\n        return (\n          <TargetGroupFilterWrapper active={activeFilter} key={`HomeSchoolFilter__${i}__${type}`}>\n            <StyledFormControlLabel\n              value={type}\n              checked={filter.homeschoolFilter.includes(type)}\n              onClick={() => {this.onChange(type)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={getHomeschoolType(type)}\n              labelPlacement=\"end\"\n            />\n          </TargetGroupFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  homeschoolTypes: state.homeschoolTypes,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(HomeschoolFilter);\n","import React, { PureComponent, Fragment, useState } from 'react';\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\nimport styled from 'styled-components';\n\nimport ResetFilter from './ResetFilter';\nimport SidebarTitle from '../SidebarTitle';\nimport SearchFilter from './SearchFilter';\nimport CategoryFilter from './CategoryFilter';\nimport TargetGroupFilter from './TargetGroupFilter';\nimport DetailCard from '~/components/Card/Detail';\nimport CardDivider from '~/components/Card/CardDivider';\nimport SidebarSubtitle from '~/modules/Sidebar/SidebarSubtitle';\nimport DistrictFilter from './DistrictFilter';\nimport HomeschoolFilter from './HomeschoolFilter';\n// import LocationFilter from './LocationFilter';\n\nconst StyledDivider = styled(CardDivider)`\n  margin: 30px 0;\n  transform: translateX(-15px);\n  width: 375px;\n  border-top: 1px solid #ddd;\n`;\n\n\nconst SidebarFilter = p => {\n\n    const { selectedData, detailData, instPerDistrict, isLoading } = p;\n    const [active, setActive] = useState(0)\n\n    return (\n      <Fragment>\n        { (selectedData && detailData && instPerDistrict) && (\n          <DetailCard data={detailData}/>\n        )}\n        { !selectedData && !isLoading && (\n        <Fragment>\n          <SidebarTitle>\n            Suche\n          </SidebarTitle>\n          <ResetFilter />\n          <SearchFilter />\n          <StyledDivider />\n          <SidebarSubtitle>Leistungsangebot</SidebarSubtitle>\n          <CategoryFilter active={active} />\n          <StyledDivider />\n          <SidebarSubtitle>Bezirk</SidebarSubtitle>\n          <DistrictFilter active={active} data={instPerDistrict}/>\n          <StyledDivider />\n          <SidebarSubtitle>Zielgruppe</SidebarSubtitle>\n          <TargetGroupFilter active={active} />\n          <StyledDivider />\n          <SidebarSubtitle>Schulfrei-Angebote</SidebarSubtitle>\n          <HomeschoolFilter active={active} />\n        </Fragment>\n        )}\n        { (!detailData && selectedData) && (null) }\n      </Fragment>\n    );\n}\n\nexport default connect(state => ({\n  selectedData: state.selectedData,\n  detailData: state.detailData,\n  instPerDistrict: state.instPerDistrict,\n}), Actions)(SidebarFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { Route, withRouter, Switch } from 'react-router-dom';\n\nimport SidebarClose from './SidebarClose';\n\nimport SidebarList from './SidebarList';\nimport SidebarInfo from './SidebarInfo';\nimport SidebarFavorites from './SidebarFavorites';\nimport SidebarFilter from './SidebarFilter';\n\nconst SidebarWrapper = styled.div`\n  display: block;\n  background: #ffffff;\n  display: flex;\n  box-shadow: ${props => (props.isVisible ? props.theme.boxShadow : 'none')};\n  z-index: 1;\n  flex-direction: column;\n  position: absolute;\n  transform: ${props => (props.isVisible ? 'translate3d(0, 0, 0)' : 'translate3d(calc(-100% - 15px), 0, 0)')};\n  transition: transform .5s, box-shadow .5s;\n  overflow: auto;\n  height: calc((100vh - 0px) - 24px);\n  margin: 12px;\n  max-width: 370px;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: hidden;\n\n  @media screen and (max-width: 600px) {\n    z-index: 10000;\n    max-width: calc(100% - 24px);\n  }\n`;\n\nconst SidebarContent = styled.div`\n  min-width: 280px;\n  max-width: 370px;\n  padding: 20px 15px;\n`;\n\nclass Sidebar extends PureComponent {\n    render() {\n      return (\n            <Route\n                path={['/liste', '/suche', '/favoriten', '/info']}\n                children={({ match }) => (\n                    <SidebarWrapper isVisible={match}>\n                        <SidebarClose />\n                        <SidebarContent>\n                          <Switch>\n                            <Route path=\"/suche\" component={SidebarFilter} />\n                            <Route path=\"/liste\" component={SidebarList} />\n                            <Route path=\"/favoriten\" component={SidebarFavorites} />\n                            <Route path=\"/info\" component={SidebarInfo} />\n                          </Switch>\n                        </SidebarContent>\n                    </SidebarWrapper>\n                )}\n            />\n      )\n    }\n}\n\nexport default withRouter(Sidebar);","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { withRouter } from 'react-router-dom';\nimport { piwik } from '~/state/dataUtils';\n\nimport Theme from '~/styles/DefaultTheme';\n\nimport Map from '~/modules/Map';\nimport Spinner from '~/components/Spinner';\nimport Nav from '~/components/Nav';\nimport Sidebar from '~/modules/Sidebar';\n\nconst StyledAppWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  display: flex;\n  font-family: ${props => props.theme.fonts.sans};\n`;\n\nconst muiTheme = createMuiTheme({\n  typography: {\n    fontFamily: \"Clan Medium\"\n  }\n});\n\nclass AppWrapper extends PureComponent {\n  componentDidMount() {\n    var _paq = [];\n    _paq.push([\"setCookieDomain\", \"*.edutech.technologiestiftung-berlin.de\"]);\n    _paq.push(['trackPageView']);\n    _paq.push(['enableLinkTracking']);\n    piwik(_paq)\n    window._paq = _paq;\n  }\n\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <MuiThemeProvider theme={muiTheme}>\n        <ThemeProvider theme={Theme}>\n          <StyledAppWrapper>\n            <Nav />\n            <Sidebar />\n            <Map />\n            <Spinner loading={isLoading}/>\n          </StyledAppWrapper>\n        </ThemeProvider>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default withRouter(connect(state => ({\n  isLoading: state.isLoading,\n  data: state.data\n}))(AppWrapper));\n","import React, { Component } from 'react';\nimport {\n  Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\n\nimport { connect } from 'unistore/react';\nimport history from '~/history';\n\nimport Actions, { loadEntryData } from '~/state/Actions';\nimport AppWrapper from './AppWrapper';\nimport Store from '~/state/Store';\nimport queryString from 'query-string';\n\nconst loadEntryDataAction = Store.action(loadEntryData(Store));\n\nfunction syncLocation(state, location) {\n  const parsedQuery = queryString.parse(location.search);\n\n  if (!parsedQuery.location) {\n    return {\n      detailData: false,\n      selectedData: false\n    };\n  }\n\n  loadEntryDataAction(parsedQuery.location);\n\n  return {};\n\n}\n\nconst updateLocation = Store.action(syncLocation);\n\nhistory.listen(location => updateLocation(location));\n\nsetTimeout(() => {\n  updateLocation(history.location);\n}, 1500);\n\n\nconst NotFoundRoute = () => (\n  <Redirect to=\"/\" />\n);\n\nclass App extends Component {\n  componentDidMount() {\n    setTimeout(() => {\n      history.push('/info');\n    }, 1800);\n  }\n\n  render() {\n    return (\n      <Router history={history}>\n        <Switch>\n          <Route exact path={['/', '/suche', '/analyse', '/liste', '/favoriten', '/info']} component={AppWrapper} />\n          <Route component={NotFoundRoute} />\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default connect(\n  state => state,\n  Actions\n)(App);\n","import styledNormalize from 'styled-normalize';\nimport { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  ${styledNormalize}\n\n  @font-face {\n      font-family: 'Clan Bold';\n      src: url('../../public/fonts/clanot-bold-webfont.woff') format('woff');\n      font-weight: 800;\n      font-style: normal;\n  }\n\n  @font-face {\n      font-family: 'Clan Medium';\n      src: url('../../public/fonts/clanot-medium-webfont.woff') format('woff');\n      font-weight: 600;\n      font-style: normal;\n  }\n\n  @font-face {\n      font-family: 'Clan Book';\n      src: url('../../public/fonts/clanot-book-webfont.woff') format('woff');\n      font-weight: 400;\n      font-style: normal;\n  }\n\n\n  mapboxgl-ctrl-logo {\n    display: none;\n  }\n\n  .mapbox-improve-map {\n      display: none;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  .bold {\n    font-family: 'Clan Bold';\n    font-weight: 800;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    position: relative;\n    font-family: 'Clan Medium';\n  }\n\n  .category-label {\n    display: block;\n    margin-top: 10px;\n    font-size: 12px;\n    margin: 10px 0px 0;\n    padding: 7px 10px 6px 24px;\n    border-radius: 12px;\n    color: white;\n    position: relative;\n    line-height: 1;\n    background: black;\n    width: fit-content;\n\n    &:before {\n      content: '';\n      position: absolute;\n      height: 8px;\n      width: 8px;\n      background: #000;\n      border-radius: 100%;\n      border: 2px solid white;\n      left: 7px;\n      top: 6px;\n    }\n\n    &.yellow {\n      background: #DCC82D;\n\n      &:before {\n        background: #DCC82D;\n      }\n    }\n\n    &.green {\n      background: #41B496;;\n\n      &:before {\n        background: #41B496;;\n      }\n    }\n\n    &.blue {\n      background: #1E3791;\n\n      &:before {\n        background: #1E3791;\n      }\n    }\n\n    &.red {\n      background: #E60032;\n\n      &:before {\n        background: #E60032;\n      }\n    }\n  }\n`;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unistore/react';\n\nimport Store from '~/state/Store';\nimport App from '~/modules/App';\nimport GlobalStyles from '~/styles/Global';\n\nconst root = document.createElement('div');\n\nReactDOM.render(\n  <Provider store={Store}>\n    <Fragment>\n      <GlobalStyles />\n      <App />\n    </Fragment>\n  </Provider>,\n  root\n);\n\ndocument.body.appendChild(root);\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import turfBbox from '@turf/bbox';\nimport { scaleOrdinal } from 'd3-scale';\nimport Store from 'store';\nimport idx from 'idx';\nimport pointInPolygon from '@turf/boolean-point-in-polygon';\nimport config from '../../config.json';\n\nexport const getDistrictBounds = districtFeature => (\n  turfBbox(districtFeature)\n);\n\nexport const getCategoryLabel = (value) => {\n  const categoryDict = {\n    \"service\": \"Service / Plattform / Dienstleistung\",\n    \"app\": \"Lehr- & Lernmaterial – Software/Apps\",\n    \"media\": \"Lehr- & Lernmaterial – Audiovis. Medien\",\n    \"hardware\": \"Hardware\"\n  };\n  return categoryDict[value];\n}\n\nexport const sortData = (sortBy, direction = 'asc') => (aObj, bObj) => {\n  const a = idx(aObj, _ => _[sortBy]);\n  const b = idx(bObj, _ => _[sortBy]);\n  const type = typeof a;\n\n  if (type === 'string' && direction === 'asc') {\n    return a.localeCompare(b);\n  }\n\n  if (type === 'string' && direction === 'dec') {\n    return b.localeCompare(a);\n  }\n\n  if (type === 'boolean' && direction === 'asc') {\n    return (a === b) ? 0 : a ? -1 : 1; // eslint-disable-line\n  }\n\n  if (type === 'boolean' && direction === 'dec') {\n    return (a === b) ? 0 : a ? 1 : -1; // eslint-disable-line\n  }\n\n  return direction === 'asc' ? a - b : b - a;\n};\n\nexport const createMarkup = (content) => {\n  return {__html: content};\n}\n\nexport const objectSize = (obj) => {\n    var size = 0, key;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n};\n\nconst replaceAll = (str, find, replace) => {\n    return str.replace(new RegExp(find, 'g'), replace);\n}\n\nexport const addLineBreaks = (content) => {\n  return replaceAll(content, ',', ',</br>');\n}\n\nexport const subCategories = {\n  'service': [\n    \"coachingService\",\n    \"blendedLearningService\",\n    \"campsService\",\n    \"codingService\",\n    \"courseService\",\n    \"educationService\",\n    \"workshopService\",\n    \"otherService\"\n  ],\n  'hardware': [\n    \"controllerHardware\",\n    \"productHardware\",\n    \"materialHardware\",\n    \"deviceHardware\",\n    \"kitsHardware\",\n    \"otherhardware\",\n  ],\n  'media': [\n    \"cmsMedia\",\n    \"oerMedia\",\n    \"videosMedia\",\n    \"audioMedia\",\n    \"socialMedia\",\n    \"vrMedia\",\n    \"otherMedia\",\n  ],\n  'app': [\n    \"adaptiveLearningApp\",\n    \"orgaApp\",\n    \"backMiddleTechApp\",\n    \"inclContentApp\",\n    \"analyticsApp\",\n    \"cmsApp\",\n    \"oerApp\",\n    \"otherApp\",\n  ]\n}\n\nexport const subCategoriesEmpty = {\n  'service': [],\n  'hardware': [],\n  'media': [],\n  'app': []\n}\n\nexport const targetGroupTypes = [\n  'private', 'institution'\n];\n\nexport const targetGroups = {\n  'private': [\n    \"family\",\n    \"preschool\",\n    \"lifelong\",\n    \"pupils\",\n    \"students\",\n    \"other\",\n    \"none\",\n    \"pupilsgs\",\n    \"pupilsgstwo\",\n    \"pupilsgssec\",\n    \"pupilsgssectwo\",\n    \"afternoon\",\n  ],\n  'institution': [\n    \"eduInstitutions\",\n    \"coworking\",\n    \"uni\",\n    \"kita\",\n    \"museum\",\n    \"schoolinst\",\n    \"uniinst\",\n    \"educators\",\n    \"incubator\",\n    \"network\",\n    \"administration\",\n    \"libraries\",\n    \"companies\",\n    \"inititatives\",\n    \"other\",\n    \"none\"\n  ]\n};\n\nexport const targetGroupsEmpty = {\n  'private': [],\n  'institution': []\n};\n\nexport const getTargetGroupType = (value) => {\n  const dict = {\n    'private': 'Privat',\n    'institution': 'Institionell'\n  }\n  return dict[value];\n}\n\nexport const getHomeschoolType = (value) => {\n  const dict = {\n    'false': 'Nicht aktiviert',\n    'true': 'Aktiviert'\n  }\n  return dict[value];\n}\n\nexport const getTargetGroupLabel = (type, group) => {\n  const dict = {\n    'institution': {\n      administration: \"Administration\",\n      libraries: \"Bibliotheken\",\n      eduInstitutions: \"Bildungsinstitutionen\",\n      museum: \"Museen\",\n      educators: \"Pädagog*innen\",\n      companies: \"Unternehmen\",\n      inititatives: \"Vereine / Initiativen\",\n      other: \"Andere\",\n      kita: \"Kita/Vorschule\",\n      schoolinst: \"Schule\",\n      uniinst: \"Hochschule\",\n      none: \"Unbestimmt\",\n    },\n    'private': {\n      family: \"Familie\",\n      preschool: \"Kita/Vorschule\",\n      lifelong: \"Lifelong Learning\",\n      pupils: \"Schüler*innen\",\n      pupilsgs: \"Schüler*innen GS 1-3\",\n      pupilsgstwo: \"Schüler*innen GS 4-6\",\n      pupilsgssec: \"Schüler*innen SEK I\",\n      pupilsgssectwo: \"Schüler*innen SEK II\",\n      afternoon: \"Nachmittagsbereich\",\n      students: \"Studierende\",\n      other: \"Andere\",\n      none: \"Unbestimmt\",\n    }\n  }\n\n  if (!dict[type][group]) {\n    return 'Unbestimmt';\n  }\n\n  return dict[type][group];\n}\n\nexport const getSubCategoryLabel = (category, subcategory) => {\n  const dict = {\n    'service': {\n      \"coachingService\": \"Beratung/ Coaching\",\n      \"blendedLearningService\": \"Blended Learning Angebote\",\n      \"campsService\": \"Camps\",\n      \"codingService\": \"Coding Angebote\",\n      \"courseService\": \"Courseware (z.B. MOOCs)\",\n      \"educationService\": \"Fort- & Weiterbildung\",\n      \"workshopService\": \"Workshop\",\n      \"otherService\": \"Andere Formate\"\n    },\n    'hardware': {\n      \"controllerHardware\": \"Microcontroller/Platine\",\n      \"productHardware\": \"Produkt/Erfindung\",\n      \"materialHardware\": \"Dazugehöriges Lehrmaterial Pädagogen\",\n      \"deviceHardware\": \"Endgeräte, Smartboards etc.\",\n      \"kitsHardware\": \"Lernmaterial Kids/ Privatpersonen\",\n      \"otherhardware\": \"Andere\"\n    },\n    'media': {\n      \"cmsMedia\": \"LMS, CMS etc.\",\n      \"oerMedia\": \"OER\",\n      \"videosMedia\": \"Videos\",\n      \"audioMedia\": \"Podcast/andere Audio\",\n      \"socialMedia\": \"Social Media & Collaboration tools\",\n      \"vrMedia\": \"VR/AR-Inhalte\",\n      \"otherMedia\": \"Andere innovative Medien\"\n    },\n    'app': {\n      \"adaptiveLearningApp\": \"Adaptive Learning\",\n      \"orgaApp\": \"Administration/Organisation\",\n      \"backMiddleTechApp\": \"Back/Middle technologies\",\n      \"inclContentApp\": \"Inklusiver Content\",\n      \"analyticsApp\": \"Learning Analytics\",\n      \"cmsApp\": \"LMS, CMS etc.\",\n      \"oerApp\": \"OER\",\n      \"otherApp\": \"Anderer innovativer Content\"\n    }\n  }\n\n  return dict[category][subcategory];\n}\n\nexport const getUniqueSubCategories = (data) => {\n  const allCategories = data.features\n    .map(d => d.properties.categoriesSelected)\n    .reduce((acc, value) => acc.concat(value), []);\n  return [...new Set(allCategories)];\n};\n\nexport const getColorizer = (uniqueCategories, type) => {\n  const t = type === 'light' ? 'colorsLight' : 'colors';\n\n  const normalizedCategories = uniqueCategories.map(cat => cat.toLowerCase());\n  const colorScale = scaleOrdinal().domain(normalizedCategories).range(config[t]);\n\n  return (category) => {\n    const loweredCategory = category ? category.toString().toLowerCase() : '';\n    return normalizedCategories.includes(loweredCategory) ? colorScale(loweredCategory) : '#bbb';\n  };\n};\n\nexport const filterCategories = (props, categoryFilter) => {\n  if (!categoryFilter || !props) {\n    return false;\n  }\n\n  return !categoryFilter.some(cat => props.category.includes(cat));\n};\n\nexport const filterSubCategories = (props, subCategoryFilter) => {\n  if (!subCategoryFilter[props.category] || !props) {\n    return false;\n  }\n\n  return !subCategoryFilter[props.category].some(cat => props.subCategoriesSelected.includes(cat));\n}\n\nexport const filterHomeschool = (props, homeschoolFilter) => {\n  if (!homeschoolFilter || !props) {\n    return false;\n  }\n\n  return !homeschoolFilter.some(cat => props.homeschool === cat);\n};\n\nexport const filterTargetGroupTypes = (props, targetGroupFilter) => {\n  if (!targetGroupFilter || !props) {\n    return false;\n  }\n\n  return !targetGroupFilter.some(cat => props.targetGroupsSelected.includes(cat));\n};\n\nexport const filterTargetGroupTags = (props, targetGroupTagsFilter, type) => {\n  if (!targetGroupTagsFilter[type] || !props) {\n    return false;\n  }\n\n  return !targetGroupTagsFilter[type].some(cat => props.targetGroupTagsSelectedArr.includes(cat));\n}\n\nexport const mailTo = (name) => {\n  return `mailto:bildung@technologiestiftung-berlin.de?subject=Edutech Änderungswunsch: ${name}`\n}\n\nexport const piwik = (_paq) => {\n  const u=\"https://piwik.technologiestiftung-berlin.de/\";\n  _paq.push(['setTrackerUrl', u+'matomo.php']);\n  _paq.push(['setSiteId', '11']);\n  let d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n  g.type='text/javascript'; \n  g.async=true; \n  g.defer=true; \n  g.src=u+'matomo.js'; \n  s.parentNode.insertBefore(g,s);\n\n  return _paq;\n}\n\nexport const getFavs = () => Store.get(config.localStorage.favKey) || [];\n\nexport const setFavs = favs => Store.set(config.localStorage.favKey, favs);\n\nexport const filterDistricts = (feature, districtFilter, districts) => {\n  if (!districts || !districtFilter) {\n    return false;\n  }\n\n  if (districtFilter == '13') {\n    return !feature.properties.outOfBounds;\n  }\n\n  const polygon = districts.features\n    .find(feat => feat.properties.spatial_name === districtFilter);\n\n  return !pointInPolygon(feature, polygon);\n};\n\nexport const featOutOfBounds = (districts, parsedData) => {\n  districts.features.forEach(district => {\n    parsedData.features.forEach(feat => {\n      if (pointInPolygon(feat, district)) {\n        feat.properties.outOfBounds = false;\n      }\n    })\n  })\n  return parsedData;\n}\n\nexport const countInstPerDistrict = (districts, parsedData, districtsCenter) => {\n    let arr = [];\n\n    let otherFeat = {\n      properties: {\n        alias: 'Brandenburg',\n        count: 0,\n        id: 13\n      }\n    }\n\n    districts.features.forEach(district => {\n      const match = districtsCenter.bezirke.find(d => (d.id === district.properties.spatial_name));\n      const obj = {\n        id: district.properties.spatial_name,\n        coordinates: match.pos,\n        properties: {\n          id: district.properties.spatial_name,\n          alias: district.properties.spatial_alias,\n          count: 0,\n        }\n      }\n      arr.push(obj)\n    })\n\n    arr.push(otherFeat);\n\n    districts.features.forEach((district, i) => {\n      parsedData.features.forEach(feat => {\n        if (pointInPolygon(feat, district)) {\n          arr[i].properties.count += 1;\n        }\n      })\n    })\n\n    parsedData.features.forEach(feat => {\n      if (feat.properties.outOfBounds) {\n        arr[arr.length - 1].properties.count += 1;\n      }\n    })\n\n    return arr;\n}\n\nexport default {\n  getColorizer,\n  countInstPerDistrict,\n  featOutOfBounds,\n  filterCategories,\n  filterSubCategories,\n  getUniqueSubCategories,\n  getFavs,\n  setFavs,\n  getCategoryLabel,\n  subCategories,\n  targetGroups,\n  getTargetGroupLabel,\n  getTargetGroupType,\n  piwik,\n  filterDistricts,\n  filterTargetGroupTypes,\n  targetGroupsEmpty,\n  filterTargetGroupTags,\n  filterHomeschool,\n  createMarkup,\n  objectSize,\n  mailTo,\n  subCategoriesEmpty,\n  getHomeschoolType\n};\n","import fetch from \"unfetch\";\nimport feature from \"topojson-client/src/feature\";\n\nexport async function fetchJSON(url) {\n\treturn fetch(url).then((res) => res.json());\n}\n\nexport async function fetchTopoJSON(url) {\n\treturn new Promise(async (resolve, reject) => {\n\t\ttry {\n\t\t\tconst topoData = await fetchJSON(url);\n\t\t\tconst data = feature(\n\t\t\t\ttopoData,\n\t\t\t\ttopoData.objects[Object.keys(topoData.objects)[0]],\n\t\t\t);\n\t\t\treturn resolve(data);\n\t\t} catch (err) {\n\t\t\treturn reject(err);\n\t\t}\n\t});\n}\n\nexport const opacityFromState = (state) => {\n\tswitch (state) {\n\t\tcase \"entering\":\n\t\t\treturn 1;\n\t\tcase \"entered\":\n\t\t\treturn 1;\n\t\tcase \"exiting\":\n\t\t\treturn 0;\n\t\tcase \"exited\":\n\t\t\treturn 0;\n\t\tdefault:\n\t\t\treturn 0;\n\t}\n};\n\nexport const isMobile =\n\tnavigator.userAgent.match(/Android/i) ||\n\tnavigator.userAgent.match(/webOS/i) ||\n\tnavigator.userAgent.match(/iPhone/i) ||\n\tnavigator.userAgent.match(/iPad/i) ||\n\tnavigator.userAgent.match(/iPod/i);\n\nexport function noop() {}\n\nexport default {\n\tisMobile,\n\tfetchJSON,\n\topacityFromState,\n\tfetchTopoJSON,\n\tnoop,\n};\n","import history from \"~/history\";\nimport xor from \"lodash.xor\";\nimport { isMobile, fetchTopoJSON, fetchJSON } from \"~/utils\";\nimport {\n\tgetUniqueSubCategories,\n\tgetColorizer,\n\tsetFavs,\n\ttargetGroups,\n\tfeatOutOfBounds,\n\tcountInstPerDistrict,\n} from \"./dataUtils\";\n\nconst createArray = (d, type) => {\n\tconst key = `categories${d[\"category\"]}`;\n\tif (d[key]) {\n\t\treturn d[key].map((d) => d[type]);\n\t} else {\n\t\treturn [];\n\t}\n};\n\nconst createTargetGroupTags = (d) => {\n\tlet arr = [\"private\", \"instituion\", \"instituionother\", \"privateother\"];\n\tarr = arr.map((key) => {\n\t\tconst concattedKey = `targetgroup${key}`;\n\t\tif (d[concattedKey]) {\n\t\t\tif (typeof d[concattedKey] === \"object\") {\n\t\t\t\treturn d[concattedKey].map((d) => d[\"value\"]);\n\t\t\t} else if (\n\t\t\t\ttypeof d[concattedKey] === String &&\n\t\t\t\td[concattedKey] != undefined\n\t\t\t) {\n\t\t\t\treturn d[concattedKey];\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t});\n\treturn arr.flat();\n};\n\nconst checkTargetGroups = (d) => {\n\tlet arr = [];\n\tif (d) {\n\t\tif (d[\"targetgroupinstituion\"] && d[\"targetgroupinstituion\"].length > 0) {\n\t\t\tarr.push(\"institution\");\n\t\t}\n\n\t\tif (d[\"targetgroupprivate\"] && d[\"targetgroupprivate\"].length > 0) {\n\t\t\tarr.push(\"private\");\n\t\t}\n\t}\n\treturn arr;\n};\n\nconst createPoint = (d) => {\n\treturn {\n\t\ttype: \"Feature\",\n\t\tgeometry: {\n\t\t\ttype: \"Point\",\n\t\t\tcoordinates: [\n\t\t\t\trandomizeCoord(parseFloat(d[\"location\"][0][\"lng\"])),\n\t\t\t\trandomizeCoord(parseFloat(d[\"location\"][0][\"lat\"])),\n\t\t\t],\n\t\t},\n\t\tproperties: {\n\t\t\t...d,\n\t\t\tcategoriesSelected: createArray(d, \"text\"),\n\t\t\tsubCategoriesSelected: createArray(d, \"value\"),\n\t\t\ttargetGroupsSelected: checkTargetGroups(d),\n\t\t\ttargetGroupTagsSelectedArr: createTargetGroupTags(d),\n\t\t\toutOfBounds: true,\n\t\t\ticon: \"edutech-icon-2\", // TODO: add icon logic here!\n\t\t},\n\t};\n};\n\nconst randomizeCoord = (coord) => {\n\tconst randomValue = Math.random() / 20000 + 0.0003;\n\treturn Math.random() < 0.5 ? coord + randomValue : coord - randomValue;\n};\n\nexport const loadEntryData = (Store) => async (state, detailId) => {\n\tif (!detailId) {\n\t\treturn { detailData: false };\n\t}\n\n\ttry {\n\t\tif (state.data) {\n\t\t\tconst feat = state.data.features;\n\n\t\t\tconst all = feat.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item.properties,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst filtered = all.filter((i) => i.autoid === detailId)[0];\n\t\t\tconst newLocation = filtered.location[0]\n\t\t\tconst coordinates = [\n\t\t\t\tparseFloat(randomizeCoord(newLocation.lng)),\n\t\t\t\tparseFloat(randomizeCoord(newLocation.lat)),\n\t\t\t];\n\n\t\t\tif (isNaN(coordinates[1])) {\n\t\t\t\treturn {\n\t\t\t\t\tmapZoom: [Math.max(14, state.mapZoom)],\n\t\t\t\t\tdetailData: filtered,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tmapCenter: coordinates,\n\t\t\t\t\tmapZoom: [Math.max(14, state.mapZoom)],\n\t\t\t\t\tdetailData: filtered,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\treturn { isLoading: false };\n\t}\n};\n\nexport const loadDataApi = (Store) => async () => {\n\tStore.setState({ isLoading: true });\n\n\ttry {\n\t\tconst institutions = await fetchJSON(\"/public/data/institutions.json\");\n\t\tconst content = await fetchJSON(\"/public/data/info.json\");\n\t\tconst features = institutions.map(createPoint);\n\n\t\tconst districtsCenter = await fetchJSON(\"/public/data/bezirke-zentrum.json\");\n\t\tconst districts = await fetchTopoJSON(\"/public/data/berliner-bezirke.json\");\n\n\t\tlet parsedData = {\n\t\t\ttype: \"FeatureCollection\",\n\t\t\tfeatures,\n\t\t};\n\n\t\tparsedData = featOutOfBounds(districts, parsedData);\n\n\t\tconst institutionsPerDistrict = countInstPerDistrict(\n\t\t\tdistricts,\n\t\t\tparsedData,\n\t\t\tdistrictsCenter,\n\t\t);\n\n\t\tconst colorizer = getColorizer(Store.getState().categories, \"dark\");\n\t\tconst colorizerLight = getColorizer(Store.getState().categories, \"light\");\n\n\t\treturn {\n\t\t\tdata: parsedData,\n\t\t\tcontent: content,\n\t\t\tsubCategories: getUniqueSubCategories(parsedData),\n\t\t\tinstPerDistrict: institutionsPerDistrict,\n\t\t\tcolorizer,\n\t\t\tcolorizerLight,\n\t\t\tmapZoom: [11],\n\t\t\tisLoading: false,\n\t\t};\n\t} catch (err) {\n\t\treturn { isLoading: true };\n\t}\n};\n\nexport const setHighlightData = (state, highlightData) => {\n\treturn { highlightData };\n};\n\nconst loadFilterData = (Store) => async () => {\n\ttry {\n\t\tconst districts = await fetchTopoJSON(\"/public/data/berliner-bezirke.json\");\n\t\tStore.setState({ isLoading: false });\n\n\t\treturn {\n\t\t\tadditionalData: {\n\t\t\t\t...Store.getState().additionalData,\n\t\t\t\tdistricts,\n\t\t\t},\n\t\t};\n\t} catch (err) {\n\t\treturn { isLoading: false };\n\t}\n};\n\nconst setDetailRoute = (state, id = false) => {\n\tif (id) {\n\t\tconst nextLocation = isMobile ? `/?location=${id}` : `?location=${id}`;\n\t\treturn history.push(nextLocation);\n\t}\n\n\thistory.push(history.location.pathname.replace(/\\?location=.+/, \"\"));\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst resetDetailRoute = () => {\n\thistory.push(\"\");\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst setDetailRouteWithListPath = (state, id = false) => {\n\tif (id) {\n\t\tconst nextLocation = isMobile\n\t\t\t? `/liste/?location=${id}`\n\t\t\t: `/liste?location=${id}`;\n\t\treturn history.push(nextLocation);\n\t}\n\n\thistory.push(history.location.pathname.replace(/\\?location=.+/, \"\"));\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst setDetailData = (state, detailData) => ({ detailData });\nconst setSelectedData = (state, selectedData) => ({ selectedData });\nconst setMapCenter = (state, mapCenter) => ({ mapCenter });\n\nconst setTooltipData = (state, tooltipData) => ({ tooltipData });\n\nconst setTooltipPos = (state, tooltipPos) => ({ tooltipPos });\n\nconst setDistrictFilter = (state, districtFilter) => {\n\treturn {\n\t\tfilter: Object.assign({}, state.filter, { districtFilter }),\n\t\tdetailData: false,\n\t};\n};\n\nconst toggleFav = (state, favId) => {\n\tlet { favs } = state;\n\n\tfavs = xor(favs, [favId]);\n\n\tsetFavs(favs);\n\n\treturn { favs };\n};\n\nconst toggleTargetGroupTypeFilter = (state, type, deactivate = false) => {\n\tlet { targetGroupFilter, targetGroupTagsFilter } = state.filter;\n\n\tif (targetGroupFilter.includes(type) || deactivate) {\n\t\ttargetGroupFilter = targetGroupFilter.filter((item) => {\n\t\t\treturn item !== type;\n\t\t});\n\n\t\ttargetGroupTagsFilter[type] = [];\n\t} else {\n\t\ttargetGroupFilter.push(type);\n\t\ttargetGroupTagsFilter[type] = targetGroups[type];\n\t\ttargetGroupTagsFilter[type] = [];\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { targetGroupFilter });\n\n\treturn { filter };\n};\n\nconst toggleHomeschoolFilter = (state, type, deactivate = false) => {\n\tlet { homeschoolFilter } = state.filter;\n\n\tif (homeschoolFilter.includes(type) || deactivate) {\n\t\thomeschoolFilter = homeschoolFilter.filter((item) => {\n\t\t\treturn item !== type;\n\t\t});\n\t} else {\n\t\thomeschoolFilter.push(type);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { homeschoolFilter });\n\n\treturn { filter };\n};\n\nconst toggleCategoryFilter = (state, category, deactivate = false) => {\n\tlet { categoryFilter } = state.filter;\n\n\tif (categoryFilter.includes(category) || deactivate) {\n\t\tcategoryFilter = categoryFilter.filter((item) => {\n\t\t\treturn item !== category;\n\t\t});\n\t} else {\n\t\tcategoryFilter.push(category);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { categoryFilter });\n\treturn { filter };\n};\n\nconst setActiveFilter = (state, activeFilter) => ({\n\tactiveFilter,\n});\n\nconst setFilter = (state, filter) => ({\n\tfilter,\n});\n\nconst setListSorting = (state, listSorting) => ({\n\tlistSorting,\n});\n\nconst setZoom = (state, mapZoom) => ({\n\tmapZoom,\n});\n\nconst toggleSubCategoryFilter = (state, category, subcategory) => {\n\tlet { subCategoryFilter } = state.filter;\n\tlet subCategories = subCategoryFilter[category];\n\n\tif (subCategories.includes(subcategory)) {\n\t\tsubCategoryFilter[category] = subCategories.filter((item) => {\n\t\t\treturn item !== subcategory;\n\t\t});\n\t} else {\n\t\tsubCategoryFilter[category].push(subcategory);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { subCategoryFilter });\n\treturn { filter };\n};\n\nconst toggleTargetGroupTagFilter = (state, type, targetGroup) => {\n\tlet { targetGroupTagsFilter } = state.filter;\n\tlet targetGroupTags = targetGroupTagsFilter[type];\n\n\tif (targetGroupTags.includes(targetGroup)) {\n\t\ttargetGroupTagsFilter[type] = targetGroupTags.filter((item) => {\n\t\t\treturn item !== targetGroup;\n\t\t});\n\t} else {\n\t\ttargetGroupTagsFilter[type].push(targetGroup);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { targetGroupTagsFilter });\n\treturn { filter };\n};\n\nexport default (Store) => ({\n\tloadDataApi: loadDataApi(Store),\n\tsetTooltipData,\n\tsetDetailData,\n\tsetFilter,\n\tsetTooltipPos,\n\ttoggleFav,\n\tsetZoom,\n\tsetDistrictFilter,\n\tresetDetailRoute,\n\tsetSelectedData,\n\tsetDetailRoute,\n\tsetDetailRouteWithListPath,\n\tsetHighlightData,\n\ttoggleCategoryFilter,\n\tsetActiveFilter,\n\ttoggleSubCategoryFilter,\n\ttoggleTargetGroupTagFilter,\n\ttoggleTargetGroupTypeFilter,\n\tsetMapCenter,\n\ttoggleHomeschoolFilter,\n\tsetListSorting,\n\tloadEntryData: loadEntryData(Store),\n\tloadFilterData: loadFilterData(Store),\n});\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: white;\n  position: relative;\n  line-height: 1;\n  background: ${props => (props.color)};\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color || '#000'};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n  }\n`;\n\nclass CategoryLabels extends PureComponent {\n  render() {\n    const {\n      categories, colorizer, colorizerLight, type, className, category/*, hasBorder*/\n    } = this.props;\n\n    if (category === 'targetGroup') {\n      return (\n        <CategoryLabelWrapper className={className}>\n          {categories.map((cat, i) => (\n            <CategoryLabel\n              key={`CategoryLabel__${cat}__${i}`}\n              color={'#000000'}\n              colorLight={'#e1e1e1'}\n              type={type}\n            >\n              {cat}\n            </CategoryLabel>\n          ))}\n        </CategoryLabelWrapper>\n      )\n    } else {\n      return (\n          <CategoryLabelWrapper className={className}>\n            {categories.map(cat => (\n              <CategoryLabel\n                key={`CategoryLabel__${cat}`}\n                color={colorizer(category)}\n                colorLight={colorizerLight(category)}\n              >\n                {cat}\n              </CategoryLabel>\n            ))}\n          </CategoryLabelWrapper>\n      );\n    }\n\n  }\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight\n}))(CategoryLabels);\n"],"sourceRoot":""}
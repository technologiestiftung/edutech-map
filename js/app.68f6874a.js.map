{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/images/tsb-logo-coloured.svg","webpack:///./public/images/beBerlin.svg","webpack:///./public/images/ibb.jpg","webpack:///./public/images/edutech-regular.svg","webpack:///./public/images/edutech-homeschool.svg","webpack:///./src/state/dataUtils.js","webpack:///./src/state/Store.js","webpack:///./src/history.js","webpack:///./src/utils/index.js","webpack:///./src/state/Actions.js","webpack:///./src/styles/DefaultTheme.js","webpack:///./src/modules/Map/MapUtils.js","webpack:///./src/state/Selectors.js","webpack:///./src/modules/Map/Layers/MarkerLayer.js","webpack:///./src/modules/Map/MapViews/FilterView.js","webpack:///./src/components/CategoryLabels/index.js","webpack:///./src/components/Icon/index.js","webpack:///./src/components/GhostButton/index.js","webpack:///./src/components/Card/CardHeader.js","webpack:///./src/modules/Tooltip/index.js","webpack:///./src/components/RoundButton/index.js","webpack:///./src/styles/Utils.js","webpack:///./src/components/UIMap/index.js","webpack:///./src/components/TSBLogo/index.js","webpack:///./src/modules/Map/Other/LogoTile.js","webpack:///./src/modules/Map/index.js","webpack:///./src/components/Spinner/index.js","webpack:///./src/components/EdgeButton/index.js","webpack:///./src/components/Nav/index.js","webpack:///./src/modules/Sidebar/SidebarClose/index.js","webpack:///./src/components/Card/CardWrapper.js","webpack:///./src/components/Card/CardCompact.js","webpack:///./src/components/Link/index.js","webpack:///./src/components/EdgeButtonSmall/index.js","webpack:///./src/components/Card/CardActions.js","webpack:///./src/components/Card/CardParagraph.js","webpack:///./src/components/Card/CardTags.js","webpack:///./src/components/Card/CardLinks.js","webpack:///./src/components/Card/CardLogo.js","webpack:///./src/components/CategoryLabel/index.js","webpack:///./src/components/Card/CardBody.js","webpack:///./src/modules/Sidebar/SidebarTitle/index.js","webpack:///./src/components/Card/Detail.js","webpack:///./src/components/Select/index.js","webpack:///./src/components/Subtitle/index.js","webpack:///./src/modules/Sidebar/SidebarList/Sorter.js","webpack:///./src/modules/Sidebar/SidebarList/index.js","webpack:///./src/components/BeBerlinLogo/index.js","webpack:///./src/components/IBBLogo/index.js","webpack:///./src/components/Paragraph/index.js","webpack:///./src/modules/Sidebar/SidebarInfo/SidebarInfoLinks.js","webpack:///./src/modules/Sidebar/SidebarSubtitle/index.js","webpack:///./src/components/IconLegend/index.js","webpack:///./src/modules/Sidebar/SidebarInfo/SidebarInfoParagraph.js","webpack:///./src/modules/Sidebar/SidebarInfo/index.js","webpack:///./src/modules/Sidebar/SidebarFavorites/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/ResetFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/SearchFilter.js","webpack:///./src/components/SubCategoryTags/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/CategoryFilter.js","webpack:///./src/components/TargetGroupTags/index.js","webpack:///./src/modules/Sidebar/SidebarFilter/TargetGroupFilter.js","webpack:///./src/components/Card/CardDivider.js","webpack:///./src/modules/Sidebar/SidebarFilter/DistrictFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/HomeschoolFilter.js","webpack:///./src/modules/Sidebar/SidebarFilter/index.js","webpack:///./src/modules/Sidebar/index.js","webpack:///./src/modules/App/AppWrapper.js","webpack:///./src/modules/App/index.js","webpack:///./src/styles/Global.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","getCategoryLabel","createMarkup","content","__html","objectSize","obj","size","addLineBreaks","find","replace","RegExp","subCategories","subCategoriesEmpty","targetGroupTypes","targetGroups","targetGroupsEmpty","getTargetGroupType","getHomeschoolType","getTargetGroupLabel","type","group","dict","administration","libraries","eduInstitutions","museum","educators","companies","inititatives","other","kita","schoolinst","uniinst","none","family","preschool","lifelong","pupils","pupilsgs","pupilsgstwo","pupilsgssec","pupilsgssectwo","afternoon","students","getUniqueSubCategories","allCategories","features","map","properties","categoriesSelected","reduce","acc","concat","Set","getColorizer","uniqueCategories","normalizedCategories","cat","toLowerCase","colorScale","scaleOrdinal","domain","range","config","category","loweredCategory","toString","includes","filterCategories","props","categoryFilter","some","filterSubCategories","subCategoryFilter","subCategoriesSelected","filterHomeschool","homeschoolFilter","homeschool","filterTargetGroupTypes","targetGroupFilter","targetGroupsSelected","filterTargetGroupTags","targetGroupTagsFilter","targetGroupTagsSelectedArr","mailTo","piwik","_paq","u","document","g","createElement","getElementsByTagName","async","defer","src","parentNode","insertBefore","getFavs","Store","localStorage","favKey","setFavs","favs","set","filterDistricts","feature","districtFilter","districts","outOfBounds","polygon","feat","spatial_name","pointInPolygon","featOutOfBounds","parsedData","forEach","district","countInstPerDistrict","districtsCenter","arr","match","bezirke","id","coordinates","pos","alias","spatial_alias","count","filterSection","assign","createStore","isLoading","additionalData","categories","homeschoolTypes","info","activeFilter","activeP","local","instPerDistrict","detailData","selectedData","mapCenter","position","mapZoom","zoom","listSorting","subCategoryList","highlightData","tooltipPos","tooltipData","colorizer","colorizerLight","filter","history","createBrowserHistory","fetchJSON","url","fetch","then","res","json","fetchTopoJSON","Promise","resolve","reject","topoData","objects","keys","opacityFromState","state","isMobile","navigator","userAgent","createArray","createTargetGroupTags","concattedKey","String","undefined","flat","checkTargetGroups","createPoint","geometry","randomizeCoord","parseFloat","icon","coord","randomValue","Math","random","loadEntryData","detailId","all","item","filtered","autoid","newLocation","location","lng","lat","isNaN","max","loadDataApi","setState","institutions","institutionsPerDistrict","getState","setHighlightData","loadFilterData","setDetailRoute","nextLocation","pathname","resetDetailRoute","setDetailRouteWithListPath","setDetailData","setSelectedData","setMapCenter","setTooltipData","setTooltipPos","setDistrictFilter","toggleFav","favId","xor","toggleTargetGroupTypeFilter","deactivate","toggleHomeschoolFilter","toggleCategoryFilter","setActiveFilter","setFilter","setListSorting","setZoom","toggleSubCategoryFilter","subcategory","toggleTargetGroupTagFilter","targetGroup","targetGroupTags","px","fonts","sans","serif","mono","sansBold","sansMedium","fontSizes","boxShadow","borderRadius","colors","primary","secondary","lightgrey","midgrey","textgrey","lineHeight","margin","letterSpacing","padding","orderLayers","order","layerIds","style","_layers","startsWith","layerId","getLayer","moveLayer","dataSelector","filterSelector","instPerDistrictSelector","geojsonToArray","geojson","dataAsArraySelector","createSelector","initialFilterSelector","cloneDeep","private","institution","unfilteredFilterSelector","tagsCountTargetGroupSelector","objPrivate","objInstitution","targetgroupprivate","targetgroupinstituion","tagsCountSelector","enrichedDataSelector","nameStr","targetGroupTypesFilter","targetGroupTagsPrivateFilter","targetGroupTagsInstitutionFilter","isFav","color","colorLight","homeschooling","isFiltered","filteredDataSelector","filteredListDataSelector","sortBy","sort","direction","aObj","bObj","a","idx","_","b","localeCompare","sortData","targetGroupsArraySelector","val","text","favoritesSelector","clickTimeout","MarkerLayer","layout","onMouseMove","evt","handleMouseMove","filterCategory","clearTimeout","setTimeout","handleClick","onClick","timeoutClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onTouchStart","renderFeat","getCanvas","cursor","this","originalEvent","preventDefault","stopPropagation","lngLat","paintProps","highlightFeat","paint","PureComponent","connect","Actions","FilterView","if","labels","CategoryLabelWrapper","styled","div","CategoryLabel","theme","hasBorder","CategoryLabels","className","Icon","isHomeschool","width","height","viewBox","fill","opacity","cx","cy","points","stroke","strokeWidth","fillRule","button","StyledCategoryLabels","CardAddress","CardTitle","CardHeaderWrapper","teaserUrl","black","CardHeaderLeft","CardHeaderRight","StyledFlexWrapper","FavButton","Button","CardHeader","isListMode","dangerouslySetInnerHTML","address","active","StyledPopup","Popup","Tooltip","zIndex","isActive","getMediaQuery","css","breakpoints","media","StyledRoundButton","RoundButton","NavWrapper","isNavOpen","unfiltered","initialFilter","uiConfig","title","label","func","zoomIn","zoomOut","useLocation","matchPath","path","TSBLogo","attrs","href","target","StyledLogoTile","StyledTSBLogo","TSBLogoSrc","alt","LogoTile","LayerOrder","require","MapGL","ReactMapboxGl","minZoom","maxZoom","dragRotate","bearing","maxBounds","accessToken","process","MapWrapper","Map","resize","jumpTo","center","join","lastLayerIds","MapUtils","containerStyle","onStyleLoad","onData","flyToOptions","exact","component","withRouter","StyledCircularProgress","withStyles","root","svg","CircularProgress","SpinnerBG","SpinnerWrapper","Spinner","loading","Transition","in","timeout","appear","enter","exit","mountOnEnter","unmountOnExit","NavItem","NavLink","navConfig","Nav","to","search","EdgeButton","aria-label","StyledLink","Link","SidebarClose","CardWrapper","StyledCardWrapper","CardCompact","ButtonWrapper","StyledA","IconWrapper","CardActionsWrapper","CardActions","FavIcon","UnFavIcon","EdgeButtonSmall","CardParagraphWrapper","CardParagraph","CardTagsWrapper","CardTags","getHref","link","CardLinks","links","rel","formatLink","CardLogoWrapper","CardImage","CardLogo","CategoryLabelDiv","CardBodyWrapper","CardBody","logoUrl","logo","websiteString","contact","website","websitesArray","split","email","phone","openingHours","openinghours","description","DetailTitle","SidebarTitle","DetailHeader","DetailCardWrapper","StyledCardBody","DetailCard","maxHeight","innerWidth","innerHeight","onClose","select","h3","SorterWrapper","StyledSelect","Select","Sorter","Subtitle","onChange","handleChange","ListItems","SidebarList","Detail","BeBerlinLogo","BeBerlinLogoSrc","IBBLogo","IBBLogoSrc","LinksWrapper","SidebarLinks","LinkWrapper","urllink","labellink","LegendWrapper","isVisible","Paragraph","regular","homeschoolIcon","intro","iconLegend","boolActive","SidebarSubtitle","Separator","worktitle","work","workintro","contacttext","StyledEmptyFavorites","EmptyFavorites","ResetFilterButtonWrapper","ResetFilterButton","GhostButton","ResetFilter","SearchFilterWrapper","SearchFilter","prevProps","ref","options","getOptionValue","option","getOptionLabel","placeholder","classNamePrefix","isClearable","SubCategoryTags","subCat","tagsCount","subCategory","getSubCategoryLabel","CategoryFilterWrapper","StyledFormGroup","FormGroup","StyledCheckbox","checked","Checkbox","StyledFormControlLabel","fontSize","fontFamily","FormControlLabel","CategoryFilter","service","app","hardware","row","control","labelPlacement","Component","TargetGroupTags","groupTag","targetGroupType","tagsCountTargetGroup","TargetGroupFilterWrapper","display","flexDirection","CardDivider","DistrictFilterWrapper","StyledOption","Option","DistrictFilter","selectedDistrict","selectValue","HomeschoolFilter","StyledDivider","useState","TargetGroupFilter","SidebarWrapper","SidebarContent","Sidebar","children","SidebarFilter","SidebarFavorites","SidebarInfo","StyledAppWrapper","muiTheme","createMuiTheme","typography","AppWrapper","Theme","loadEntryDataAction","action","updateLocation","parsedQuery","queryString","parse","listen","NotFoundRoute","App","createGlobalStyle","styledNormalize","ReactDOM","render","store","Global","body","appendChild"],"mappings":"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","file":"js/app.68f6874a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([288,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"234b8c1b48eef5ab993064310b3a22e9.svg\";","module.exports = __webpack_public_path__ + \"fd4f79c3af569c604ed9f74a600c4c4b.svg\";","module.exports = __webpack_public_path__ + \"d40da7aee748304bb404786c4bc95752.jpg\";","module.exports = __webpack_public_path__ + \"965d6e144adcdcda5edeec541b61e297.svg\";","module.exports = __webpack_public_path__ + \"55ebe164c9e379a76eef820ba508aa45.svg\";","import turfBbox from '@turf/bbox';\nimport { scaleOrdinal } from 'd3-scale';\nimport Store from 'store';\nimport idx from 'idx';\nimport pointInPolygon from '@turf/boolean-point-in-polygon';\nimport config from '../../config.json';\n\nexport const getDistrictBounds = districtFeature => (\n  turfBbox(districtFeature)\n);\n\nexport const getCategoryLabel = (value) => {\n  const categoryDict = {\n    \"service\": \"Service / Plattform / Dienstleistung\",\n    \"app\": \"Lehr- & Lernmaterial – Software/Apps\",\n    \"media\": \"Lehr- & Lernmaterial – Audiovis. Medien\",\n    \"hardware\": \"Hardware\"\n  };\n  return categoryDict[value];\n}\n\nexport const sortData = (sortBy, direction = 'asc') => (aObj, bObj) => {\n  const a = idx(aObj, _ => _[sortBy]);\n  const b = idx(bObj, _ => _[sortBy]);\n  const type = typeof a;\n\n  if (type === 'string' && direction === 'asc') {\n    return a.localeCompare(b);\n  }\n\n  if (type === 'string' && direction === 'dec') {\n    return b.localeCompare(a);\n  }\n\n  if (type === 'boolean' && direction === 'asc') {\n    return (a === b) ? 0 : a ? -1 : 1; // eslint-disable-line\n  }\n\n  if (type === 'boolean' && direction === 'dec') {\n    return (a === b) ? 0 : a ? 1 : -1; // eslint-disable-line\n  }\n\n  return direction === 'asc' ? a - b : b - a;\n};\n\nexport const createMarkup = (content) => {\n  return {__html: content};\n}\n\nexport const objectSize = (obj) => {\n    var size = 0, key;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n};\n\nconst replaceAll = (str, find, replace) => {\n    return str.replace(new RegExp(find, 'g'), replace);\n}\n\nexport const addLineBreaks = (content) => {\n  return replaceAll(content, ',', ',</br>');\n}\n\nexport const subCategories = {\n  'service': [\n    \"coachingService\",\n    \"blendedLearningService\",\n    \"campsService\",\n    \"codingService\",\n    \"courseService\",\n    \"educationService\",\n    \"workshopService\",\n    \"otherService\"\n  ],\n  'hardware': [\n    \"controllerHardware\",\n    \"productHardware\",\n    \"materialHardware\",\n    \"deviceHardware\",\n    \"kitsHardware\",\n    \"otherhardware\",\n  ],\n  'media': [\n    \"cmsMedia\",\n    \"oerMedia\",\n    \"videosMedia\",\n    \"audioMedia\",\n    \"socialMedia\",\n    \"vrMedia\",\n    \"otherMedia\",\n  ],\n  'app': [\n    \"adaptiveLearningApp\",\n    \"orgaApp\",\n    \"backMiddleTechApp\",\n    \"inclContentApp\",\n    \"analyticsApp\",\n    \"cmsApp\",\n    \"oerApp\",\n    \"otherApp\",\n  ]\n}\n\nexport const subCategoriesEmpty = {\n  'service': [],\n  'hardware': [],\n  'media': [],\n  'app': []\n}\n\nexport const targetGroupTypes = [\n  'private', 'institution'\n];\n\nexport const targetGroups = {\n  'private': [\n    \"family\",\n    \"preschool\",\n    \"lifelong\",\n    \"pupils\",\n    \"students\",\n    \"other\",\n    \"none\",\n    \"pupilsgs\",\n    \"pupilsgstwo\",\n    \"pupilsgssec\",\n    \"pupilsgssectwo\",\n    \"afternoon\",\n  ],\n  'institution': [\n    \"eduInstitutions\",\n    \"coworking\",\n    \"uni\",\n    \"kita\",\n    \"museum\",\n    \"schoolinst\",\n    \"uniinst\",\n    \"educators\",\n    \"incubator\",\n    \"network\",\n    \"administration\",\n    \"libraries\",\n    \"companies\",\n    \"inititatives\",\n    \"other\",\n    \"none\"\n  ]\n};\n\nexport const targetGroupsEmpty = {\n  'private': [],\n  'institution': []\n};\n\nexport const getTargetGroupType = (value) => {\n  const dict = {\n    'private': 'Privat',\n    'institution': 'Institionell'\n  }\n  return dict[value];\n}\n\nexport const getHomeschoolType = (value) => {\n  const dict = {\n    'false': 'Nicht aktiviert',\n    'true': 'Aktiviert'\n  }\n  return dict[value];\n}\n\nexport const getTargetGroupLabel = (type, group) => {\n  const dict = {\n    'institution': {\n      administration: \"Administration\",\n      libraries: \"Bibliotheken\",\n      eduInstitutions: \"Bildungsinstitutionen\",\n      museum: \"Museen\",\n      educators: \"Pädagog*innen\",\n      companies: \"Unternehmen\",\n      inititatives: \"Vereine / Initiativen\",\n      other: \"Andere\",\n      kita: \"Kita/Vorschule\",\n      schoolinst: \"Schule\",\n      uniinst: \"Hochschule\",\n      none: \"Unbestimmt\",\n    },\n    'private': {\n      family: \"Familie\",\n      preschool: \"Kita/Vorschule\",\n      lifelong: \"Lifelong Learning\",\n      pupils: \"Schüler*innen\",\n      pupilsgs: \"Schüler*innen GS 1-3\",\n      pupilsgstwo: \"Schüler*innen GS 4-6\",\n      pupilsgssec: \"Schüler*innen SEK I\",\n      pupilsgssectwo: \"Schüler*innen SEK II\",\n      afternoon: \"Nachmittagsbereich\",\n      students: \"Studierende\",\n      other: \"Andere\",\n      none: \"Unbestimmt\",\n    }\n  }\n\n  if (!dict[type][group]) {\n    return 'Unbestimmt';\n  }\n\n  return dict[type][group];\n}\n\nexport const getSubCategoryLabel = (category, subcategory) => {\n  const dict = {\n    'service': {\n      \"coachingService\": \"Beratung/ Coaching\",\n      \"blendedLearningService\": \"Blended Learning Angebote\",\n      \"campsService\": \"Camps\",\n      \"codingService\": \"Coding Angebote\",\n      \"courseService\": \"Courseware (z.B. MOOCs)\",\n      \"educationService\": \"Fort- & Weiterbildung\",\n      \"workshopService\": \"Workshop\",\n      \"otherService\": \"Andere Formate\"\n    },\n    'hardware': {\n      \"controllerHardware\": \"Microcontroller/Platine\",\n      \"productHardware\": \"Produkt/Erfindung\",\n      \"materialHardware\": \"Dazugehöriges Lehrmaterial Pädagogen\",\n      \"deviceHardware\": \"Endgeräte, Smartboards etc.\",\n      \"kitsHardware\": \"Lernmaterial Kids/ Privatpersonen\",\n      \"otherhardware\": \"Andere\"\n    },\n    'media': {\n      \"cmsMedia\": \"LMS, CMS etc.\",\n      \"oerMedia\": \"OER\",\n      \"videosMedia\": \"Videos\",\n      \"audioMedia\": \"Podcast/andere Audio\",\n      \"socialMedia\": \"Social Media & Collaboration tools\",\n      \"vrMedia\": \"VR/AR-Inhalte\",\n      \"otherMedia\": \"Andere innovative Medien\"\n    },\n    'app': {\n      \"adaptiveLearningApp\": \"Adaptive Learning\",\n      \"orgaApp\": \"Administration/Organisation\",\n      \"backMiddleTechApp\": \"Back/Middle technologies\",\n      \"inclContentApp\": \"Inklusiver Content\",\n      \"analyticsApp\": \"Learning Analytics\",\n      \"cmsApp\": \"LMS, CMS etc.\",\n      \"oerApp\": \"OER\",\n      \"otherApp\": \"Anderer innovativer Content\"\n    }\n  }\n\n  return dict[category][subcategory];\n}\n\nexport const getUniqueSubCategories = (data) => {\n  const allCategories = data.features\n    .map(d => d.properties.categoriesSelected)\n    .reduce((acc, value) => acc.concat(value), []);\n  return [...new Set(allCategories)];\n};\n\nexport const getColorizer = (uniqueCategories, type) => {\n  const t = type === 'light' ? 'colorsLight' : 'colors';\n\n  const normalizedCategories = uniqueCategories.map(cat => cat.toLowerCase());\n  const colorScale = scaleOrdinal().domain(normalizedCategories).range(config[t]);\n\n  return (category) => {\n    const loweredCategory = category ? category.toString().toLowerCase() : '';\n    return normalizedCategories.includes(loweredCategory) ? colorScale(loweredCategory) : '#bbb';\n  };\n};\n\nexport const filterCategories = (props, categoryFilter) => {\n  if (!categoryFilter || !props) {\n    return false;\n  }\n\n  return !categoryFilter.some(cat => props.category.includes(cat));\n};\n\nexport const filterSubCategories = (props, subCategoryFilter) => {\n  if (!subCategoryFilter[props.category] || !props) {\n    return false;\n  }\n\n  return !subCategoryFilter[props.category].some(cat => props.subCategoriesSelected.includes(cat));\n}\n\nexport const filterHomeschool = (props, homeschoolFilter) => {\n  if (!homeschoolFilter || !props) {\n    return false;\n  }\n\n  return !homeschoolFilter.some(cat => props.homeschool === cat);\n};\n\nexport const filterTargetGroupTypes = (props, targetGroupFilter) => {\n  if (!targetGroupFilter || !props) {\n    return false;\n  }\n\n  return !targetGroupFilter.some(cat => props.targetGroupsSelected.includes(cat));\n};\n\nexport const filterTargetGroupTags = (props, targetGroupTagsFilter, type) => {\n  if (!targetGroupTagsFilter[type] || !props) {\n    return false;\n  }\n\n  return !targetGroupTagsFilter[type].some(cat => props.targetGroupTagsSelectedArr.includes(cat));\n}\n\nexport const mailTo = (name) => {\n  return `mailto:bildung@technologiestiftung-berlin.de?subject=Edutech Änderungswunsch: ${name}`\n}\n\nexport const piwik = (_paq) => {\n  const u=\"https://piwik.technologiestiftung-berlin.de/\";\n  _paq.push(['setTrackerUrl', u+'matomo.php']);\n  _paq.push(['setSiteId', '11']);\n  let d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n  g.type='text/javascript'; \n  g.async=true; \n  g.defer=true; \n  g.src=u+'matomo.js'; \n  s.parentNode.insertBefore(g,s);\n\n  return _paq;\n}\n\nexport const getFavs = () => Store.get(config.localStorage.favKey) || [];\n\nexport const setFavs = favs => Store.set(config.localStorage.favKey, favs);\n\nexport const filterDistricts = (feature, districtFilter, districts) => {\n  if (!districts || !districtFilter) {\n    return false;\n  }\n\n  if (districtFilter == '13') {\n    return !feature.properties.outOfBounds;\n  }\n\n  const polygon = districts.features\n    .find(feat => feat.properties.spatial_name === districtFilter);\n\n  return !pointInPolygon(feature, polygon);\n};\n\nexport const featOutOfBounds = (districts, parsedData) => {\n  districts.features.forEach(district => {\n    parsedData.features.forEach(feat => {\n      if (pointInPolygon(feat, district)) {\n        feat.properties.outOfBounds = false;\n      }\n    })\n  })\n  return parsedData;\n}\n\nexport const countInstPerDistrict = (districts, parsedData, districtsCenter) => {\n    let arr = [];\n\n    let otherFeat = {\n      properties: {\n        alias: 'Brandenburg',\n        count: 0,\n        id: 13\n      }\n    }\n\n    districts.features.forEach(district => {\n      const match = districtsCenter.bezirke.find(d => (d.id === district.properties.spatial_name));\n      const obj = {\n        id: district.properties.spatial_name,\n        coordinates: match.pos,\n        properties: {\n          id: district.properties.spatial_name,\n          alias: district.properties.spatial_alias,\n          count: 0,\n        }\n      }\n      arr.push(obj)\n    })\n\n    arr.push(otherFeat);\n\n    districts.features.forEach((district, i) => {\n      parsedData.features.forEach(feat => {\n        if (pointInPolygon(feat, district)) {\n          arr[i].properties.count += 1;\n        }\n      })\n    })\n\n    parsedData.features.forEach(feat => {\n      if (feat.properties.outOfBounds) {\n        arr[arr.length - 1].properties.count += 1;\n      }\n    })\n\n    return arr;\n}\n\nexport default {\n  getColorizer,\n  countInstPerDistrict,\n  featOutOfBounds,\n  filterCategories,\n  filterSubCategories,\n  getUniqueSubCategories,\n  getFavs,\n  setFavs,\n  getCategoryLabel,\n  subCategories,\n  targetGroups,\n  getTargetGroupLabel,\n  getTargetGroupType,\n  piwik,\n  filterDistricts,\n  filterTargetGroupTypes,\n  targetGroupsEmpty,\n  filterTargetGroupTags,\n  filterHomeschool,\n  createMarkup,\n  objectSize,\n  mailTo,\n  subCategoriesEmpty,\n  getHomeschoolType\n};\n","import createStore from 'unistore';\n\nimport { getFavs, subCategories, subCategoriesEmpty, targetGroups, targetGroupTypes, targetGroupsEmpty } from './dataUtils';\nimport config from '../../config.json';\n\nexport const filterSection = {\n  categoryFilter: [],\n  districtFilter: false,\n  homeschoolFilter: [],\n  subCategoryFilter: Object.assign({}, subCategoriesEmpty),\n  targetGroupFilter: [],\n  targetGroupTagsFilter: Object.assign({}, targetGroupsEmpty)\n};\n\nconst Store = createStore({\n  isLoading: true,\n  additionalData: {\n    districts: null\n  },\n  categories: ['app', 'media', 'service', 'hardware'],\n  targetGroupTypes: ['private', 'institution'],\n  homeschoolTypes: [true, false],\n  data: null,\n  info: null,\n  activeFilter: 'category',\n  activeP: false,\n  local: false,\n  instPerDistrict: null,\n  detailData: false,\n  selectedData: false,\n  mapCenter: config.position,\n  mapZoom: config.zoom,\n  listSorting: 'name',\n  subCategoryList: Object.assign({}, subCategories),\n  subCategories: [],\n  highlightData: false,\n  tooltipPos: [0, 0],\n  favs: getFavs(),\n  tooltipData: false,\n  colorizer: () => '#bbb',\n  colorizerLight: () => '#bbb',\n  filter: filterSection,\n});\n\nexport default Store;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import fetch from \"unfetch\";\nimport feature from \"topojson-client/src/feature\";\n\nexport async function fetchJSON(url) {\n\treturn fetch(url).then((res) => res.json());\n}\n\nexport async function fetchTopoJSON(url) {\n\treturn new Promise(async (resolve, reject) => {\n\t\ttry {\n\t\t\tconst topoData = await fetchJSON(url);\n\t\t\tconst data = feature(\n\t\t\t\ttopoData,\n\t\t\t\ttopoData.objects[Object.keys(topoData.objects)[0]],\n\t\t\t);\n\t\t\treturn resolve(data);\n\t\t} catch (err) {\n\t\t\treturn reject(err);\n\t\t}\n\t});\n}\n\nexport const opacityFromState = (state) => {\n\tswitch (state) {\n\t\tcase \"entering\":\n\t\t\treturn 1;\n\t\tcase \"entered\":\n\t\t\treturn 1;\n\t\tcase \"exiting\":\n\t\t\treturn 0;\n\t\tcase \"exited\":\n\t\t\treturn 0;\n\t\tdefault:\n\t\t\treturn 0;\n\t}\n};\n\nexport const isMobile =\n\tnavigator.userAgent.match(/Android/i) ||\n\tnavigator.userAgent.match(/webOS/i) ||\n\tnavigator.userAgent.match(/iPhone/i) ||\n\tnavigator.userAgent.match(/iPad/i) ||\n\tnavigator.userAgent.match(/iPod/i);\n\nexport function noop() {}\n\nexport default {\n\tisMobile,\n\tfetchJSON,\n\topacityFromState,\n\tfetchTopoJSON,\n\tnoop,\n};\n","import history from \"~/history\";\nimport xor from \"lodash.xor\";\nimport { isMobile, fetchTopoJSON, fetchJSON } from \"~/utils\";\nimport {\n\tgetUniqueSubCategories,\n\tgetColorizer,\n\tsetFavs,\n\ttargetGroups,\n\tfeatOutOfBounds,\n\tcountInstPerDistrict,\n} from \"./dataUtils\";\n\nconst createArray = (d, type) => {\n\tconst key = `categories${d[\"category\"]}`;\n\tif (d[key]) {\n\t\treturn d[key].map((d) => d[type]);\n\t} else {\n\t\treturn [];\n\t}\n};\n\nconst createTargetGroupTags = (d) => {\n\tlet arr = [\"private\", \"instituion\", \"instituionother\", \"privateother\"];\n\tarr = arr.map((key) => {\n\t\tconst concattedKey = `targetgroup${key}`;\n\t\tif (d[concattedKey]) {\n\t\t\tif (typeof d[concattedKey] === \"object\") {\n\t\t\t\treturn d[concattedKey].map((d) => d[\"value\"]);\n\t\t\t} else if (\n\t\t\t\ttypeof d[concattedKey] === String &&\n\t\t\t\td[concattedKey] != undefined\n\t\t\t) {\n\t\t\t\treturn d[concattedKey];\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t});\n\treturn arr.flat();\n};\n\nconst checkTargetGroups = (d) => {\n\tlet arr = [];\n\tif (d) {\n\t\tif (d[\"targetgroupinstituion\"] && d[\"targetgroupinstituion\"].length > 0) {\n\t\t\tarr.push(\"institution\");\n\t\t}\n\n\t\tif (d[\"targetgroupprivate\"] && d[\"targetgroupprivate\"].length > 0) {\n\t\t\tarr.push(\"private\");\n\t\t}\n\t}\n\treturn arr;\n};\n\nconst createPoint = (d) => {\n\treturn {\n\t\ttype: \"Feature\",\n\t\tgeometry: {\n\t\t\ttype: \"Point\",\n\t\t\tcoordinates: [\n\t\t\t\trandomizeCoord(parseFloat(d[\"location\"][0][\"lng\"])),\n\t\t\t\trandomizeCoord(parseFloat(d[\"location\"][0][\"lat\"])),\n\t\t\t],\n\t\t},\n\t\tproperties: {\n\t\t\t...d,\n\t\t\tcategoriesSelected: createArray(d, \"text\"),\n\t\t\tsubCategoriesSelected: createArray(d, \"value\"),\n\t\t\ttargetGroupsSelected: checkTargetGroups(d),\n\t\t\ttargetGroupTagsSelectedArr: createTargetGroupTags(d),\n\t\t\toutOfBounds: true,\n\t\t\ticon: \"edutech-icon-2\", // TODO: add icon logic here!\n\t\t},\n\t};\n};\n\nconst randomizeCoord = (coord) => {\n\tconst randomValue = Math.random() / 20000 + 0.0003;\n\treturn Math.random() < 0.5 ? coord + randomValue : coord - randomValue;\n};\n\nexport const loadEntryData = (Store) => async (state, detailId) => {\n\tif (!detailId) {\n\t\treturn { detailData: false };\n\t}\n\n\ttry {\n\t\tif (state.data) {\n\t\t\tconst feat = state.data.features;\n\n\t\t\tconst all = feat.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item.properties,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst filtered = all.filter((i) => i.autoid === detailId)[0];\n\t\t\tconst newLocation = filtered.location[0]\n\t\t\tconst coordinates = [\n\t\t\t\tparseFloat(randomizeCoord(newLocation.lng)),\n\t\t\t\tparseFloat(randomizeCoord(newLocation.lat)),\n\t\t\t];\n\n\t\t\tif (isNaN(coordinates[1])) {\n\t\t\t\treturn {\n\t\t\t\t\tmapZoom: [Math.max(14, state.mapZoom)],\n\t\t\t\t\tdetailData: filtered,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tmapCenter: coordinates,\n\t\t\t\t\tmapZoom: [Math.max(14, state.mapZoom)],\n\t\t\t\t\tdetailData: filtered,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\treturn { isLoading: false };\n\t}\n};\n\nexport const loadDataApi = (Store) => async () => {\n\tStore.setState({ isLoading: true });\n\n\ttry {\n\t\tconst institutions = await fetchJSON(\"/public/data/institutions.json\");\n\t\tconst content = await fetchJSON(\"/public/data/info.json\");\n\t\tconst features = institutions.map(createPoint);\n\n\t\tconst districtsCenter = await fetchJSON(\"/public/data/bezirke-zentrum.json\");\n\t\tconst districts = await fetchTopoJSON(\"/public/data/berliner-bezirke.json\");\n\n\t\tlet parsedData = {\n\t\t\ttype: \"FeatureCollection\",\n\t\t\tfeatures,\n\t\t};\n\n\t\tparsedData = featOutOfBounds(districts, parsedData);\n\n\t\tconst institutionsPerDistrict = countInstPerDistrict(\n\t\t\tdistricts,\n\t\t\tparsedData,\n\t\t\tdistrictsCenter,\n\t\t);\n\n\t\tconst colorizer = getColorizer(Store.getState().categories, \"dark\");\n\t\tconst colorizerLight = getColorizer(Store.getState().categories, \"light\");\n\n\t\treturn {\n\t\t\tdata: parsedData,\n\t\t\tcontent: content,\n\t\t\tsubCategories: getUniqueSubCategories(parsedData),\n\t\t\tinstPerDistrict: institutionsPerDistrict,\n\t\t\tcolorizer,\n\t\t\tcolorizerLight,\n\t\t\tmapZoom: [11],\n\t\t\tisLoading: false,\n\t\t};\n\t} catch (err) {\n\t\treturn { isLoading: true };\n\t}\n};\n\nexport const setHighlightData = (state, highlightData) => {\n\treturn { highlightData };\n};\n\nconst loadFilterData = (Store) => async () => {\n\ttry {\n\t\tconst districts = await fetchTopoJSON(\"/public/data/berliner-bezirke.json\");\n\t\tStore.setState({ isLoading: false });\n\n\t\treturn {\n\t\t\tadditionalData: {\n\t\t\t\t...Store.getState().additionalData,\n\t\t\t\tdistricts,\n\t\t\t},\n\t\t};\n\t} catch (err) {\n\t\treturn { isLoading: false };\n\t}\n};\n\nconst setDetailRoute = (state, id = false) => {\n\tif (id) {\n\t\tconst nextLocation = isMobile ? `/?location=${id}` : `?location=${id}`;\n\t\treturn history.push(nextLocation);\n\t}\n\n\thistory.push(history.location.pathname.replace(/\\?location=.+/, \"\"));\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst resetDetailRoute = () => {\n\thistory.push(\"\");\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst setDetailRouteWithListPath = (state, id = false) => {\n\tif (id) {\n\t\tconst nextLocation = isMobile\n\t\t\t? `/liste/?location=${id}`\n\t\t\t: `/liste?location=${id}`;\n\t\treturn history.push(nextLocation);\n\t}\n\n\thistory.push(history.location.pathname.replace(/\\?location=.+/, \"\"));\n\n\treturn {\n\t\tdetailData: false,\n\t};\n};\n\nconst setDetailData = (state, detailData) => ({ detailData });\nconst setSelectedData = (state, selectedData) => ({ selectedData });\nconst setMapCenter = (state, mapCenter) => ({ mapCenter });\n\nconst setTooltipData = (state, tooltipData) => ({ tooltipData });\n\nconst setTooltipPos = (state, tooltipPos) => ({ tooltipPos });\n\nconst setDistrictFilter = (state, districtFilter) => {\n\treturn {\n\t\tfilter: Object.assign({}, state.filter, { districtFilter }),\n\t\tdetailData: false,\n\t};\n};\n\nconst toggleFav = (state, favId) => {\n\tlet { favs } = state;\n\n\tfavs = xor(favs, [favId]);\n\n\tsetFavs(favs);\n\n\treturn { favs };\n};\n\nconst toggleTargetGroupTypeFilter = (state, type, deactivate = false) => {\n\tlet { targetGroupFilter, targetGroupTagsFilter } = state.filter;\n\n\tif (targetGroupFilter.includes(type) || deactivate) {\n\t\ttargetGroupFilter = targetGroupFilter.filter((item) => {\n\t\t\treturn item !== type;\n\t\t});\n\n\t\ttargetGroupTagsFilter[type] = [];\n\t} else {\n\t\ttargetGroupFilter.push(type);\n\t\ttargetGroupTagsFilter[type] = targetGroups[type];\n\t\ttargetGroupTagsFilter[type] = [];\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { targetGroupFilter });\n\n\treturn { filter };\n};\n\nconst toggleHomeschoolFilter = (state, type, deactivate = false) => {\n\tlet { homeschoolFilter } = state.filter;\n\n\tif (homeschoolFilter.includes(type) || deactivate) {\n\t\thomeschoolFilter = homeschoolFilter.filter((item) => {\n\t\t\treturn item !== type;\n\t\t});\n\t} else {\n\t\thomeschoolFilter.push(type);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { homeschoolFilter });\n\n\treturn { filter };\n};\n\nconst toggleCategoryFilter = (state, category, deactivate = false) => {\n\tlet { categoryFilter } = state.filter;\n\n\tif (categoryFilter.includes(category) || deactivate) {\n\t\tcategoryFilter = categoryFilter.filter((item) => {\n\t\t\treturn item !== category;\n\t\t});\n\t} else {\n\t\tcategoryFilter.push(category);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { categoryFilter });\n\treturn { filter };\n};\n\nconst setActiveFilter = (state, activeFilter) => ({\n\tactiveFilter,\n});\n\nconst setFilter = (state, filter) => ({\n\tfilter,\n});\n\nconst setListSorting = (state, listSorting) => ({\n\tlistSorting,\n});\n\nconst setZoom = (state, mapZoom) => ({\n\tmapZoom,\n});\n\nconst toggleSubCategoryFilter = (state, category, subcategory) => {\n\tlet { subCategoryFilter } = state.filter;\n\tlet subCategories = subCategoryFilter[category];\n\n\tif (subCategories.includes(subcategory)) {\n\t\tsubCategoryFilter[category] = subCategories.filter((item) => {\n\t\t\treturn item !== subcategory;\n\t\t});\n\t} else {\n\t\tsubCategoryFilter[category].push(subcategory);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { subCategoryFilter });\n\treturn { filter };\n};\n\nconst toggleTargetGroupTagFilter = (state, type, targetGroup) => {\n\tlet { targetGroupTagsFilter } = state.filter;\n\tlet targetGroupTags = targetGroupTagsFilter[type];\n\n\tif (targetGroupTags.includes(targetGroup)) {\n\t\ttargetGroupTagsFilter[type] = targetGroupTags.filter((item) => {\n\t\t\treturn item !== targetGroup;\n\t\t});\n\t} else {\n\t\ttargetGroupTagsFilter[type].push(targetGroup);\n\t}\n\n\tconst filter = Object.assign({}, state.filter, { targetGroupTagsFilter });\n\treturn { filter };\n};\n\nexport default (Store) => ({\n\tloadDataApi: loadDataApi(Store),\n\tsetTooltipData,\n\tsetDetailData,\n\tsetFilter,\n\tsetTooltipPos,\n\ttoggleFav,\n\tsetZoom,\n\tsetDistrictFilter,\n\tresetDetailRoute,\n\tsetSelectedData,\n\tsetDetailRoute,\n\tsetDetailRouteWithListPath,\n\tsetHighlightData,\n\ttoggleCategoryFilter,\n\tsetActiveFilter,\n\ttoggleSubCategoryFilter,\n\ttoggleTargetGroupTagFilter,\n\ttoggleTargetGroupTypeFilter,\n\tsetMapCenter,\n\ttoggleHomeschoolFilter,\n\tsetListSorting,\n\tloadEntryData: loadEntryData(Store),\n\tloadFilterData: loadFilterData(Store),\n});\n","const px = (d) => { return `${d}px` };\n\nexport default {\n  fonts: {\n    sans: 'Clan Book',\n    serif: 'Georgia, Times, Times New Roman, serif',\n    mono: 'monospace',\n    sansBold: 'Clan Bold',\n    sansMedium: 'Clan Medium'\n  },\n  fontSizes: [12, 14, 15, 19, 24, 32, 48, 64].map(px),\n  boxShadow: `0 2px 40px 0 rgba(30,55,145,0.15)`,\n  borderRadius: '2px',\n  colors: {\n    primary: '#000000',\n    secondary: '#e60005',\n    lightgrey: '#f5f5f5',\n    midgrey: '#d8d8d8',\n    textgrey: '#777'\n  },\n  lineHeight: '160%',\n  margin: [10, 15, 25, 50, 75, 100].map(px),\n  letterSpacing: [.25,.5,1].map(px),\n  padding: [5, 10, 15].map(px)\n};","function orderLayers(map, order) {\n  const layerIds = Object.keys(map.style._layers); // eslint-disable-line\n\n  order.forEach((key) => {\n    const currentLayerIds = layerIds.filter(l => l.startsWith(key));\n\n    currentLayerIds.forEach((layerId) => {\n      if (map.getLayer(layerId)) {\n        map.moveLayer(layerId);\n      }\n    });\n  });\n}\n\nexport default {\n  orderLayers,\n};\n","import { createSelector } from 'reselect';\nimport { cloneDeep } from 'lodash';\n\nimport {\n  filterCategories,\n  filterSubCategories,\n  subCategories,\n  targetGroupTypes,\n  targetGroups,\n  filterTargetGroupTypes,\n  filterTargetGroupTags,\n  filterHomeschool,\n  sortData,\n  subCategoriesEmpty,\n  filterDistricts,\n  objectSize,\n} from './dataUtils';\n\nconst dataSelector = state => state.data;\nconst activeFilterSelector = state => state.activeFilter;\nconst detailDataSelector = state => state.detailData;\nconst favsSelector = state => state.favs;\nconst filterSelector = state => state.filter;\nconst additionalDataSelector = state => state.additionalData;\nconst listSortingSelector = state => state.listSorting;\nconst colorizerSelector = state => state.colorizer;\nexport const instPerDistrictSelector = state => state.instPerDistrict;\nconst categoriesSelector = state => state.categories;\nconst colorizerLightSelector = state => state.colorizerLight;\n\nconst geojsonToArray = geojson => geojson.features.map(d => d.properties);\n\n\nexport const dataAsArraySelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (!data) {\n      return [];\n    }\n    return geojsonToArray(data);\n  }\n);\n\nexport const initialFilterSelector = createSelector(\n  [filterSelector],\n  (filter) => {\n    return Object.assign({}, {\n    categoryFilter: [],\n    subCategoryFilter: cloneDeep(subCategoriesEmpty),\n    targetGroupFilter: [],\n    homeschoolFilter: [],\n    targetGroupTagsFilter: { private: [], institution: [] }\n  })\n  }\n);\n\nexport const unfilteredFilterSelector = createSelector(\n  [categoriesSelector, filterSelector],\n  (categories, filter) => {\n    return Object.assign({}, {\n    categoryFilter: cloneDeep(categories),\n    subCategoryFilter: cloneDeep(subCategories),\n    targetGroupFilter: cloneDeep(targetGroupTypes),\n    targetGroupTagsFilter: cloneDeep(targetGroups)\n  })\n  }\n);\n\nexport const tagsCountTargetGroupSelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features;\n      const objPrivate = {};\n      const objInstitution = {};\n      features.map(feat => {\n        const { properties } = feat;\n        const { targetgroupprivate, targetgroupinstituion } = properties;\n\n        if (targetgroupprivate.length > 0) {\n          targetgroupprivate.forEach(item => {\n            !objPrivate[item.value] ? objPrivate[item.value] = 1 : objPrivate[item.value] += 1;\n          })\n        }\n\n        if (targetgroupinstituion.length > 0) {\n          targetgroupinstituion.forEach(item => {\n            !objInstitution[item.value] ? objInstitution[item.value] = 1 : objInstitution[item.value] += 1;\n          })\n        }\n\n        // delete objPrivate.none;\n        // delete objInstitution.none;\n\n      })\n      return { private: objPrivate, institution: objInstitution }\n    }\n  }\n)\n\nexport const tagsCountSelector = createSelector(\n  [dataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features;\n      const obj = {};\n      features.map(feat => {\n        const { properties } = feat;\n        const { subCategoriesSelected, category, name } = properties;\n\n        subCategoriesSelected.forEach(item => {\n\n          if (subCategories[category].includes(item)) {\n            !obj[item] ? obj[item] = 1 : obj[item] += 1\n          }\n        })\n      })\n      return obj\n    } else {\n      return false;\n    }\n  }\n)\n\nexport const enrichedDataSelector = createSelector(\n  [\n    dataSelector,\n    favsSelector,\n    filterSelector,\n    colorizerSelector,\n    colorizerLightSelector,\n    additionalDataSelector\n  ],\n  (\n    data,\n    favs,\n    filter,\n    colorizer,\n    colorizerLight,\n    additionalData\n  ) => {\n    if (data) {\n      const features = data.features\n        .map((feat) => {\n          const { properties } = feat;\n          feat.properties = properties;\n\n          properties.districtFilter = filterDistricts(\n            feat,\n            filter.districtFilter,\n            additionalData.districts\n          );\n\n          properties.nameStr = properties.name.replace(' ', '').replace('-', '')\n          properties.categoryFilter = filterCategories(properties, filter.categoryFilter);\n          properties.subCategoryFilter = filterSubCategories(properties, filter.subCategoryFilter);\n          properties.targetGroupTypesFilter = filterTargetGroupTypes(properties, filter.targetGroupFilter)\n          properties.targetGroupTagsPrivateFilter = filterTargetGroupTags(properties, filter.targetGroupTagsFilter, 'private')\n          properties.targetGroupTagsInstitutionFilter = filterTargetGroupTags(properties, filter.targetGroupTagsFilter, 'institution')\n          properties.isFav = favs.includes(properties.autoid);\n          properties.color = colorizer(properties.category);\n          properties.colorLight = colorizerLight(properties.category);\n          properties.icon = `edutech-${properties.category}`;\n          properties.homeschool = feat.properties.homeschooling === '1' ? true : false;\n          properties.homeschoolFilter = filterHomeschool(properties,filter.homeschoolFilter)\n          properties.isFiltered = true;\n\n          return feat;\n      });\n      return Object.assign({}, data, { features });\n    }\n    }\n)\n\nexport const filteredDataSelector = createSelector(\n  [enrichedDataSelector, activeFilterSelector],\n  (data, activeFilter) => {\n    if (data) {\n      const features = data.features\n        .map((feat) => {\n\n            let filter = 'category';\n\n            switch(activeFilter) {\n              case 'category':\n                filter = feat.properties.categoryFilter || feat.properties.subCategoryFilter;\n                break;\n              case 'district':\n                filter = feat.properties.districtFilter;\n                break;\n              case 'homeschool':\n                filter = feat.properties.homeschoolFilter;\n                break;\n              case 'target':\n                filter = feat.properties.targetGroupTypesFilter || feat.properties.targetGroupTagsPrivateFilter && feat.properties.targetGroupTagsInstitutionFilter\n                break;\n              default:\n                filter = 'category';\n                break;\n            }\n\n            feat.properties.isFiltered = (filter);\n          return feat;\n        })\n      return Object.assign({}, data, { features });\n    } else {\n      return {};\n    }\n  }\n);\n\nexport const filteredListDataSelector = createSelector(\n  [filteredDataSelector, listSortingSelector],\n  (data, sortBy) => {\n    if (!data) {\n      return [];\n    }\n\n    if (objectSize(data) > 0) {\n\n      let features = data.features.filter(feat => (\n        !feat.properties.isFiltered)\n      );\n\n      features = features\n        .map(feat => feat.properties)\n        .sort(sortData(sortBy));\n\n      return features;\n    }\n  }\n);\n\nexport const targetGroupsArraySelector = createSelector(\n  [detailDataSelector],\n  (data) => {\n    if (data) {\n      const keys = ['targetgroupprivate', 'targetgroupinstituion'];\n      const keysOther = ['targetgroupinstituionother', 'targetgroupprivateother'];\n\n      let arr = keys.map(key => {\n        return data[key].map(val => {\n\n            if (val.text === 'none') {\n              return 'Keine';\n            }\n\n            if (val.text === 'other') {\n              return 'Andere';\n            }\n\n            return val.text\n        });\n      })\n\n      keysOther.forEach(key => {\n        if (data[key].length > 0) {\n          arr.push(data[key]);\n        }\n      });\n\n      return arr.flat();\n    }\n  }\n)\n\nexport const favoritesSelector = createSelector(\n  [enrichedDataSelector],\n  (data) => {\n    if (data) {\n      const features = data.features.filter(feat => feat.properties.isFav);\n      return geojsonToArray(Object.assign({}, data, { features }));\n    }\n  }\n);\n\nexport default {\n  dataAsArraySelector,\n  targetGroupsArraySelector,\n  filteredListDataSelector,\n  favoritesSelector,\n  enrichedDataSelector,\n  instPerDistrictSelector,\n  tagsCountSelector,\n  tagsCountTargetGroupSelector\n};\n","import React, { PureComponent, Fragment } from \"react\";\nimport { connect } from \"unistore/react\";\nimport Actions from \"~/state/Actions\";\nimport { Layer, Feature } from \"react-mapbox-gl\";\nimport idx from \"idx\";\n\nlet clickTimeout = null;\n\nfunction getPaintProps(props) {\n  const detailId =\n    idx(props, (_) => _.detailData.name) ||\n    idx(props, (_) => _.highlightData.name) ||\n    \"\";\n  const activeExpr = [\n    \"case\",\n    [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n    2,\n    3,\n  ];\n  const activeExprZoomedIn = [\n    \"case\",\n    [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n    12,\n    6,\n  ];\n\n  return {\n    \"circle-radius\": [\n      \"interpolate\",\n      [\"linear\"],\n      [\"zoom\"],\n      8,\n      activeExpr,\n      16,\n      activeExprZoomedIn,\n    ],\n    \"circle-color\": [\n      \"case\",\n      [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n      [\"get\", \"color\"],\n      [\"get\", \"isFiltered\"],\n      \"#B8B8B8\",\n      [\"get\", \"color\"],\n    ],\n    \"circle-stroke-color\": [\n      \"case\",\n      [\"==\", [\"string\", [\"get\", \"name\"]], detailId],\n      [\"get\", \"color\"],\n      [\"get\", \"isFiltered\"],\n      \"#E8E8E8\",\n      [\"get\", \"colorLight\"],\n    ],\n    \"circle-stroke-width\": 4,\n  };\n}\n\nclass MarkerLayer extends PureComponent {\n  timeoutClick(evt, feat) {\n    if (feat.properties && feat.properties.isFiltered) {\n      return false;\n    }\n\n    clearTimeout(clickTimeout);\n\n    clickTimeout = setTimeout(() => {\n      this.handleClick(evt, feat);\n    }, 50);\n  }\n\n  renderFeat(feat, i) {\n    const feature = (\n      <Feature\n        coordinates={feat.geometry.coordinates}\n        key={`feat-${i}`}\n        onClick={(evt) => this.timeoutClick(evt, feat)} // isMobile ? noop() :\n        onMouseEnter={(evt) => this.handleMouseEnter(evt, feat)}\n        onMouseLeave={(evt) => this.handleMouseLeave(evt)}\n        onTouchStart={(evt) => this.handleClick(evt)}\n        properties={feat.properties}\n      />\n    );\n    return feature;\n  }\n\n  filterCategory(data, category, isFiltered = false) {\n    return data.features\n      .filter((d) =>\n        isFiltered\n          ? d.properties.isFiltered\n          : !d.properties.isFiltered &&\n            d.properties.category === category &&\n            d.properties.homeschool\n      )\n      .map((feat, i) => this.renderFeat(feat, i));\n  }\n\n  renderLayer = (category) => {\n    return (\n      <Layer\n        type=\"symbol\"\n        id=\"icon\"\n        layout={{ \"icon-image\": \"edutech-app\", \"icon-size\": 1.25 }}\n        onMouseMove={(evt) => this.handleMouseMove(evt)}\n      >\n        {this.filterCategory(data, category)}\n      </Layer>\n    );\n  };\n\n  handleMouseEnter(evt, { properties = {} }) {\n    // if (isMobile) {\n    //   return this.props.setDetailRoute(properties.id);\n    // }\n\n    evt.map.getCanvas().style.cursor = \"pointer\";\n\n    if (properties && properties.isFiltered) {\n      return false;\n    }\n\n    this.props.setTooltipData(properties);\n  }\n\n  handleMouseLeave(evt) {\n    evt.map.getCanvas().style.cursor = \"\";\n\n    this.props.setTooltipData(null);\n  }\n\n  handleClick(evt, { properties = {} }) {\n    evt.originalEvent.preventDefault();\n    evt.originalEvent.stopPropagation();\n\n    this.props.setDetailRouteWithListPath(properties.autoid);\n    this.props.setSelectedData(true);\n  }\n\n  handleMouseMove(evt) {\n    this.props.setTooltipPos([evt.lngLat.lng, evt.lngLat.lat]);\n  }\n\n  render() {\n    const { data, highlightData, detailData } = this.props;\n    const paintProps = getPaintProps(this.props);\n    let highlightFeat = false;\n    if (data) {\n      highlightFeat = data.features.find(\n        (feat) => highlightData && feat.properties.name === highlightData.name\n      );\n    }\n\n    return (\n      <Fragment>\n        {/* Circle Marker below! */}\n        {data && (\n          <Layer\n            id=\"MarkerLayer\"\n            type=\"circle\"\n            paint={paintProps}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {data.features\n              .filter(\n                (d) => !d.properties.isFiltered && !d.properties.homeschool\n              )\n              .map((feat) => this.renderFeat(feat))}\n          </Layer>\n        )}\n        {data && (\n          <Layer id=\"FilteredMarkerLayer\" type=\"circle\" paint={paintProps}>\n            {data.features\n              .filter(\n                (d) => d.properties.isFiltered && !d.properties.homeschool\n              )\n              .map((feat) => this.renderFeat(feat))}\n          </Layer>\n        )}\n\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconAppLayer\"\n            layout={{ \"icon-image\": \"edutech-app\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"app\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconMediaLayer\"\n            layout={{ \"icon-image\": \"edutech-media\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"media\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconServiceLayer\"\n            layout={{ \"icon-image\": \"edutech-service\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"service\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconHardwareLayer\"\n            layout={{ \"icon-image\": \"edutech-hardware\", \"icon-size\": 1.25 }}\n            onMouseMove={(evt) => this.handleMouseMove(evt)}\n          >\n            {this.filterCategory(data, \"hardware\")}\n          </Layer>\n        )}\n        {data && (\n          <Layer\n            type=\"symbol\"\n            id=\"IconFilteredLayer\"\n            layout={{ \"icon-image\": \"edutech-filtered\", \"icon-size\": 1.25 }}\n          >\n            {data.features\n              .filter((d) => d.properties.isFiltered && d.properties.homeschool)\n              .map((feat, i) => this.renderFeat(feat, i))}\n          </Layer>\n        )}\n        {data && highlightFeat && (\n          <Layer id=\"HighlightLayer\" type=\"circle\" paint={paintProps}>\n            <Feature\n              coordinates={highlightFeat.geometry.coordinates}\n              key={highlightFeat.properties.name}\n              properties={highlightFeat.properties}\n            />\n          </Layer>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default connect((state) => state, Actions)(MarkerLayer);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\nimport { filteredDataSelector, instPerDistrictSelector } from '~/state/Selectors';\n\nimport MarkerLayer from '../Layers/MarkerLayer';\n\nclass FilterView extends PureComponent {\n\n  componentDidMount() {\n    this.props.loadFilterData();\n  }\n\n  render() {\n    const { data, isLoading } = this.props;\n\n    if (data) {\n      return (\n        <Fragment>\n          <MarkerLayer if={data && !isLoading} data={data} />\n        </Fragment>\n      );\n    } else {\n      return (\n        <Fragment>\n        </Fragment>\n      )\n    }\n\n  }\n}\n\nexport default connect(state => ({\n  data: filteredDataSelector(state),\n  labels: instPerDistrictSelector(state),\n  isLoading: state.isLoading\n}), Actions)(FilterView);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: white;\n  position: relative;\n  line-height: 1;\n  background: ${props => (props.color)};\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color || '#000'};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n  }\n`;\n\nclass CategoryLabels extends PureComponent {\n  render() {\n    const {\n      categories, colorizer, colorizerLight, type, className, category/*, hasBorder*/\n    } = this.props;\n\n    if (category === 'targetGroup') {\n      return (\n        <CategoryLabelWrapper className={className}>\n          {categories.map((cat, i) => (\n            <CategoryLabel\n              key={`CategoryLabel__${cat}__${i}`}\n              color={'#000000'}\n              colorLight={'#e1e1e1'}\n              type={type}\n            >\n              {cat}\n            </CategoryLabel>\n          ))}\n        </CategoryLabelWrapper>\n      )\n    } else {\n      return (\n          <CategoryLabelWrapper className={className}>\n            {categories.map(cat => (\n              <CategoryLabel\n                key={`CategoryLabel__${cat}`}\n                color={colorizer(category)}\n                colorLight={colorizerLight(category)}\n              >\n                {cat}\n              </CategoryLabel>\n            ))}\n          </CategoryLabelWrapper>\n      );\n    }\n\n  }\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight\n}))(CategoryLabels);\n","import React from \"react\";\n\nconst Icon = p => {\n  const { isHomeschool, color } = p;\n  return (\n    <>\n      {isHomeschool && (\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n          <g id=\"edutech-service\" fill={color}>\n            <circle\n              id=\"Oval-Copy-34\"\n              opacity=\"0.200000003\"\n              cx=\"10\"\n              cy=\"10\"\n              r=\"10\"\n            ></circle>\n            <polygon\n              id=\"Star-Copy-7\"\n              points=\"10 13.3333333 6.08143165 15.3934466 6.82981161 11.0300566 3.65962322 7.9398867 8.04071583 7.30327669 10 3.33333333 11.9592842 7.30327669 16.3403768 7.9398867 13.1701884 11.0300566 13.9185683 15.3934466\"\n            ></polygon>\n          </g>\n        </svg>\n      )}\n      {!isHomeschool && (\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n          <g\n            id=\"Page-1\"\n            stroke=\"none\"\n            strokeWidth=\"1\"\n            fill=\"none\"\n            fillRule=\"evenodd\"\n          >\n            <g id=\"Group-16\" fill={color}>\n              <circle id=\"Oval-Copy-34\" cx=\"10\" cy=\"10\" r=\"5\"></circle>\n              <circle\n                id=\"Oval-Copy-34\"\n                opacity=\"0.200000003\"\n                cx=\"10\"\n                cy=\"10\"\n                r=\"10\"\n              ></circle>\n            </g>\n          </g>\n        </svg>\n      )}\n    </>\n  );\n};\n\nexport default Icon;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  background: none;\n  border: none;\n  color: #777;\n  cursor: pointer;\n  font-size: ${props => props.theme.fontSizes[0]};\n  padding: 0;\n  padding-top: 8px;\n  line-height: 1;\n\n  &:hover {\n    opacity: 0.75;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport FavIcon from '@material-ui/icons/FavoriteBorder';\nimport UnFavIcon from '@material-ui/icons/Favorite';\n\nimport { createMarkup } from '~/state/dataUtils';\nimport CategoryLabels from '~/components/CategoryLabels';\nimport Icon from '~/components/Icon';\nimport Button from '~/components/GhostButton';\nimport Actions from '~/state/Actions';\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  margin-bottom: ${props => props.theme.padding[0]};\n`;\n\nconst CardAddress = styled.div`\n  font-size: 12px;\n  line-height: 150%;\n  color: ${props => props.type}\n`;\n\nconst CardTitle = styled.div`\n  font-size: 14px;\n  font-weight: bold;\n  margin: 4px 0;\n  line-height: 1.2;\n  letter-spacing: ${props => props.theme.letterSpacing[1]};\n  margin-bottom: ${props => props.theme.margin[0]};\n  color: ${props => props.type}\n`;\n\nconst CardHeaderWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  ${CardAddress} {\n    color: ${props => props.type}\n  }\n\n  ${CardTitle} {\n    color: ${props => (props.teaserUrl ? 'white' : props.theme.colors.black)};\n    font-family: ${props => props.theme.fonts.sansBold };\n    font-weight: 600;\n  }\n`;\n\nconst CardHeaderLeft = styled.div`\n  overflow: hidden;\n  width: 290px;\n  margin-right: 10px;\n`;\n\nconst CardHeaderRight = styled.div`\n  margin-left: auto;\n`;\n\nconst StyledFlexWrapper = styled.div`\n  display: flex;\n\n  svg {\n    width: 15px;\n    min-width: 15px;\n    transform: translateY(3px);\n    height: 15px;\n    margin-right: 10px;\n  }\n`;\n\nconst FavButton = styled(Button)`\n  color: black;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    width: 18px;\n    height: 18px;\n  }\n`;\n\nclass CardHeader extends PureComponent {\n\n  handleClick = (d) => {\n    const { setDetailRoute, setSelectedData } = this.props;\n    setDetailRoute(d.autoid);\n    setSelectedData(true);\n  }\n\n  render() {\n    const {\n      data,\n      type,\n      toggleFav,\n      favs,\n      isListMode\n    } = this.props;\n\n    const isFav = favs.includes(data.autoid);\n\n    return (\n      <Fragment>\n        <CardHeaderWrapper>\n          <CardHeaderLeft onClick={() => this.handleClick(data)} >\n            <StyledFlexWrapper>\n              {isListMode && (<Icon isHomeschool={data.homeschool} color={data.color}/>)}\n              <CardTitle type={type}>{data.name}</CardTitle>\n            </StyledFlexWrapper>\n            <StyledCategoryLabels categories={data.categoriesSelected} type={type} category={data.category} /*hasBorder={teaserUrl}*/ />\n            <CardAddress dangerouslySetInnerHTML={createMarkup(data.location[0].address)} type={type}></CardAddress>\n          </CardHeaderLeft>\n          <CardHeaderRight>\n            {isListMode && (\n              <FavButton\n                onClick={() => toggleFav(data.autoid)}\n                active={isFav}\n              >\n                {isFav ? <UnFavIcon /> : <FavIcon />}\n              </FavButton>\n            )}\n          </CardHeaderRight>\n        </CardHeaderWrapper>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(CardHeader);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport { Popup } from 'react-mapbox-gl';\n\nimport CardHeader from '~/components/Card/CardHeader';\n\nconst StyledPopup = styled(Popup)`\n  &&& {\n    max-width: 250px;\n    line-height: 1;\n    font-family: ${props => props.theme.fonts.sans};\n\n    .mapboxgl-popup-content {\n      background: black;\n    }\n\n    .mapboxgl-popup-tip {\n      border-top-color: black;\n    }\n  }\n`;\n\nclass Tooltip extends PureComponent {\n  render() {\n    const { tooltipPos, data } = this.props;\n\n    if (!data) {\n      return null;\n    }\n\n    return (\n      <StyledPopup coordinates={tooltipPos} style={{ zIndex: 2000 }}>\n        <CardHeader data={data} type='white' />\n      </StyledPopup>\n    );\n  }\n}\n\nexport default connect(state => ({\n  tooltipPos: state.tooltipPos,\n  data: state.tooltipData,\n}))(Tooltip);\n","import styled from 'styled-components';\n\nexport default styled.button`\n  width: ${props => props.size || 36}px;\n  height: ${props => props.size || 36}px;\n  background-color: ${props => (props.isActive ? props.theme.colors.primary : '#000')};\n  color: white;\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => props.theme.colors.textgrey};\n  }\n`;\n","import { css } from 'styled-components';\n\n// https://github.com/styled-components/styled-components/blob/master/docs/tips-and-tricks.md\nexport function getMediaQuery(size) {\n  return (...args) => css`\n    @media (min-width: ${size}px) {\n      ${css(...args)}\n    }\n  `;\n}\n\nexport const breakpoints = {\n  s: 460,\n  m: 768,\n  l: 1024\n};\n\nexport const media = {\n  s: getMediaQuery(breakpoints.s),\n  m: getMediaQuery(breakpoints.m),\n  l: getMediaQuery(breakpoints.l)\n};\n\nexport default {\n  getMediaQuery,\n  breakpoints,\n  media\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { matchPath, useLocation } from 'react-router-dom';\n\nimport Actions from '~/state/Actions';\nimport RoundButton from '~/components/RoundButton';\nimport { unfilteredFilterSelector, initialFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nconst StyledRoundButton = styled(RoundButton)`\n  margin-top: 5px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.sans};\n  font-size: 22px;\n  line-height: 1;\n\n  div {\n    position: relative;\n    top: 1px;\n  }\n`;\n\nimport { media } from '~/styles/Utils';\n\nconst NavWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  flex-grow: 0;\n  position: absolute;\n  background: none;\n  bottom: 15px;\n  left: 15px;\n  z-index: 1000;\n\n  ${media.m`\n    transform: ${props => (props.isNavOpen ? 'translate3d(375px, 0, 0)' : 'none')};\n    transition: transform 500ms;\n  `}\n`;\n\n\nconst UIMap = p => {\n  const { map } = p;\n\n  const zoomIn = () => {\n    if (map) {\n      map.zoomIn();\n    }\n  }\n\n  const zoomOut = () => {\n    if (map) {\n      map.zoomOut();\n    }\n  }\n\n  const navConfig = [\n    { path: '/suche', title: 'Suche und Filter' },\n    { path: '/liste', title: 'Listenansicht' },\n    { path: '/favoriten', title: 'Favoriten' },\n    { path: '/info', title: 'Info' },\n  ];\n\n  const uiConfig = [\n    { title: 'Hereinzoomen', label: '+', func: () => {zoomIn()} },\n    { title: 'Herauszoomen', label: '-', func: () => {zoomOut()} },\n  ];\n\n  const location = useLocation();\n  const { pathname } = location;\n\n  const isNavOpen = matchPath(pathname, {\n    path: navConfig.map(m => m.path),\n  }) !== null;\n\n  return (\n    <NavWrapper isNavOpen={isNavOpen}>\n      {uiConfig.map((m,i) => (\n        <StyledRoundButton key={`ui-key-${i}`} onClick={m.func}>{m.label}</StyledRoundButton>\n      ))}\n    </NavWrapper>\n  );\n}\n\nexport default connect(state => ({\n  detailData: state.detailData,\n  mapCenter: state.mapCenter,\n  unfiltered: unfilteredFilterSelector(state),\n  initialFilter: initialFilterSelector(state),\n  state: state\n}), Actions)(UIMap);\n","import React from 'react';\nimport styled from 'styled-components';\nimport TSBLogoSrc from '!file-loader!~/../public/images/tsb-logo-coloured.svg'; // eslint-disable-line\n\nconst TSBLogo = styled.a.attrs({\n    href: 'https://technologiestiftung-berlin.de',\n    target: '_blank'\n  })`\n  padding-top: ${props => props.theme.padding[1]};\n\n  img {\n    width: 150px;\n  }\n`;\n\nexport default () => (\n  <TSBLogo>\n    <img src={TSBLogoSrc} alt=\"TSB Logo\" />\n  </TSBLogo>\n);","import React, { PureComponent, Fragment } from 'react';\nimport styled from 'styled-components';\n\nconst StyledLogoTile = styled.div`\n  position: absolute;\n  top: 25px;\n  right: 25px;\n  display: flex;\n  flex-direction: column;\n  z-index: 1000;\n  font-size: ${props => props.theme.fontSizes[0]};\n  font-family: ${props => props.theme.fonts.sansMedium};\n\n  @media (max-width: 768px) {\n    top: auto;\n    top: 15px;\n    right: 40px;\n    max-width: 120px;\n  }\n`;\n\nconst StyledTSBLogo = styled(TSBLogo)`\n  padding-left: 0px;\n`;\n\nimport TSBLogo from '~/components/TSBLogo';\n\nclass LogoTile extends PureComponent {\n\n  render() {\n      return (\n        <StyledLogoTile>\n          Ein Projekt der:\n          <StyledTSBLogo />\n        </StyledLogoTile>\n      );\n  }\n}\n\nexport default LogoTile\n","import React, { PureComponent } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport ReactMapboxGl from 'react-mapbox-gl';\nimport MapUtils from './MapUtils';\n\nconst LayerOrder = ['DistrictsLayer', 'FilteredMarkerLayer', 'MarkerLayer', 'HighlightLayer'];\n\nimport FilterView from './MapViews/FilterView';\nimport Tooltip from '../Tooltip';\nimport UIMap from '../../components/UIMap';\nimport LogoTile from './Other/LogoTile';\n\nimport Actions from '~/state/Actions';\nconst config = require('../../../config.json');\n\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst mapConfig = {\n    minZoom: 6,\n    maxZoom: 17,\n    dragRotate: false,\n    bearing: 0,\n    maxBounds: [\n      [10, 50],\n      [15, 54]\n    ],\n    accessToken: process.env.MAP_TOKEN\n  };\n\n  const MapGL = ReactMapboxGl({ ...mapConfig });\n\n  const MapWrapper = styled.div`\n    height: 100vh;\n    width: 100%;\n    flex: 1;\n    flex-shrink: 1;\n    flex-grow: 1;\n    position: relative;\n    opacity: ${props => (props.isLoading ? 0 : 1)};\n`;\n\nclass Map extends PureComponent {\n    state = {\n        map: false,\n    };\n\n    componentDidMount() {\n        this.props.loadDataApi();\n    }\n\n    onData(map) {\n        const layerIds = Object.keys(map.style._layers).join(''); // eslint-disable-line\n        if (layerIds !== this.lastLayerIds) {\n            MapUtils.orderLayers(map, LayerOrder);\n        }\n        this.lastLayerIds = layerIds;\n    }\n\n    onStyleLoad = (map) => {\n        map.resize();\n        this.setState({map});\n\n        map.jumpTo({\n            center: this.props.mapCenter,\n            zoom: this.props.mapZoom[0]\n        });\n    }\n\n    render() {\n        const {\n            mapZoom,\n            mapCenter,\n          } = this.props;\n\n        const isLoading = this.props.isLoading;\n\n        return (\n            <MapWrapper isLoading={isLoading}>\n                <MapGL\n                    zoom={mapZoom}\n                    center={mapCenter}\n                    style={process.env.MAP_STYLE}\n                    containerStyle={{ height: '100%', width: '100%' }}\n                    onStyleLoad={map => this.onStyleLoad(map)}\n                    onData={map => this.onData(map)}\n                    flyToOptions={config.map.flyToOptions}\n                >\n                    <Route exact path={['/', '/suche', '/liste', '/favoriten', '/info']} component={FilterView} />\n                    <Tooltip />\n                    <UIMap map={this.state.map}/>\n                </MapGL>\n                <LogoTile/>\n            </MapWrapper>\n        )\n    }\n}\n\nexport default withRouter(connect(state => ({\n    mapZoom: state.mapZoom,\n    mapCenter: state.mapCenter,\n    data: state.data\n  }), Actions)(Map));\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\nimport { opacityFromState } from '../../utils/'\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst StyledCircularProgress = withStyles({\n  root: {\n    color: 'black',\n  },\n  svg: {\n    fill: 'black'\n  }\n})(CircularProgress);\n\nconst SpinnerBG = styled.div`\n  width: 100%;\n  height: 100%;\n  background: white;\n  position:absolute;\n  z-index: 1000;\n  opacity: ${p => opacityFromState(p.state)};\n  transition: all .5s ease-in-out;\n  display: ${p => (p.state == 'exited') ? 'none' : 'block'};\n`;\n\nconst SpinnerWrapper = styled.div`\n  position: absolute;\n  z-index: 10000;\n  left: 50%;\n  top: 50%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translate(-50%, -50%);\n  user-select: none;\n  pointer-events: none;\n\n  span {\n    padding-top: 20px;\n    font-size: 13px;\n    letter-spacing: .25px;\n  }\n`;\n\nclass Spinner extends PureComponent {\n  render() {\n    const { loading } = this.props;\n    return (\n      <Transition\n        in={loading}\n        timeout={{\n          appear: 0,\n          enter: 0,\n          exit: 500,\n        }}\n        appear={true}\n        mountOnEnter={true}\n        unmountOnExit={false}\n      >\n        { state => {\n          return (\n          <SpinnerBG state={state}>\n            <SpinnerWrapper>\n              <StyledCircularProgress />\n              <span>Lade EduTech Institutionen ...</span>\n            </SpinnerWrapper>\n          </SpinnerBG>\n        )}}\n      </Transition>\n    );\n  }\n}\n\nexport default Spinner;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  width: ${props => props.size || 72}px;\n  height: ${props => props.size || 72}px;\n  background-color: ${props => (props.isActive ? '#000' : '#fff')};\n  color: ${props => (props.isActive ? '#fff' : '#000')};\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 0%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => (props.isActive ? '#000' : '#f2f2f2')};\n    color: ${props => (props.isActive ? '#fff' : '#000')};\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { NavLink, withRouter, matchPath } from 'react-router-dom';\n\nimport Actions from '~/state/Actions';\nimport { unfilteredFilterSelector, initialFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nimport config from '../../../config';\n\nimport ListIcon from '@material-ui/icons/List';\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\nimport FavIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport EdgeButton from '~/components/EdgeButton';\nimport { media } from '~/styles/Utils';\n\nconst NavWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  box-shadow: ${ props => props.theme.boxShadow };\n  flex-grow: 0;\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  z-index: 1000;\n\n  ${media.m`\n    transform: ${props => (props.isNavOpen ? 'translate3d(375px, 0, 0)' : 'none')};\n    transition: transform 500ms;\n  `}\n`;\n\nconst NavItem = styled(NavLink)`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n`;\n\n\nconst navConfig = [\n  { path: '/suche', title: 'Suche und Filter', icon: <SearchIcon /> },\n  { path: '/liste', title: 'Listenansicht', icon: <ListIcon /> },\n  { path: '/favoriten', title: 'Favoriten', icon: <FavIcon /> },\n  { path: '/info', title: 'Info', icon: <InfoIcon/> },\n];\n\nclass Nav extends PureComponent {\n\n  handleClick(path) {\n\n    const {\n      initialFilter,\n      unfiltered,\n      setFilter,\n      setMapCenter,\n      resetDetailRoute,\n      setDetailData,\n      setSelectedData,\n      setHighlightData,\n      mapCenter\n    } = this.props;\n\n    if (path === 'Listenansicht' || path === 'Favoriten' || path == 'Suche und Filter' || path == 'Info' ) {\n      setFilter(unfiltered)\n    }\n\n    if (path === 'Suche und Filter') {\n      setFilter(initialFilter)\n    }\n\n    setDetailData(false)\n    setSelectedData(false);\n    setHighlightData(false);\n    resetDetailRoute();\n  }\n\n  componentDidMount() {\n    const {\n      unfiltered,\n      setFilter,\n    } = this.props;\n    setFilter(unfiltered)\n  }\n\n  render() {\n    const { pathname } = this.props.location;\n\n    const isNavOpen = matchPath(pathname, {\n      path: navConfig.map(m => m.path),\n    }) !== null;\n\n    return (\n      <NavWrapper isNavOpen={isNavOpen}>\n        {navConfig.map(m => (\n          <NavItem\n            exact\n            to={{ pathname: m.path, search: '' }}\n            onClick={() => (this.handleClick(m.title))}\n            key={m.path}\n          >\n            <EdgeButton title={m.title} aria-label={m.title} isActive={pathname === m.path}>\n              {m.icon}\n            </EdgeButton>\n          </NavItem>\n        ))}\n      </NavWrapper>\n    );\n  }\n}\n\nexport default withRouter(connect(state => ({\n  detailData: state.detailData,\n  mapCenter: state.mapCenter,\n  unfiltered: unfilteredFilterSelector(state),\n  initialFilter: initialFilterSelector(state)\n}), Actions)(Nav));\n","import React, { PureComponent } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Actions from '~/state/Actions';\nimport { unfilteredFilterSelector } from '~/state/Selectors';\n\nimport { connect } from 'unistore/react';\n\nimport RoundButton from '~/components/RoundButton';\n\nconst StyledLink = styled(Link)`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  z-index: 10;\n`;\n\nclass SidebarClose extends PureComponent {\n  handleClick() {\n    const { setDetailData, unfiltered, setFilter, setMapCenter, setZoom, setHighlightData } = this.props;\n    setDetailData(false);\n    setHighlightData(false);\n    setFilter(unfiltered);\n  }\n\n  render() {\n    return (\n      <StyledLink onClick={() => {this.handleClick()}} to={{ pathname: '/', search: '' }}>\n        <RoundButton aria-label=\"Leiste schließen\" title=\"Leiste schließen\">\n          <CloseIcon />\n        </RoundButton>\n      </StyledLink>\n    );\n  }\n}\n\n// export default withRouter(SidebarClose);\n\nexport default withRouter(connect(state => ({\n  detailData: state.detailData,\n  unfiltered: unfilteredFilterSelector(state),\n}), Actions)(SidebarClose));\n","import styled from 'styled-components';\n\nconst CardWrapper = styled.div`\n  position: relative;\n  background: #fff;\n  border-radius: ${props => props.theme.borderRadius};\n  max-height: 75vh;\n  display: block;\n  padding: ${props => props.theme.padding[1]};\n`;\n\nexport default CardWrapper;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport CardWrapper from './CardWrapper';\nimport CardHeader from './CardHeader';\n\nconst StyledCardWrapper = styled(CardWrapper)`\n  margin-bottom: ${props => props.theme.margin[0]};\n  padding-bottom: ${props => props.theme.margin[0]};\n  cursor: pointer;\n  border-bottom: 2px solid ${props => props.theme.colors.lightgrey};\n  border-radius: 0;\n  will-change: border-color, transform;\n  transition: border-color .2s, transform .2s;\n  padding: ${props => props.theme.margin[0]};\n  padding-top: 3px;\n  padding-bottom: ${props => props.theme.padding[2]};\n\n  &:hover {\n    border-color: ${props => props.theme.colors.midgrey};\n    transform: translateX(5px);\n  }\n`;\n\nclass CardCompact extends PureComponent {\n  render() {\n    return (\n      <StyledCardWrapper\n        onClick={this.props.onClick}\n        onMouseEnter={this.props.onMouseEnter}\n        onMouseLeave={this.props.onMouseLeave}\n      >\n        <CardHeader\n          data={this.props.data}\n          isListMode\n          type='black'\n        />\n      </StyledCardWrapper>\n    );\n  }\n}\n\nexport default CardCompact;\n","import styled from 'styled-components';\n\nexport default styled.a`\n  color: ${props => props.theme.colors.primary};\n  font-weight: 700;\n\n  &:hover {\n    color: ${props => props.theme.colors.textgrey};\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.button`\n  min-width: 142px;\n  width: auto;\n  height: 30px;\n  background-color: ${props => (props.isActive ? '#000' : '#fff')};\n  color: ${props => (props.isActive ? '#fff' : '#000')};\n  transition: background-color .3s;\n  will-change: background-color;\n  border-radius: 0%;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  flex-shrink: 0;\n  font-size: ${props => props.theme.fontSizes[0]};\n  flex-grow: 0;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ${props => (props.isActive ? '#000' : '#f2f2f2')};\n    color: ${props => (props.isActive ? '#fff' : '#000')};\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavIcon from '@material-ui/icons/FavoriteBorder';\nimport UnFavIcon from '@material-ui/icons/Favorite';\n\nimport Button from '~/components/GhostButton';\nimport Link from '~/components/Link';\n\nimport EdgeButtonSmall from '../EdgeButtonSmall';\n\nimport Actions from '~/state/Actions';\nimport { mailTo } from '~/state/dataUtils';\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst StyledA = styled.a`\n  text-decoration: none;\n`;\n\nconst IconWrapper = styled.div`\n  margin-right: 5px;\n\n  svg {\n    height: 18px;\n    width: 18px;\n  }\n`;\n\nconst CardActionsWrapper = styled.div`\n  display: flex;\n  transform: translateX(-7px);\n  justify-content: space-between;\n  padding-bottom: ${props => props.theme.padding[1]};\n`;\n\nconst StyledFavIcon = styled(FavIcon)`\n  font-size: 15px !important;\n  margin-right: 2px;\n  margin-top: -2px;\n`;\n\nconst StyledUnFavIcon = styled(UnFavIcon)`\n  font-size: 15px !important;\n  margin-right: 2px;\n  margin-top: -2px;\n`;\n\nclass CardActions extends PureComponent {\n  render() {\n    const { data, toggleFav, favs } = this.props;\n    const isFav = favs.includes(data.autoid);\n    const favButtonLabel = isFav ? 'aus den Favoriten entfernen' : 'zu den Favoriten';\n\n    return (\n      <CardActionsWrapper>\n        <ButtonWrapper>\n          <StyledA href={mailTo(data.name)}>\n            <EdgeButtonSmall>\n              <IconWrapper>\n                <EditIcon/>\n              </IconWrapper>\n              Änderung melden\n            </EdgeButtonSmall>\n          </StyledA>\n\n          <EdgeButtonSmall\n            onClick={() => {toggleFav(data.autoid)}}\n          >\n            <IconWrapper>\n              {isFav ? <UnFavIcon /> : <FavIcon />}\n            </IconWrapper>\n            {isFav ? \"Aus Favoriten entfernen\" : \"Zu Favoriten\"}\n          </EdgeButtonSmall>\n\n        </ButtonWrapper>\n      </CardActionsWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(CardActions);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport { createMarkup, addLineBreaks } from '~/state/dataUtils';\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[1]};\n  \n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n\n  span.p-text {\n    font-size: ${props => props.theme.fontSizes[1]};\n    padding: ${props => props.theme.padding[0]} 0 0 0;\n    color: black;\n    margin: 0 15px 0 0;\n    line-height: ${props => props.theme.lineHeight};\n    font-family: ${props => props.type == 'bold' ? `${props.theme.fonts.sansBold}` : `${props.theme.fonts.sans}`}\n  }\n`;\n\nclass CardParagraph extends PureComponent {\n\n  render() {\n    let { label, data, type } = this.props;\n\n    if (label == 'Adresse:') {\n      data = addLineBreaks(data);\n    }\n\n    if (data.length > 0) {\n      return (\n        <CardParagraphWrapper type={type}>\n          <span>{label}</span>\n          <span className=\"p-text\" dangerouslySetInnerHTML={createMarkup(data)}></span>\n        </CardParagraphWrapper>\n      )\n    } else {\n      return (null)\n    }\n  }\n}\n\nexport default CardParagraph;\n","import React, { PureComponent, Fragment } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { targetGroupsArraySelector } from '~/state/Selectors';\nimport CategoryLabels from '../CategoryLabels'\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  padding: ${props => props.theme.padding[1]} 0 0 0;\n`;\n\n\nconst CardTagsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n`\n\nclass CardTags extends PureComponent {\n  render() {\n    const { label, targetGroups } = this.props;\n    return (\n      <CardTagsWrapper>\n        <span>{label}</span>\n        <StyledCategoryLabels categories={targetGroups} category={'targetGroup'}/>\n      </CardTagsWrapper>\n\n    )\n  }\n}\n\n\nexport default connect(state => ({\n  targetGroups: targetGroupsArraySelector(state)\n}))(CardTags);","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport WebsiteLink from '~/components/Link';\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n\n  h3 {\n    font-size: ${props => props.theme.fontSizes[1]};\n    padding: ${props => props.theme.padding[0]} 0 0 0;\n    margin: 0 15px 0 0;\n    line-height: ${props => props.theme.lineHeight};\n    font-family: ${props => props.theme.fonts.sansBold};\n    letter-spacing: ${props => props.theme.letterSpacing[1]};\n  }\n`;\n\nfunction formatLink(link) {\n  return link\n    .toLowerCase()\n    .replace(/https?:\\/\\//, '')\n    .replace(/www\\./, '')\n    .replace(/\\/$/, '');\n}\n\nfunction getHref(type, link) {\n  if (type === 'mailto:') {\n    return `mailto:${link}`\n  }\n  if (!link.startsWith('http')) {\n    return 'https://' + link\n  }\n  return link\n}\n\nclass CardLinks extends PureComponent {\n  render() {\n    const { label, links, type } = this.props;\n    return (\n      <CardParagraphWrapper>\n        <span>{label}</span>\n        {links.map(link => (\n          <WebsiteLink key={link} href={getHref(type, link)} target=\"_blank\" rel=\"noopener\">\n            <h3>{formatLink(link)}</h3>\n          </WebsiteLink>\n        ))}\n      </CardParagraphWrapper>\n    )\n  }\n}\n\nexport default CardLinks;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nconst CardLogoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ${props => props.theme.margin[2]};\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey}\n  }\n`;\n\nconst CardImage = styled.div`\n  display: block;\n  width: 120px;\n  height: 70px;\n  background-image: ${props => `url(${props.src.replace(/\\s/g, '%20')})`};\n  background-position: center;\n  background-repeat: no-repeat;\n  margin-left: 2px;\n  background-size: contain;\n`;\n\nclass CardLogo extends PureComponent {\n  render() {\n    const { label, data } = this.props;\n\n    return (\n      <CardLogoWrapper>\n        <span>{label}</span>\n        <CardImage src={data} />\n      </CardLogoWrapper>\n    )\n  }\n}\n\nexport default CardLogo;","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport { getCategoryLabel } from '~/state/dataUtils'\n\n\nconst CardParagraphWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  span {\n    font-size: ${props => props.theme.fontSizes[0]};\n    color: ${props => props.theme.colors.textgrey};\n    margin-bottom: 4px;\n  }\n`\n\nconst CategoryLabelDiv = styled.div`\n  display: block;\n  margin-top: 10px;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: white;\n  position: relative;\n  line-height: 1;\n  background: ${props => (props.color)};\n  width: fit-content;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color || '#000'};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n  }\n`;\n\nconst CategoryLabel = p => {\n  const { colorizer, colorizerLight, category, label } = p;\n  return (\n    <CardParagraphWrapper>\n      <span>{label}</span>\n      <CategoryLabelDiv\n        color={colorizer(category)}\n        colorLight={colorizerLight(category)}\n      >\n      {getCategoryLabel(category)}\n      </CategoryLabelDiv>\n    </CardParagraphWrapper>\n  )\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight\n}))(CategoryLabel);","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport idx from 'idx';\nimport Actions from '~/state/Actions';\n\nimport CardParagraph from './CardParagraph';\nimport CardTags from './CardTags';\nimport CardLinks from './CardLinks';\nimport CardLogo from './CardLogo';\nimport CategoryLabel from '../CategoryLabel';\n\nconst CardBodyWrapper = styled.div`\n  font-size: ${props => props.theme.fontSizes[0]};\n`;\n\nclass CardBody extends PureComponent {\n  render() {\n    const { data } = this.props;\n    const logoUrl = idx(data, _ => _.logo[0].url);\n    const websiteString = idx(data, _ => _.contact[0].website);\n    const websitesArray = websiteString ? websiteString.split(',') : []\n    const email = idx(data, _ => _.contact[0].email);\n    const phone = idx(data, _ => _.contact[0].phone);\n    const openingHours = idx(data, _ => _.contact[0].openinghours);\n    const category = idx(data, _ => _.category);\n\n    return (\n      <CardBodyWrapper className={this.props.className}>\n        { category && <CategoryLabel label='Leistungsangebot:' category={category}></CategoryLabel> }\n        { logoUrl && <CardLogo label='Logo:' data={logoUrl}></CardLogo> }\n        <CardParagraph type=\"bold\" label='Adresse:' data={data.location[0].address}></CardParagraph>\n        { websitesArray.length > 0 && <CardLinks label='Webseite:' links={websitesArray}></CardLinks> }\n        { email && <CardLinks type=\"mailto:\" label='E-Mail:' links={[email]}></CardLinks> }\n        { phone && <CardParagraph type=\"bold\" label='Telefon:' data={phone}></CardParagraph> }\n        { openingHours && <CardParagraph type=\"bold\" label='Öffnungszeiten:' data={openingHours}></CardParagraph> }\n        <CardParagraph label='Beschreibung:' data={data.description}></CardParagraph>\n        <CardTags label=\"Zielgruppen:\"></CardTags>\n      </CardBodyWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  detailData: state.detailData,\n  favs: state.favs\n}), Actions)(CardBody);\n","import styled from 'styled-components';\n\nexport default styled.div`\n  font-family: ${props => props.theme.fonts.sansBold};\n  font-size: ${props => props.theme.fontSizes[4]};\n  font-weight: 600;\n  margin-bottom: ${props => props.theme.margin[2]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-top: ${props => props.theme.padding[0]};\n  line-height: 130%;\n  padding-right: 45px;\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\n\nimport CardActions from './CardActions';\nimport CardWrapper from './CardWrapper';\nimport CardBody from './CardBody';\nimport SidebarTitle from '../../modules/Sidebar/SidebarTitle/';\nimport CategoryLabels from '~/components/CategoryLabels';\nimport Icon from '~/components/Icon';\n\nconst DetailTitle = styled(SidebarTitle)`\n  margin-bottom: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.padding[0]};\n  padding-left: 0;\n\n  svg {\n    margin-right: 10px;\n  }\n`;\n\nconst StyledCategoryLabels = styled(CategoryLabels)`\n  margin-bottom: ${props => props.theme.margin[2]};\n`;\n\nconst DetailHeader = styled.div`\n  display: flex;\n  width: 270px;\n  flex-direction: row;\n`;\n\nconst DetailCardWrapper = styled(CardWrapper)`\n  display: block;\n  flex-direction: column;\n  padding-top: ${props => props.theme.padding[0]};\n  padding-left: ${props => props.theme.padding[1]};\n`;\n\nconst StyledCardBody = styled(CardBody)`\n  padding-top: ${props => props.theme.padding[1]};\n`;\n\nclass DetailCard extends PureComponent {\n  state = {\n    maxHeight: 'auto'\n  }\n\n  componentDidMount() {\n    const maxHeight = window.innerWidth <= 768\n    ? window.innerHeight - 100\n    : Math.max(250, window.innerHeight - 200);\n\n    this.setState({ maxHeight });\n  }\n\n  onClose(evt) {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    this.props.onClose(evt);\n  }\n\n  render() {\n    const { data } = this.props;\n    if (!data) {\n      return null;\n    }\n\n    return (\n      <DetailCardWrapper>\n        <DetailHeader>\n          <DetailTitle>\n          <Icon isHomeschool={data.homeschool} color={data.color}/>\n          {data.name}\n          </DetailTitle>\n        </DetailHeader>\n        <StyledCategoryLabels categories={data.categoriesSelected} category={data.category} /*hasBorder={teaserUrl}*/ />\n        <CardActions data={data} />\n        <StyledCardBody data={data} />\n      </DetailCardWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  favs: state.favs\n}), Actions)(DetailCard);\n","import styled from 'styled-components';\n\nexport default styled.select`\n  width: 100%;\n  background: white;\n  font-family: ${props => props.theme.fonts.sans};\n  height: 35px;\n  border: 3px solid ${props => props.theme.colors.lightgrey};\n  font-size: ${props => props.theme.fontSizes[1]};\n  color: black;\n  border-radius: 0;\n  outline: none;\n`;\n","import styled from 'styled-components';\n\nexport default styled.h3`\n  font-size: ${props => props.theme.fontSizes[1]};\n  font-family: ${props => props.theme.fonts.sansBold};\n  padding: ${props => props.theme.padding[0]} 0 ${props => props.theme.padding[0]} 0;\n  margin: 0 15px 0 0;\n  line-height: ${props => props.theme.lineHeight};\n`;","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport Select from '~/components/Select';\nimport Subtitle from '~/components/Subtitle';\n\n// import SidebarItemTitle from '../SidebarItemTitle';\n\nconst SorterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.margin[0]};\n`;\n\nconst StyledSelect = styled(Select)`\n  margin-bottom: ${props => props.theme.margin[0]};\n\n  option {\n    font-family: 'Verdana';\n    font-size: 12px;\n  }\n`;\n\nclass Sorter extends PureComponent {\n  handleChange = (evt) => {\n    this.props.setListSorting(evt.target.value);\n  }\n\n  render() {\n    return (\n      <SorterWrapper>\n        <Subtitle>Liste sortieren</Subtitle>\n        <StyledSelect onChange={this.handleChange} value={this.props.listSorting}>\n          <option value=\"name\">Name</option>\n          <option value=\"category\">Kategorie</option>\n          <option value=\"isFav\">Favoriten</option>\n        </StyledSelect>\n      </SorterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  listSorting: state.listSorting,\n}), Actions)(Sorter);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport { filteredListDataSelector, dataAsArraySelector } from '~/state/Selectors'\n\nimport CardCompact from '~/components/Card/CardCompact';\nimport DetailCard from '~/components/Card/Detail';\nimport SidebarTitle from '../SidebarTitle';\n\nimport Sorter from './Sorter';\n\nconst ListItems = styled.div``;\n\nclass SidebarList extends PureComponent {\n\n  render() {\n    const {\n      data,\n      setDetailRoute,\n      setHighlightData,\n      selectedData,\n      detailData,\n    } = this.props;\n\n    return (\n      <Fragment>\n        { (selectedData && detailData) && (\n          <DetailCard data={detailData} />\n        ) }\n        { data && !selectedData && (\n          <Fragment>\n            <SidebarTitle><strong>{data.length}</strong> Institutionen gefunden.</SidebarTitle>\n            <Sorter />\n            <ListItems>\n              {data.map((d,i) => (\n                <CardCompact\n                  key={`item-${i}`}\n                  data={d}\n                  onMouseEnter={() => setHighlightData(d)}\n                  onMouseLeave={() => setHighlightData(false)}\n                />\n              ))}\n            </ListItems>\n          </Fragment>\n        )}\n        { (!detailData && selectedData) && (null) }\n      </Fragment>\n    )\n\n  }\n};\n\nexport default connect(state => ({\n  data: filteredListDataSelector(state),\n  selectedData: state.selectedData,\n  detailData: state.detailData\n}), Actions)(SidebarList);\n","import React from 'react';\nimport styled from 'styled-components';\nimport BeBerlinLogoSrc from '!file-loader!~/../public/images/beBerlin.svg'; // eslint-disable-line\n\nconst BeBerlinLogo = styled.a.attrs({\n    href: 'https://www.berlin.de/sen/web/',\n    target: '_blank'\n  })`\n  padding-left: ${props => props.theme.padding[1]};\n\n  img {\n    width: 110px;\n  }\n`;\n\nexport default () => (\n  <BeBerlinLogo>\n    <img src={BeBerlinLogoSrc} alt=\"beBerlin Logo\" />\n  </BeBerlinLogo>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport IBBLogoSrc from '!file-loader!~/../public/images/ibb.jpg'; // eslint-disable-line\n\nconst IBBLogo = styled.a.attrs({\n    href: 'https://www.ibb.de/de/startseite/startseite.html',\n    target: '_blank'\n  })`\n  padding-top: ${props => props.theme.padding[1]};\n\n  img {\n    width: 110px;\n    margin-left: 30px;\n  }\n`;\n\nexport default () => (\n  <IBBLogo>\n    <img src={IBBLogoSrc} alt=\"IBB Logo\" />\n  </IBBLogo>\n);","import styled from 'styled-components';\n\nexport default styled.p`\n  padding-left: ${props => props.theme.padding[1]};\n  line-height: ${props => props.theme.lineHeight};\n  font-size: ${props => props.theme.fontSizes[1]};\n  color: ${props => props.theme.colors.primary};\n  margin-bottom: ${props => props.theme.margin[1]};\n`;\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport Actions from '~/state/Actions';\n\nconst LinksWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n\nclass SidebarLinks extends PureComponent {\n  render() {\n    const { data } = this.props\n    return (\n      <LinksWrapper>\n        { data.map((d,i) => {\n          const LinkWrapper = styled.a.attrs({\n              href: `${d.urllink}`,\n              target: '_blank'\n            })`\n            margin-bottom: ${props => props.theme.margin[1]};\n            padding-left: ${props => props.theme.padding[1]};\n            font-size: ${props => props.theme.fontSizes[1]};\n            color: black;\n            font-family: ${props => props.theme.fonts.sansBold};\n\n            &:hover {\n              color: ${props => props.theme.colors.textgrey};\n            }\n          `;\n\n          return (\n            <LinkWrapper key={`link-${i}`}>{d.labellink}</LinkWrapper>\n          )\n\n        }\n        ) }\n      </LinksWrapper>\n    )\n  }\n}\n\nexport default connect(state => ({\n  content: state.content\n}), Actions)(SidebarLinks);","import styled from 'styled-components';\n\nexport default styled.div`\n  font-family: ${props => props.theme.fonts.sansBold};\n  font-size: ${props => props.theme.fontSizes[3]};\n  font-weight: 600;\n  letter-spacing: .5px;\n  margin-bottom: ${props => props.theme.margin[1]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-top: ${props => props.theme.padding[0]};\n  line-height: 1;\n  padding-right: 45px;\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport regular from '!file-loader!~/../public/images/edutech-regular.svg'; // eslint-disable-line\nimport homeschoolIcon from '!file-loader!~/../public/images/edutech-homeschool.svg'; // eslint-disable-line\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\n\nimport Paragraph from '~/components/Paragraph';\nimport { createMarkup } from '~/state/dataUtils';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LegendWrapper = styled.div`\n  display: flex;\n  padding-left: ${props => props.theme.padding[1]};\n  img {\n    margin-right: 10px;\n    min-width: 15px;\n    width: 15px;\n    ${'' /* transform: translateY(2px); */}\n  }\n\n  span {\n    line-height: 160%;\n    font-size: 14px;\n  }\n`;\n\nconst IconLegend = p => {\n  const { content, isVisible } = p;\n  const { homeschool } = content;\n  return (\n    <>\n      {isVisible && (\n        <>\n        <Paragraph dangerouslySetInnerHTML={createMarkup(homeschool)}></Paragraph>\n        <LegendWrapper>\n          <img src={regular} />\n          <span>Reguläres Angebot</span>\n        </LegendWrapper>\n        <LegendWrapper>\n          <img src={homeschoolIcon} />\n          <span>Schulfrei-Angebote</span>\n        </LegendWrapper>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default connect(state => ({\n  content: state.content,\n}), Actions)(IconLegend);","import React, { useState, Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport { createMarkup } from '~/state/dataUtils';\nimport Actions from '~/state/Actions';\n\nimport SidebarSubtitle from '../SidebarSubtitle/';\nimport Paragraph from '~/components/Paragraph';\nimport IconLegend from '~/components/IconLegend';\n\n\nconst SidebarInfoParagraph = p => {\n  const { title, intro, text, id, active, iconLegend } = p;\n  const boolActive = id === active;\n  return (\n    <>\n      {title && <SidebarSubtitle>{title}</SidebarSubtitle>}\n      <IconLegend isVisible={iconLegend} />\n      <Paragraph dangerouslySetInnerHTML={createMarkup(intro)}></Paragraph>\n      { boolActive && (<Paragraph if={boolActive} dangerouslySetInnerHTML={createMarkup(text)}></Paragraph>) }\n    </>\n  )\n}\n\nexport default connect(state => ({\n  content: state.content\n}), Actions)(SidebarInfoParagraph);\n","import React, { Fragment } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport { createMarkup } from '~/state/dataUtils';\n\nimport Logo from '~/components/BeBerlinLogo';\nimport LogoIBB from '~/components/IBBLogo';\nimport Paragraph from '~/components/Paragraph';\nimport SidebarTitle from '../SidebarTitle';\nimport SidebarLinks from './SidebarInfoLinks';\n\nimport SidebarInfoParagraph from './SidebarInfoParagraph';\n\nconst Separator = styled.div`\n  width: 100%;\n  height: ${props => props.theme.margin[2]};\n`;\n\n\nconst SidebarInfo = (p) => {\n  const { content, activeP } = p;\n\n  if (content) {\n    return (\n      <Fragment>\n        <SidebarTitle>EduTechMap Berlin</SidebarTitle>\n        <SidebarInfoParagraph\n          iconLegend={true} \n          title={content.worktitle}\n          text={content.work}\n          intro={content.workintro}\n          active={activeP}\n          id={0}\n        ></SidebarInfoParagraph>\n\n        <Separator />\n        \n        <Logo/>\n        <LogoIBB/>\n        <Paragraph dangerouslySetInnerHTML={createMarkup(content.contacttext)}></Paragraph>\n        <SidebarLinks data={content.links}/>\n      </Fragment>\n    )\n  } else {\n    return (\n      <Fragment>\n        <SidebarTitle>EduTechMap Berlin</SidebarTitle>\n        <Paragraph>Lade Inhalte ...</Paragraph>\n      </Fragment>\n    )\n  }\n};\n\nexport default connect(state => ({\n  content: state.content,\n  activeP: state.activeP,\n}), Actions)(SidebarInfo);\n","import React, { PureComponent, Fragment } from \"react\";\nimport { connect } from \"unistore/react\";\nimport Actions from \"~/state/Actions\";\nimport styled from \"styled-components\";\n\nimport { favoritesSelector } from \"~/state/Selectors\";\n\nimport CardCompact from \"~/components/Card/CardCompact\";\nimport DetailCard from \"~/components/Card/Detail\";\nimport Paragraph from \"~/components/Paragraph\";\n\nimport SidebarTitle from \"../SidebarTitle\";\n\nconst ListItems = styled.div``;\n\nconst StyledEmptyFavorites = styled.div`\n  margin-left: ${(props) => props.theme.margin[0]};\n`;\n\nconst EmptyFavorites = () => (\n  <StyledEmptyFavorites>Noch keine Favoriten vorhanden.</StyledEmptyFavorites>\n);\n\nclass SidebarList extends PureComponent {\n  handleClick = (d) => {\n    const { setDetailRoute, setSelectedData } = this.props;\n    setDetailRoute(d.autoid);\n    setSelectedData(true);\n    setHighlightData(d)\n  };\n\n  render() {\n    const { data, selectedData, detailData } = this.props;\n\n    return (\n      <Fragment>\n        {data && selectedData && detailData && <DetailCard data={detailData} />}\n        {data && !selectedData && (\n          <Fragment>\n            <SidebarTitle>Favoriten</SidebarTitle>\n            <Paragraph>\n              Bitte beachten Sie, dass wir aus Datenschutzgründen keine Daten\n              speichern. Gespeicherte Favoriten werden lediglich lokal im Cache\n              ihres Browsers hinterlegt. Sobald Sie diesen leeren, werden Ihre\n              Favoriten gelöscht.\n            </Paragraph>\n            <ListItems>\n              {!data.length && <EmptyFavorites />}\n              {data.map((d, i) => (\n                <CardCompact\n                  onClick={() => this.handleClick(d)}\n                  key={`card-compact-key-${i}`}\n                  data={d}\n                />\n              ))}\n            </ListItems>\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    data: favoritesSelector(state),\n    selectedData: state.selectedData,\n    detailData: state.detailData,\n  }),\n  Actions\n)(SidebarList);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { /*hasFilterSelector,*/ initialFilterSelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\n\nimport GhostButton from '~/components/GhostButton';\n\nconst ResetFilterButtonWrapper = styled.div`\n  height: 15px;\n  padding-left: ${props => props.theme.padding[1]};\n  margin-bottom: ${props => props.theme.margin[1]};\n`;\n\nconst ResetFilterButton = styled(GhostButton)`\n  display: block;\n  color: #E60032;\n`;\n\nclass ResetFilter extends PureComponent {\n  render() {\n    const { initialFilter } = this.props;\n    const hasFilter = true;\n\n    return (\n      <ResetFilterButtonWrapper>\n        {hasFilter && (\n          <ResetFilterButton\n            onClick={ () => {\n              this.props.setDetailData(false);\n              this.props.setFilter(initialFilter);\n            }}\n          >\n          × Alle Filter Zurücksetzen\n          </ResetFilterButton>\n        )}\n      </ResetFilterButtonWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  // hasFilter: hasFilterSelector(state),\n  initialFilter: initialFilterSelector(state)\n}), Actions)(ResetFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\nimport Select from 'react-select';\n\nimport { dataAsArraySelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\n\nconst SearchFilterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  font-size: ${props => props.theme.fontSizes[1]};\n  padding-left: ${props => props.theme.padding[1]};\n  padding-right: ${props => props.theme.margin[1]};\n  font-family: ${props => props.theme.fonts.sans};\n\n  .rs__clear-indicator {\n    cursor: pointer;\n  }\n`;\n\nclass SearchFilter extends PureComponent {\n  componentDidUpdate(prevProps) {\n  }\n\n  onChange(item) {\n    this.props.setHighlightData(item);\n    this.props.setDetailRoute(item ? item.autoid : false);\n    this.props.setDetailRouteWithListPath(item.autoid);\n    this.props.setSelectedData(true);\n  }\n\n  render() {\n    return (\n      <SearchFilterWrapper>\n        <Select\n          ref={(ref) => { this.select = ref; }}\n          options={this.props.options}\n          getOptionValue={option => (option.name)} // set option.standort.initialAddress here later\n          getOptionLabel={option => (`${option.name} | ${option.location[0].address}`)} // set option.name here later\n          onChange={item => this.onChange(item)}\n          placeholder=\"Nach einer Einrichtung suchen...\"\n          classNamePrefix=\"rs\"\n          isClearable\n        />\n      </SearchFilterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  options: dataAsArraySelector(state),\n  // detailData: state.detailData\n}), Actions)(SearchFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n\nimport { getSubCategoryLabel } from '~/state/dataUtils';\nimport { tagsCountSelector } from '~/state/Selectors';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: ${ props => props.theme.margin[2]};\n\n  &::last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: ${ props => props.active ? 'white' : `${props.color}` };\n  position: relative;\n  line-height: 1;\n  background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n  cursor: pointer;\n  transition: all .125s ease-in-out;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${props => props.color};\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n    transition: all .125s ease-in-out;\n  }\n`;\n\nclass SubCategoryTags extends PureComponent {\n\n  onChange(subCat) {\n    const { category, toggleSubCategoryFilter, setActiveFilter, subCategoryFilter } = this.props;\n    toggleSubCategoryFilter(category, subCat);\n    setActiveFilter('category');\n  }\n\n  render() {\n    const {\n      categories,\n      colorizer,\n      colorizerLight,\n      type,\n      className,\n      activeFilter,\n      setActiveFilter,\n      category,\n      filter,\n      tagsCount,\n    } = this.props;\n\n    const { subCategoryFilter } = filter;\n\n    return (\n        <CategoryLabelWrapper className={className}>\n          {categories.map(subCategory => {\n            const count = tagsCount[subCategory] === undefined ? '0' : tagsCount[subCategory];\n            if ( count > 0 ) {\n              return (\n                <CategoryLabel\n                  key={`CategoryLabel__${subCategory}`}\n                  color={colorizer(category)}\n                  active={subCategoryFilter[category].includes(subCategory)}\n                  onClick={() => this.onChange(subCategory)}\n                  colorLight={colorizerLight(category)}\n                >\n                  { getSubCategoryLabel(category, subCategory) }\n                  { tagsCount && (` (${count})`) }\n                </CategoryLabel>\n              )\n            }\n          })}\n        </CategoryLabelWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  colorizer: state.colorizer,\n  tagsCount: tagsCountSelector(state),\n  colorizerLight: state.colorizerLight,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(SubCategoryTags);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { getCategoryLabel } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport SubCategoryTags from '~/components/SubCategoryTags'\n\nimport Actions from '~/state/Actions';\n\nimport CategoryLabel from '~/components/CategoryLabel';\n\nconst CategoryFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  height: fit-content;\n`;\n\nconst StyledFormGroup = styled(FormGroup)`\n  opacity: ${p => p.active === 'category' ? 1 : .5};\n`;\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book',\n  },\n})(FormControlLabel);\n\n\nclass CategoryFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      service: true,\n      media: true,\n      app: true,\n      hardware: true,\n    }\n  }\n\n  onChange(category) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleCategoryFilter(category);\n    this.setState({\n      [category]: !this.state[category]\n    })\n    setActiveFilter('category')\n  }\n\n  handleClick() {\n    setActiveFilter('category')\n  }\n\n  render() {\n    const { categories, subCategoryList, filter, activeFilter, setActiveFilter } = this.props;\n\n    return (\n      <StyledFormGroup active={activeFilter} aria-label=\"position\" row>\n      { categories.map((category,i) => {\n        return (\n          <CategoryFilterWrapper key={`CategoryFilter__${i}__${category}`}>\n            <StyledFormControlLabel\n              value={category}\n              color=\"green\"\n              checked={filter.categoryFilter.includes(category)}\n              onClick={() => {this.onChange(category)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={<CategoryLabel label={() => { getCategoryLabel(category) }} category={category} color=\"default\"/>} // getCategoryLabel(category)\n              labelPlacement=\"end\"\n            />\n            { filter.categoryFilter.includes(category) &&\n              <SubCategoryTags\n                categories={ subCategoryList[category] }\n                key={`SubCategoryTags__${i}__${category}`}\n                category={category}\n              />\n            }\n          </CategoryFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  categories: state.categories,\n  subCategoryList: state.subCategoryList,\n  colorizer: state.colorizer,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(CategoryFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n\nimport { getTargetGroupLabel } from '~/state/dataUtils';\nimport { tagsCountTargetGroupSelector } from '~/state/Selectors';\n\nconst CategoryLabelWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  opacity: ${p => p.active === 'target' ? 1 : .5};\n  margin-bottom: ${ props => props.theme.margin[2]};\n\n  &::last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nconst CategoryLabel = styled.div`\n  display: block;\n  font-size: ${props => props.theme.fontSizes[0]};\n  margin: 0 5px 5px 0;\n  padding: 7px 10px 6px 24px;\n  border-radius: 12px;\n  color: ${ props => props.active ? 'white' : `${props.color}` };\n  position: relative;\n  line-height: 1;\n  background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n  cursor: pointer;\n  transition: all .125s ease-in-out;\n\n  &:before {\n    content: '';\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    background: ${ props => props.active ? `${props.color}` : `${props.colorLight}` };\n    border-radius: 100%;\n    border: 2px solid ${props => props.type == 'black' ? 'black' : 'white'};\n    left: ${props => (props.hasBorder ? '3px' : \"7px\")};\n    top: ${props => (props.hasBorder ? '3px' : '6px')};\n    transition: all .125s ease-in-out;\n  }\n`;\n\nclass TargetGroupTags extends PureComponent {\n\n  onChange(groupTag) {\n    const { targetGroupType, toggleTargetGroupTagFilter, activeFilter, setActiveFilter } = this.props;\n    toggleTargetGroupTagFilter(targetGroupType, groupTag);\n    setActiveFilter('target');\n  }\n\n  render() {\n    const {\n      targetGroupTypes,\n      colorizer,\n      targetGroups,\n      colorizerLight,\n      type,\n      className,\n      targetGroupType,\n      filter,\n      activeFilter,\n      tagsCountTargetGroup\n    } = this.props;\n\n    const { targetGroupTagsFilter } = filter;\n\n    return (\n        <CategoryLabelWrapper active={activeFilter} className={className}>\n          {targetGroups.map(t => {\n\n            if (tagsCountTargetGroup) {\n\n              if (tagsCountTargetGroup[targetGroupType]) {\n\n                if (tagsCountTargetGroup[targetGroupType][t] > 0) {\n                  return (\n                    <CategoryLabel\n                    key={`CategoryLabel__${t}`}\n                    color={'#000000'}\n                    active={targetGroupTagsFilter[targetGroupType].includes(t)}\n                    onClick={() => this.onChange(t)}\n                    colorLight={'#E3E3E3'}\n                  >\n                    { getTargetGroupLabel(targetGroupType, t) + ` (${tagsCountTargetGroup[targetGroupType][t]})` }\n                  </CategoryLabel>\n                  )\n                }\n              }\n\n            }\n\n          })}\n        </CategoryLabelWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  targetGroupTypes: state.targetGroupTypes,\n  colorizer: state.colorizer,\n  colorizerLight: state.colorizerLight,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n  tagsCountTargetGroup: tagsCountTargetGroupSelector(state),\n}), Actions)(TargetGroupTags);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { styled as styledUi, withStyles } from '@material-ui/core/styles';\n\nimport { getTargetGroupType, targetGroups } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TargetGroupTags from '~/components/TargetGroupTags'\n\nimport Actions from '~/state/Actions';\n\nconst TargetGroupFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  opacity: ${p => p.active === 'target' ? 1 : .5};\n`;\n\nconst StyledFormGroup = withStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n})(FormGroup)\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book'\n  },\n})(FormControlLabel);\n\n\n\nclass CategoryFilter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(type) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleTargetGroupTypeFilter(type);\n    setActiveFilter('target');\n  }\n\n  render() {\n    const { targetGroupTypes, filter, activeFilter, setActiveFilter } = this.props\n    return (\n      <StyledFormGroup aria-label=\"position\" row>\n      { targetGroupTypes.map((type,i) => {\n        return (\n          <TargetGroupFilterWrapper active={activeFilter} key={`TargetGroupFilter__${i}__${type}`}>\n            <StyledFormControlLabel\n              value={type}\n              checked={filter.targetGroupFilter.includes(type)}\n              onClick={() => {this.onChange(type)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={getTargetGroupType(type)}\n              labelPlacement=\"end\"\n            />\n            { filter.targetGroupFilter.includes(type) &&\n              <TargetGroupTags\n                targetGroups={ targetGroups[type] }\n                key={`TargetGroupsTags__${i}__${type}`}\n                targetGroupType={type}\n              />\n            }\n          </TargetGroupFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  targetGroupTypes: state.targetGroupTypes,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(CategoryFilter);","import styled from 'styled-components';\n\nconst CardDivider = styled.div`\n  margin: ${props => props.theme.margin[0]} 0;\n  border-top: 1px solid #ddd;\n`;\n\nexport default CardDivider;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport Actions from '~/state/Actions';\n// import SidebarItemTitle from '~/modules/Sidebar/SidebarItemTitle';\nimport Select from '~/components/Select';\n\nconst DistrictFilterWrapper = styled.div`\n  margin-bottom: ${props => props.theme.margin[2]};\n  opacity: ${p => p.active === 'district' ? 1 : .5};\n`;\n\nconst StyledOption = styled.option`\n  font-family: 'Verdana';\n  font-size: 12px;\n`;\n\nconst Option = (props) => {\n  const label = props.properties.alias;\n  const value = props.properties.id;\n  const count = props.properties.count;\n\n  return (\n    <StyledOption\n      key={`DistrictOption__${value}`}\n      value={value}\n    >\n      {label} ({count})\n    </StyledOption>\n  );\n};\n\nclass DistrictFilter extends PureComponent {\n  onChange(evt) {\n    const { setActiveFilter } = this.props;\n    setActiveFilter('district');\n    let { value } = evt.target;\n    if (evt.target.value === 'none') value = false;\n    this.props.setDistrictFilter(value);\n  }\n\n  handleClick() {\n    const { setActiveFilter } = this.props;\n    setActiveFilter('district')\n  }\n\n  render() {\n    const { districts, selectedDistrict, data, activeFilter, setActiveFilter } = this.props;\n\n    if (!districts || !data) {\n      return null;\n    }\n\n    let selectValue = !selectedDistrict ? 'none' : selectedDistrict;\n\n    if (activeFilter != 'district') {\n      selectValue = 'none';\n    }\n\n    return (\n      <DistrictFilterWrapper onClick={() => { this.handleClick() }} active={activeFilter}>\n        <Select value={selectValue} onChange={evt => this.onChange(evt)}>\n          <StyledOption key=\"DistrictOption__All\" value=\"none\">\n            Alle Bezirke\n          </StyledOption>\n          {data.map((feat, i) => {\n            return (\n              <Option key={`DistrictOption__${feat.properties.alias}`} {...feat} />\n            )\n            })}\n        </Select>\n      </DistrictFilterWrapper>\n    );\n  }\n}\n\nexport default connect(state => ({\n  districts: state.additionalData.districts,\n  activeFilter: state.activeFilter,\n  selectedDistrict: state.filter.districtFilter,\n}), Actions)(DistrictFilter);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { getHomeschoolType, targetGroups } from '~/state/dataUtils';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Actions from '~/state/Actions';\n\nconst TargetGroupFilterWrapper = styled.div`\n  margin-left: ${props => props.theme.margin[0]};\n  opacity: ${p => p.active === 'homeschool' ? 1 : .5};\n`;\n\nconst StyledFormGroup = withStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n})(FormGroup)\n\nconst StyledCheckbox = withStyles({\n  root: {\n    color: 'black',\n  },\n  checked: {\n    color: '#1f1f1f'\n  },\n})(Checkbox);\n\nconst StyledFormControlLabel = withStyles({\n  label: {\n    fontSize: '13px',\n    fontFamily: 'Clan Book'\n  },\n})(FormControlLabel);\n\n\n\nclass HomeschoolFilter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(type) {\n    const { setActiveFilter } = this.props;\n    this.props.toggleHomeschoolFilter(type);\n    setActiveFilter('homeschool');\n  }\n\n  render() {\n    const { homeschoolTypes, filter, activeFilter, setActiveFilter } = this.props\n    return (\n      <StyledFormGroup aria-label=\"position\" row>\n      { homeschoolTypes.map((type,i) => {\n        return (\n          <TargetGroupFilterWrapper active={activeFilter} key={`HomeSchoolFilter__${i}__${type}`}>\n            <StyledFormControlLabel\n              value={type}\n              checked={filter.homeschoolFilter.includes(type)}\n              onClick={() => {this.onChange(type)}}\n              control={<StyledCheckbox color=\"default\"/>}\n              label={getHomeschoolType(type)}\n              labelPlacement=\"end\"\n            />\n          </TargetGroupFilterWrapper>\n        )\n      }) }\n      </StyledFormGroup>\n    )\n  }\n}\n\nexport default connect(state => ({\n  homeschoolTypes: state.homeschoolTypes,\n  filter: state.filter,\n  activeFilter: state.activeFilter,\n}), Actions)(HomeschoolFilter);\n","import React, { PureComponent, Fragment, useState } from 'react';\nimport { connect } from 'unistore/react';\nimport Actions from '~/state/Actions';\nimport styled from 'styled-components';\n\nimport ResetFilter from './ResetFilter';\nimport SidebarTitle from '../SidebarTitle';\nimport SearchFilter from './SearchFilter';\nimport CategoryFilter from './CategoryFilter';\nimport TargetGroupFilter from './TargetGroupFilter';\nimport DetailCard from '~/components/Card/Detail';\nimport CardDivider from '~/components/Card/CardDivider';\nimport SidebarSubtitle from '~/modules/Sidebar/SidebarSubtitle';\nimport DistrictFilter from './DistrictFilter';\nimport HomeschoolFilter from './HomeschoolFilter';\n// import LocationFilter from './LocationFilter';\n\nconst StyledDivider = styled(CardDivider)`\n  margin: 30px 0;\n  transform: translateX(-15px);\n  width: 375px;\n  border-top: 1px solid #ddd;\n`;\n\n\nconst SidebarFilter = p => {\n\n    const { selectedData, detailData, instPerDistrict, isLoading } = p;\n    const [active, setActive] = useState(0)\n\n    return (\n      <Fragment>\n        { (selectedData && detailData && instPerDistrict) && (\n          <DetailCard data={detailData}/>\n        )}\n        { !selectedData && !isLoading && (\n        <Fragment>\n          <SidebarTitle>\n            Suche\n          </SidebarTitle>\n          <ResetFilter />\n          <SearchFilter />\n          <StyledDivider />\n          <SidebarSubtitle>Leistungsangebot</SidebarSubtitle>\n          <CategoryFilter active={active} />\n          <StyledDivider />\n          <SidebarSubtitle>Bezirk</SidebarSubtitle>\n          <DistrictFilter active={active} data={instPerDistrict}/>\n          <StyledDivider />\n          <SidebarSubtitle>Zielgruppe</SidebarSubtitle>\n          <TargetGroupFilter active={active} />\n          <StyledDivider />\n          <SidebarSubtitle>Schulfrei-Angebote</SidebarSubtitle>\n          <HomeschoolFilter active={active} />\n        </Fragment>\n        )}\n        { (!detailData && selectedData) && (null) }\n      </Fragment>\n    );\n}\n\nexport default connect(state => ({\n  selectedData: state.selectedData,\n  detailData: state.detailData,\n  instPerDistrict: state.instPerDistrict,\n}), Actions)(SidebarFilter);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { Route, withRouter, Switch } from 'react-router-dom';\n\nimport SidebarClose from './SidebarClose';\n\nimport SidebarList from './SidebarList';\nimport SidebarInfo from './SidebarInfo';\nimport SidebarFavorites from './SidebarFavorites';\nimport SidebarFilter from './SidebarFilter';\n\nconst SidebarWrapper = styled.div`\n  display: block;\n  background: #ffffff;\n  display: flex;\n  box-shadow: ${props => (props.isVisible ? props.theme.boxShadow : 'none')};\n  z-index: 1;\n  flex-direction: column;\n  position: absolute;\n  transform: ${props => (props.isVisible ? 'translate3d(0, 0, 0)' : 'translate3d(calc(-100% - 15px), 0, 0)')};\n  transition: transform .5s, box-shadow .5s;\n  overflow: auto;\n  height: calc((100vh - 0px) - 24px);\n  margin: 12px;\n  max-width: 370px;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: hidden;\n\n  @media screen and (max-width: 600px) {\n    z-index: 10000;\n    max-width: calc(100% - 24px);\n  }\n`;\n\nconst SidebarContent = styled.div`\n  min-width: 280px;\n  max-width: 370px;\n  padding: 20px 15px;\n`;\n\nclass Sidebar extends PureComponent {\n    render() {\n      return (\n            <Route\n                path={['/liste', '/suche', '/favoriten', '/info']}\n                children={({ match }) => (\n                    <SidebarWrapper isVisible={match}>\n                        <SidebarClose />\n                        <SidebarContent>\n                          <Switch>\n                            <Route path=\"/suche\" component={SidebarFilter} />\n                            <Route path=\"/liste\" component={SidebarList} />\n                            <Route path=\"/favoriten\" component={SidebarFavorites} />\n                            <Route path=\"/info\" component={SidebarInfo} />\n                          </Switch>\n                        </SidebarContent>\n                    </SidebarWrapper>\n                )}\n            />\n      )\n    }\n}\n\nexport default withRouter(Sidebar);","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { withRouter } from 'react-router-dom';\nimport { piwik } from '~/state/dataUtils';\n\nimport Theme from '~/styles/DefaultTheme';\n\nimport Map from '~/modules/Map';\nimport Spinner from '~/components/Spinner';\nimport Nav from '~/components/Nav';\nimport Sidebar from '~/modules/Sidebar';\n\nconst StyledAppWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  display: flex;\n  font-family: ${props => props.theme.fonts.sans};\n`;\n\nconst muiTheme = createMuiTheme({\n  typography: {\n    fontFamily: \"Clan Medium\"\n  }\n});\n\nclass AppWrapper extends PureComponent {\n  componentDidMount() {\n    var _paq = [];\n    _paq.push([\"setCookieDomain\", \"*.edutech.technologiestiftung-berlin.de\"]);\n    _paq.push(['trackPageView']);\n    _paq.push(['enableLinkTracking']);\n    piwik(_paq)\n    window._paq = _paq;\n  }\n\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <MuiThemeProvider theme={muiTheme}>\n        <ThemeProvider theme={Theme}>\n          <StyledAppWrapper>\n            <Nav />\n            <Sidebar />\n            <Map />\n            <Spinner loading={isLoading}/>\n          </StyledAppWrapper>\n        </ThemeProvider>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default withRouter(connect(state => ({\n  isLoading: state.isLoading,\n  data: state.data\n}))(AppWrapper));\n","import React, { Component } from 'react';\nimport {\n  Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\n\nimport { connect } from 'unistore/react';\nimport history from '~/history';\n\nimport Actions, { loadEntryData } from '~/state/Actions';\nimport AppWrapper from './AppWrapper';\nimport Store from '~/state/Store';\nimport queryString from 'query-string';\n\nconst loadEntryDataAction = Store.action(loadEntryData(Store));\n\nfunction syncLocation(state, location) {\n  const parsedQuery = queryString.parse(location.search);\n\n  if (!parsedQuery.location) {\n    return {\n      detailData: false,\n      selectedData: false\n    };\n  }\n\n  loadEntryDataAction(parsedQuery.location);\n\n  return {};\n\n}\n\nconst updateLocation = Store.action(syncLocation);\n\nhistory.listen(location => updateLocation(location));\n\nsetTimeout(() => {\n  updateLocation(history.location);\n}, 1500);\n\n\nconst NotFoundRoute = () => (\n  <Redirect to=\"/\" />\n);\n\nclass App extends Component {\n  componentDidMount() {\n    setTimeout(() => {\n      history.push('/info');\n    }, 1800);\n  }\n\n  render() {\n    return (\n      <Router history={history}>\n        <Switch>\n          <Route exact path={['/', '/suche', '/analyse', '/liste', '/favoriten', '/info']} component={AppWrapper} />\n          <Route component={NotFoundRoute} />\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default connect(\n  state => state,\n  Actions\n)(App);\n","import styledNormalize from 'styled-normalize';\nimport { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  ${styledNormalize}\n\n  @font-face {\n      font-family: 'Clan Bold';\n      src: url('../../public/fonts/clanot-bold-webfont.woff') format('woff');\n      font-weight: 800;\n      font-style: normal;\n  }\n\n  @font-face {\n      font-family: 'Clan Medium';\n      src: url('../../public/fonts/clanot-medium-webfont.woff') format('woff');\n      font-weight: 600;\n      font-style: normal;\n  }\n\n  @font-face {\n      font-family: 'Clan Book';\n      src: url('../../public/fonts/clanot-book-webfont.woff') format('woff');\n      font-weight: 400;\n      font-style: normal;\n  }\n\n\n  mapboxgl-ctrl-logo {\n    display: none;\n  }\n\n  .mapbox-improve-map {\n      display: none;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  .bold {\n    font-family: 'Clan Bold';\n    font-weight: 800;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    position: relative;\n    font-family: 'Clan Medium';\n  }\n\n  .category-label {\n    display: block;\n    margin-top: 10px;\n    font-size: 12px;\n    margin: 10px 0px 0;\n    padding: 7px 10px 6px 24px;\n    border-radius: 12px;\n    color: white;\n    position: relative;\n    line-height: 1;\n    background: black;\n    width: fit-content;\n\n    &:before {\n      content: '';\n      position: absolute;\n      height: 8px;\n      width: 8px;\n      background: #000;\n      border-radius: 100%;\n      border: 2px solid white;\n      left: 7px;\n      top: 6px;\n    }\n\n    &.yellow {\n      background: #DCC82D;\n\n      &:before {\n        background: #DCC82D;\n      }\n    }\n\n    &.green {\n      background: #41B496;;\n\n      &:before {\n        background: #41B496;;\n      }\n    }\n\n    &.blue {\n      background: #1E3791;\n\n      &:before {\n        background: #1E3791;\n      }\n    }\n\n    &.red {\n      background: #E60032;\n\n      &:before {\n        background: #E60032;\n      }\n    }\n  }\n`;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unistore/react';\n\nimport Store from '~/state/Store';\nimport App from '~/modules/App';\nimport GlobalStyles from '~/styles/Global';\n\nconst root = document.createElement('div');\n\nReactDOM.render(\n  <Provider store={Store}>\n    <Fragment>\n      <GlobalStyles />\n      <App />\n    </Fragment>\n  </Provider>,\n  root\n);\n\ndocument.body.appendChild(root);\n"],"sourceRoot":""}